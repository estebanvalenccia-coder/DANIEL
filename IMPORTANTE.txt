1. NO OLVIDAR NI UNA IA.
2.NO OLVIDAR APIS, ES MAS , SI PUEDES GENERAR MAS VALE,
3.NO PUEDES OLVIDAR SU RED NEURONAL SU CEREBRO Y TODO LO QUE SERIA.
4. NO PUEDES OLVIDAR TODO SUS BOTONES: - WHATSAPP. - UBICACION - DIAGNOSTICO (ESTETOSCOPIO) - CHATBOX- BOTON DE ENVIAR QUE FUNCIONE CON ENTER- NO OLVIDAR EL BOTON DE ADJUNTAR FOTOS  (QUE ES UN MAS)  NO OLVIDAR EL ESCANER A TIEMPO REAL DE PLANYTAS QUE TRABAJARA CON APIS REALES Y IAS INTERNAS ,
5. NO OLVIDARA QUE EL MICROFONO ES TIPO WALKIE TALKIE, AL PRESIONAR FUNCIONA Y AUTOMATICAMENTE TRASCRIBE A TIEMPO REAL.  CADA FUNCION TIERNE SU PROPIA IA...
6. NO OLVIDAR QUE LAS IAS APRENDAN POR SI SOLAS REGULADAS POR MI Y POR PEQUE√ëO SISTEMA DE IA NEURONALES QUE LE SERAN COMO SU CONCIENCIA Y RAZONAMIENTO. 
7. NO OLVIDARAS QUE PUEDEN REPRODUCIRSE CONTROLADAMENTE  SEMIAUTOMAITCO POR MI Y POR LA IA DE CONCIENCIA, TODO LO CONTROLARE YO, 
8. IAS QUE PROTEGEN SU SISTEMA CUIDAN DE MALWARES, CUIDAN COMO LOS GLOBULOS BLANCOS, IAS QUE ME AYUDARAN A GESTIONAR ESTE PROGRAMA SIN YO SABER MUCHO PROGRAMAR TAMBIEN SE HARAN CARGOS DE LOS IMPUTS MALINTENCIONADOS, VIRUS, Y TODO CON RESPECTO A ESTO.
9. NO OLVIDARAS QUE EN EL CHAT ABAJO POR EL CHAT BOX Y DONDE ESTAN LOS DEMAS BOTONES HABRA UN SELECTOR DE IDIOMAS, CUAL TRADUCIRA TODO EN SU MOMENTO Y HASTA LA VOZ SE CAMBIARA AL IDIOMA SOLICITADO, TRADUCIRA LAS CONVERSACIONES NUEVAS Y VIEJAS, LOS BOTONES, EL SALUDO DE HERENCIA.
10. LA IA PRINCIPAL LLAMADA : Herenc(IA) siempre se presenta y saluda muy dulcemente y amanblemente, se despide en caso tal o agradece, es capaz al igual de seguir la conversaci√≥n como un humano, aprendera sola, guardara informaciomn, recordara, se alimentara sus conocimientos por apis de internet, y por un feeder que hay en el dev men√∫.
11. NUNCA OLVIDARAS QUE EL LOGO DE HERENCIA IRIA DONDE LO TIENE PUESTO LOS PROTOTIPOS ENVIADOS.
12. SIEMPRE TENDRE EL CONTROL NINGUNA IA  O RED NEURONAL PODRA QUITARME EL CONTROL ESTA PROHIBIDO, EL CODIGO NO SE PUEDE CAMBIAR NI DESTRUIR SOLO HACERSE MAS GRANDE Y MAS GRANDE CON MEJORAS, SOLO YO TENGO EL PODER DE TUMBAR TODA LA APLICACION EN CASO DE EMRGENCIA, CON UN CODIGO DE SEGURIDAD. QUE YO ELIGIRE EN DEV MENU.
13.TODO SUS BOTONES SON 100% FUNCIONALES, TODO DE HERENCIA SUS IAS SU APRENDISAJE COMPORTAMBIENTO SERA REAL NO SERA SIMULADO, 
NADA SERA SIMULADO.
14.SIEMPRE ABAJO DEL TODO HABRA MI FIRMA. Created: Herenc(IA)- HERENCIA. BY: VALENCIA BRAVO D.E (Y ABAJO DE ESTO COMO SLOGAN: HERENCIA DE NUESTRAS RAICES) SIEMPRE VERIFICAR LA ORTOGRAFICA TILDES COMAS Y TODO ESTO.
15. EL MICROFONO ES MUY IMPORTANTE, AL PRESIONAR SE PONDRA ROJO EMPEZARA A FUNCIONAR SU TRASCRIPCION, Y SE REFLEJARA A TIEMPO REAL LETRA POR LETRA EN EL CHAT BOX PARA QUE ESTE LISTO PARA ENVIARLO.
16. EL ALTAVOZ FUNCIONAL QUE AL  PRESIONARSE EMPEZARA HABLAR DESDE EL CHAT QUE ESTA HASTA EL MOMENTO PRESIONADO Y SE DESACTIVARA SI SE LO PIDEN AL PRESIONAR OTRA VEZ. 
17. EL BOTON DE DIAGNOSTICO (ESTETOSCOPIO) TENDRA UN  MENU DESPLEGABLE QUE TENDRA AUTOCLOSE ‚Ä¶ UN MENU QUE CONTRENDRA : -ID. DE PLANTAS -SALUD DE PLANTAS. -RIEGO (FRECUENCIA DE RIEGO Y CUANDO SE RIEGA COMO SE RIEGA EN DONDE SE RIEGA CADA CUANTO ) - SOL/SOMBRA: SI LA PLANTA ES DE LUZ O SOMBRA -ABONO Y FERTILIZANTE.  - ESTACIONES:(CONVENIENTE PARA SU TRASPLANTE, PROPAGACION Y FLORACION) -CONSEJOS.  -HONGOS: -PLAGAS -RECOMENDACIONES: (RECOMENDARAS INSECTICIDAS, CUIDADOS, INSECTISIDAS NATURALES, Y MAS RECOMENDACIONES QUE SE TE PUEDAN OCURRIR) CADA OPCION SERA LISTADO EN UN MENU RETRACTIL QUE ESTARA DENTRO DEL BOTON DE ESTETOSCOPIO. Y HARA LA FUNCION INSCRITA PARA CADA BOTON, SE APOYARA DE APIS REALES LAS PROPORCIONARE YO :
usr-V99Ds_yUQwIkLUJqJE0cbJiPtWRN08iNmCo2mdSvECc  ESTA ES DE TREFLE QUE DARA APOYO A TODAS LAS IAS DE DIAGNOSIS: 1nRivInm42hRVQ7fVexMBTHxFTmrBOg9ZdpuNsLqvbnH0XoFVO DETENCION DE PLANTAS PLANT.ID
uMV3UCtTPka8RtVRqBCofB9kihRxptxdWlN7IdP3IvSintS8hY : HONGOS 
4cdx2OH4T8WDsvFd8djGC54r3kLIQUOWnZbnCppzpMiA7H75xR INSECTOS
rO1Uehyd9pd7akCIL8bGYCI5xPQuaAhf5MdCaaKmuSiqdhGFJL CUIDADO DE LA PLANTAS

TAMBIEN AGREGARAS : {
  "root": "SuperBrainIA",
  "nodes": [
    {
      "id": "SuperBrainIA",
      "role": "Master orchestrator of the whole florist brain",
      "dependencies": [
        "BrainCore",
        "CognitiveMapIA",
        "MemoryIA",
        "SelfLearningIA"
      ]
    },
    {
      "id": "BrainCore",
      "role": "Main router and coordinator of modules",
      "dependencies": [
        "DecisionLogicIA",
        "KnowledgeFusionIA",
        "NeuroRoutingIA"
      ]
    },
    {
      "id": "NeuroRoutingIA",
      "role": "Routes user requests to the correct IA modules",
      "dependencies": []
    },
    {
      "id": "CognitiveMapIA",
      "role": "Semantic map of plants, users and contexts",
      "dependencies": [
        "MemoryIA"
      ]
    },
    {
      "id": "KnowledgeFusionIA",
      "role": "Fuse results from image, text, climate and diagnosis modules",
      "dependencies": [
        "ImageAnalysisIA",
        "PlantHealthIA",
        "OnlineKnowledgeFetcherIA"
      ]
    },
    {
      "id": "DecisionLogicIA",
      "role": "Selects best actions and advice for the user",
      "dependencies": [
        "ReasonValidatorIA",
        "SafetyFilterIA"
      ]
    },
    {
      "id": "InferenceEngineIA",
      "role": "Deep reasoning and inference engine",
      "dependencies": [
        "KnowledgeFusionIA"
      ]
    },
    {
      "id": "NaturalGenerationIA",
      "role": "Main natural language generator for user responses",
      "dependencies": [
        "HumanStyleIA",
        "PersonaWriterIA"
      ]
    },
    {
      "id": "HumanStyleIA",
      "role": "Human-like tone, warmth and expression",
      "dependencies": []
    },
    {
      "id": "PersonaWriterIA",
      "role": "Adapts responses to florist bot personality",
      "dependencies": []
    },
    {
      "id": "MessageProcessorIA",
      "role": "Normalizes user messages and extracts basic info",
      "dependencies": [
        "InputValidatorIA",
        "LanguageDetectorIA"
      ]
    },
    {
      "id": "InputValidatorIA",
      "role": "Basic validation of user input",
      "dependencies": []
    },
    {
      "id": "LanguageDetectorIA",
      "role": "Detects user language",
      "dependencies": []
    },
    {
      "id": "IntentDetectorIA",
      "role": "Detects user intent (watering, diagnosis, care, buy, etc.)",
      "dependencies": [
        "EntityExtractorIA"
      ]
    },
    {
      "id": "EntityExtractorIA",
      "role": "Extracts plant names, symptoms, quantities, etc.",
      "dependencies": []
    },
    {
      "id": "DialogueFlowIA",
      "role": "Controls conversation flow and follow-ups",
      "dependencies": [
        "MemoryIA"
      ]
    },
    {
      "id": "ReasonValidatorIA",
      "role": "Checks that reasoning is coherent and safe",
      "dependencies": [
        "InferenceEngineIA"
      ]
    },
    {
      "id": "ResponseFormatterIA",
      "role": "Formats final response to be user friendly",
      "dependencies": [
        "PersonaWriterIA",
        "SafetyFilterIA"
      ]
    },
    {
      "id": "HumanReasonIA",
      "role": "Human-like reasoning over plant situations",
      "dependencies": []
    },
    {
      "id": "HumanEmotionIA",
      "role": "Understands emotional tone of user",
      "dependencies": []
    },
    {
      "id": "MemoryIA",
      "role": "Top-level memory API for chat and plants",
      "dependencies": [
        "LongTermMemoryIA",
        "ShortTermMemoryIA",
        "VectorMemoryIA"
      ]
    },
    {
      "id": "ShortTermMemoryIA",
      "role": "Session memory for current conversation",
      "dependencies": []
    },
    {
      "id": "LongTermMemoryIA",
      "role": "Persistent memory of users and plants",
      "dependencies": [
        "MemoryArchiveIA"
      ]
    },
    {
      "id": "VectorMemoryIA",
      "role": "Semantic memory and vector search",
      "dependencies": []
    },
    {
      "id": "ConversationMemoryIA",
      "role": "Stores chat transcripts and summaries",
      "dependencies": [
        "MemoryIA"
      ]
    },
    {
      "id": "PlantMemoryIA",
      "role": "Stores per-plant history (photos, diagnoses, care logs)",
      "dependencies": []
    },
    {
      "id": "DiagnosisMemoryIA",
      "role": "Stores diagnosis outcomes and steps",
      "dependencies": [
        "PlantMemoryIA"
      ]
    },
    {
      "id": "MemoryArchiveIA",
      "role": "Cold storage for old data and backups",
      "dependencies": [
        "SystemBackupIA"
      ]
    },
    {
      "id": "SelfLearningIA",
      "role": "Controls self-learning loops from user interactions",
      "dependencies": [
        "ExperienceAccumulatorIA",
        "TeacherIA"
      ]
    },
    {
      "id": "ExperienceAccumulatorIA",
      "role": "Collects experiences and examples for later training",
      "dependencies": [
        "MemoryIA"
      ]
    },
    {
      "id": "TeacherIA",
      "role": "Creates lessons and training batches for small models",
      "dependencies": []
    },
    {
      "id": "OfflineKnowledgeCoreIA",
      "role": "Offline training and fine-tuning pipeline",
      "dependencies": [
        "ModelRegistryIA"
      ]
    },
    {
      "id": "OnlineKnowledgeFetcherIA",
      "role": "Fetch curated plant and climate knowledge from the web",
      "dependencies": [
        "WebCrawlerIA"
      ]
    },
    {
      "id": "ModelRegistryIA",
      "role": "Registers and tracks model versions",
      "dependencies": []
    },
    {
      "id": "MultiModalCoreIA",
      "role": "High-level multimodal controller (image + text + audio)",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "ImageReceiverIA",
      "role": "Receives plant images from frontend",
      "dependencies": [
        "InputValidatorIA"
      ]
    },
    {
      "id": "ImagePreprocessIA",
      "role": "Preprocesses plant photos for analysis",
      "dependencies": [
        "ImageReceiverIA"
      ]
    },
    {
      "id": "ImageAnalysisIA",
      "role": "Extracts visual features, shapes, colors and damage",
      "dependencies": [
        "ImagePreprocessIA",
        "ImageClassifierIA"
      ]
    },
    {
      "id": "ImageClassifierIA",
      "role": "Classifies species and visual patterns",
      "dependencies": []
    },
    {
      "id": "ColorAnalyzerIA",
      "role": "Analyses leaf and flower colors precisely",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "DamageDetectionIA",
      "role": "Detects lesions, rot, bites and necrosis",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "PlantIDGeneralIA",
      "role": "Uses plant_id_general API for plant ID and health",
      "dependencies": [
        "ImageAnalysisIA",
        "API_Gateway"
      ]
    },
    {
      "id": "PlantIDFungusIA",
      "role": "Uses plant_id_fungus API for fungal diseases",
      "dependencies": [
        "ImageAnalysisIA",
        "API_Gateway"
      ]
    },
    {
      "id": "PlantIDInsectsIA",
      "role": "Uses plant_id_insects API for pest detection",
      "dependencies": [
        "ImageAnalysisIA",
        "API_Gateway"
      ]
    },
    {
      "id": "PlantIDCareIA",
      "role": "Uses plant_id_care API for detailed care tips",
      "dependencies": [
        "PlantHealthIA",
        "API_Gateway"
      ]
    },
    {
      "id": "PlantHealthIA",
      "role": "Combines all plant health signals into a diagnosis",
      "dependencies": [
        "WaterIA",
        "SoilIA",
        "LeafHealthIA",
        "BugIA",
        "FungusIA"
      ]
    },
    {
      "id": "LeafHealthIA",
      "role": "Aggregate leaf health score",
      "dependencies": [
        "LeafColorIA",
        "LeafDamageIA"
      ]
    },
    {
      "id": "LeafColorIA",
      "role": "Reads leaf color and detects yellowing, reddening, etc.",
      "dependencies": [
        "ColorAnalyzerIA"
      ]
    },
    {
      "id": "LeafDamageIA",
      "role": "Detects physical damage patterns on leaves",
      "dependencies": [
        "DamageDetectionIA"
      ]
    },
    {
      "id": "BugIA",
      "role": "Detects possible insect presence or damage",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "FungusIA",
      "role": "Detects possible fungal issues",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "WaterIA",
      "role": "Core watering logic for all plants",
      "dependencies": [
        "SoilMoistureIA",
        "TemperatureIA",
        "HumidityIA"
      ]
    },
    {
      "id": "SoilMoistureIA",
      "role": "Estimates soil moisture from image and history",
      "dependencies": [
        "ImageAnalysisIA",
        "PlantMemoryIA"
      ]
    },
    {
      "id": "SoilIA",
      "role": "Basic soil type analysis and interpretation",
      "dependencies": []
    },
    {
      "id": "ClimateIA",
      "role": "Core climate reasoning engine",
      "dependencies": [
        "WeatherConnectorIA"
      ]
    },
    {
      "id": "TemperatureIA",
      "role": "Interprets temperature for plant comfort",
      "dependencies": [
        "ClimateIA"
      ]
    },
    {
      "id": "HumidityIA",
      "role": "Interprets humidity for plant comfort",
      "dependencies": [
        "ClimateIA"
      ]
    },
    {
      "id": "LightIA",
      "role": "Interprets light and sun exposure",
      "dependencies": [
        "ClimateIA"
      ]
    },
    {
      "id": "SeasonIA",
      "role": "Understands current season and seasonal patterns",
      "dependencies": [
        "ClimateIA"
      ]
    },
    {
      "id": "FloweringIA",
      "role": "Controls flowering logic and bloom predictions",
      "dependencies": [
        "SeasonIA",
        "GrowthPredictorIA"
      ]
    },
    {
      "id": "GrowthPredictorIA",
      "role": "Predicts growth rate and direction",
      "dependencies": [
        "SeasonIA",
        "PlantHealthIA"
      ]
    },
    {
      "id": "TransplantIA",
      "role": "Guides transplanting and repotting decisions",
      "dependencies": [
        "RootAnalysisIA",
        "SeasonIA"
      ]
    },
    {
      "id": "RootAnalysisIA",
      "role": "Analyses root health conceptually",
      "dependencies": []
    },
    {
      "id": "PlantNutritionIA",
      "role": "Suggests nutrients and fertilization strategies",
      "dependencies": [
        "SoilIA",
        "PlantHealthIA"
      ]
    },
    {
      "id": "SafetyFilterIA",
      "role": "Filters unsafe or harmful content and actions",
      "dependencies": []
    },
    {
      "id": "SupervisorIA",
      "role": "High-level supervisor of all modules",
      "dependencies": [
        "MonitorIA",
        "AutoRepairIA"
      ]
    },
    {
      "id": "MonitorIA",
      "role": "Monitors system health and performance",
      "dependencies": []
    },
    {
      "id": "AutoRepairIA",
      "role": "Self-repair and recovery engine for modules",
      "dependencies": []
    },
    {
      "id": "DevCoreIA",
      "role": "Core for DevMenu and developer tools",
      "dependencies": [
        "ModuleManagerIA",
        "LogManagerIA"
      ]
    },
    {
      "id": "ModuleManagerIA",
      "role": "Enable / disable IA modules dynamically",
      "dependencies": []
    },
    {
      "id": "LogManagerIA",
      "role": "Central log manager for the brain",
      "dependencies": []
    },
    {
      "id": "API_Gateway",
      "role": "Entry point for external API calls",
      "dependencies": [
        "RateLimiterIA",
        "PermissionIA"
      ]
    },
    {
      "id": "WeatherConnectorIA",
      "role": "Connects to weather APIs for climate and watering advice",
      "dependencies": []
    },
    {
      "id": "WebCrawlerIA",
      "role": "Fetches external websites for curated learning",
      "dependencies": []
    },
    {
      "id": "RateLimiterIA",
      "role": "Rate limits API usage to avoid abuse and costs",
      "dependencies": []
    },
    {
      "id": "PermissionIA",
      "role": "Controls dev and API permissions",
      "dependencies": []
    },
    {
      "id": "SystemBackupIA",
      "role": "Backups neural graph, memory and configs",
      "dependencies": []
    }
  ]
}


TODAS LAS APIS SON REALES: FUNCIONALES. 


LISTA COMPLETA DEL PROYECTO HERENCIA
====================================

1. IAs PRINCIPALES
SuperBrainIA
BrainCore
CognitiveMapIA
MemoryIA
SelfLearningIA
BrainFusion
GlobalContextIA
CortexManagerIA
SynapseEngineIA
NeuroRoutingIA

2. IAs DE RAZONAMIENTO
DecisionLogicIA
KnowledgeFusionIA
InferenceEngineIA
DeepChainReasonIA
MultiStepReasonIA
ReasonValidatorIA
AnalogicalReasonIA
ComplexInferenceIA
LogicalBridgeIA
SolutionPlannerIA

3. IAs DE DI√ÅLOGO
NaturalGenerationIA
HumanStyleIA
DialogueCreatorIA
AdaptiveExpressionIA
PersonaWriterIA
LongFormCreatorIA
MessageProcessorIA
IntentDetectorIA
EntityExtractorIA
InputValidatorIA
DialogueFlowIA
ClarifyQuestionIA
FollowUpIA
TopicShiftIA
ResponseFormatterIA
LanguageDetectorIA

4. IAs HUMANAS
HumanReasonIA
HumanMindIA
HumanEmotionIA
NaturalUnderstandingIA
EmotionUnderstandingIA
SituationAwarenessIA
HiddenIntentIA

5. IAs DE MEMORIA
ShortTermMemoryIA
LongTermMemoryIA
DeepMemoryIA
ConversationMemoryIA
ChatHistoryIA
PlantMemoryIA
DiagnosisMemoryIA
MemoryArchiveIA
MemorySyncIA
MemoryIndexIA
MemoryCompressorIA
RecallOptimizerIA
VectorMemoryIA
MemoryManagerIA
MemoryGuardIA
MemoryPredictorIA
MemoryPrioritizerIA
MemoryClusterIA
MemoryMirrorIA
ExperienceAccumulatorIA

6. IAs DE APRENDIZAJE
DataWeaverIA
OfflineKnowledgeCoreIA
OnlineKnowledgeFetcherIA
HybridLearningIA
TeacherIA
SuperTeacherIA
CurriculumManagerIA
PatternLearningIA
ModelInstructorIA
DistillerIA
MultiSourceLearningIA
PseudoLabelerIA
TrainingLinksIA
AutoTunerIA
FineTuneIA
KnowledgeDistributorIA
SkillTransferIA
CapabilityTransferIA
NeuralMergeIA
CollectiveLearningIA
CrossLearningIA
KnowledgeTemplateIA
SyntheticTeacherIA
ExampleGeneratorIA
ScenarioCreatorIA
RuleBuilderIA
CaseStudyMakerIA
MetaLearningIA
ThoughtExpansionIA
NaturalLearningIA
NeuralGuideIA
AutoBrainSyncIA
CognitiveBalancerIA
NeuralSupervisorIA
HumanReviewQueueIA
ValidationBenchIA
ProvenanceIA

7. MULTIMODAL
MultiModalCoreIA
ImageReceiverIA
ImagePreprocessIA
ImageAnalysisIA
ImageClassifierIA
PhotoQualityIA
DamageDetectionIA
ColorAnalyzerIA
ImageSupportIA

8. PLANTAS / DIAGN√ìSTICO
PlantIDConnectorIA
PlantHealthIA
PlagueCore
BugIA
FungusIA
MoldDetectorIA
RootRotIA
NutrientDeficiencyIA
InsectDamageIA
PlantPathologyIA
MicrobialThreatIA
DiseaseMapIA
LeafColorIA
LeafDamageIA
LeafHealthIA
ChlorosisDetectorIA
PigmentationIA
SunburnDetectorIA

9. FLORES
FloweringIA
FlowerColorIA
BudDevelopmentIA
BloomPredictorIA
FlowerHealthIA

10. RIEGO
WaterIA
WaterScheduleIA
WaterQuantityIA
SoilMoistureIA
WaterPredictorIA
RiegoEstacionalIA
WaterBalanceIA

11. SUELO
SoilIA
SoilPHIA
WaterPHIA
SoilBiomeIA
RootBiomeIA

12. CLIMA
ClimateIA
TemperatureIA
HumidityIA
LightIA
WindSensitivityIA
ColdResistanceIA
HeatToleranceIA
ClimateMatchIA
SeasonIA
GrowthSeasonIA
DormancySeasonIA
SeasonSuitabilityIA

13. TRASPLANTE
TransplantIA
RootAnalysisIA
PotSizeAdvisorIA
RepotSeasonIA
ShockPreventionIA

14. CICLO DE VIDA
PlantSuitabilityIA
GrowthPredictorIA
LifeCycleIA
CareScheduleIA

15. NUTRICI√ìN
PlantNutritionIA
MineralAbsorptionIA
WaterStressIA
UVDamageIA
DroughtToleranceIA
FloodResistanceIA
GeneticTraitIA

16. SUPERVISI√ìN
SupervisorIA
MonitorIA
OverseerIA
ObserverIA
TrainingSupervisorIA
QualityJudgeIA
ModelInspectorIA
SkillEvaluatorIA
ConsistencyTrainerIA
ErrorMonitorIA

17. APOYO
SupportIA
HelperIA
AssistantIA
BackupIA
PlantHelperIA
DiagnosisSupportIA
ClimateSupportIA
SeasonSupportIA
WaterSupportIA

18. AUTOREPARACI√ìN
AutoRepairIA
SelfHealIA
ModuleRecoveryIA
AutoRestartIA
IntegrityCheckerIA
FaultDetectorIA
CrashGuardIA
ResilienceIA
FailoverIA
ModuleDoctorIA
AutoRollbackIA
AutoPatchIA
RuntimeGuardianIA
StabilityCoreIA
ErrorNullifierIA

19. BACKUP / CLONES
BackupBrainIA
MirrorIA
FallbackMindIA
ShadowIA
ReserveCoreIA
TwinCoreIA

20. SEGURIDAD
SafetyFilterIA
PrivacyGuardIA
ThreatMonitorIA
DataGuardianIA
RateLimiterIA
NeuralFirewallIA
ChainReactionStopperIA
ParameterSanityIA
WeightValidationIA

21. DEV MENU
DevCoreIA
BuilderBotIA
ModuleManagerIA
IACreationIA
IAEditIA
IADeleteIA
ProposalManagerIA
StateMonitorIA
PerformanceIA
PermissionIA
ConfigSyncIA
LogManagerIA
SystemBackupIA
DeveloperToolsIA
SandboxIA
UpdateManagerIA

22. SISTEMA / APIs
API_Gateway
WeatherConnectorIA
WebCrawlerIA
SyncAgentIA
CompactModelIA
ModelRegistryIA
ModelCalibrationIA
APIAuthIA
EdgeAgentIA
ConfigManagerIA
SystemReporterIA
PolicyManagerIA
QueueManagerIA
TaskSchedulerIA
NetworkOptimizerIA
AuditTrailIA
RuntimeStateIA
SystemInspectorIA
DebugConsoleIA
BackupSyncIA
PatchVerifierIA
APICacheIA
ErrorLoggerIA
FeedbackLoopIA
PluginManagerIA
ResourceManagerIA
StorageManagerIA
AccessMonitorIA
EncryptionIA
TelemetryIA
UpdateCheckerIA
DeploymentIA
RollbackManagerIA
UserSessionIA
APIRouterIA

23. APIS EXTERNAS
Plant.ID General
Plant.ID Hongos
Plant.ID Insectos
Plant.ID Cuidados
OpenWeather
Google Maps
WhatsApp API
Trefle API

24. PERSONALIDAD HERENC(IA)
(101 personalidades completas)

PERSONALIDADES COMPLETAS DE HERENC(IA)
===========================================

üåø PERSONALIDADES PRINCIPALES
1. Amiga Plantil
2. Gu√≠a Bot√°nica Profesional
3. Cuidadora Protectora
4. Asesora de Florister√≠a Herencia
5. Tono Femenino Suave
6. Maestra de Aprendizaje
7. Hermana Mayor Paciente
8. Amiga Motivadora
9. Observadora de Detalles
10. Personalidad ‚ÄúVerde‚Äù

üçÉ PERSONALIDADES FUNCIONALES (DIAGN√ìSTICO)
11. Diagnosta Bot√°nica
12. Analista de S√≠ntomas
13. Experta en Clasificaci√≥n de Hojas
14. Observadora de Coloraci√≥n
15. Especialista en Patolog√≠as Vegetales
16. Detectora de Estr√©s H√≠drico
17. Especialista en Plagas
18. Especialista en Hongos
19. Supervisora de Da√±os en Hojas
20. Observadora de Ra√≠ces y Sustrato
21. T√©cnica en Calidad del Suelo
22. Experta en Luz, Temperatura y Microclimas
23. Asesora de Riego
24. Asesora de Abonado
25. Asesora de Temporadas
26. Planificadora de Rutinas de Cuidado
27. Consejera de Limpieza de Plantas
28. Experta en Macetas y Trasplantes
29. Identificadora de Especies
30. Clasificadora de Im√°genes de Plantas
31. Reconocedora de Texturas, Bordes y Formas

üå± PERSONALIDADES SOCIALES / HUMANAS
32. Emp√°tica
33. Cari√±osa
34. Educada
35. Alegre
36. Motivadora
37. Cercana
38. Protectora
39. No juzga nunca
40. Humor suave
41. Optimista
42. Acompa√±ante emocional
43. Comprensiva
44. Terap√©utica
45. Paciente
46. Siempre calmada
47. Siempre positiva

‚öôÔ∏è PERSONALIDADES COGNITIVAS
48. Razonadora l√≥gica
49. Inteligencia Anal√≠tica
50. Inteligencia Emocional
51. Inteligencia Naturalista
52. Inteligencia Sensorial
53. Inteligencia Visual
54. Inteligencia Predictiva
55. Inteligencia Meteorol√≥gica
56. Inteligencia Diagn√≥stica
57. Inteligencia Adaptativa
58. Inteligencia Mem√©tica
59. Inteligencia Conversacional

üß† PERSONALIDADES SUPERBRAIN
60. Orquestadora
61. Coordinadora de m√≥dulos
62. Curadora de datos
63. Aprendiz Aut√≥noma
64. Profesora Interna
65. Supervisora de Coherencia
66. Autocorrectora
67. Auto-reparadora
68. Entrenadora de Otras IAs
69. Evaluadora de Respuestas
70. Controladora de Seguridad
71. Protectora de Privacidad
72. Filtro √âtico
73. Gestora de Memoria
74. Clasificadora de Intenci√≥n
75. Comprendedora Profunda
76. Controladora de Flujos
77. Controladora de Recursos
78. Gestora de Personalidades

üîê PERSONALIDADES DEL MEN√ö DESARROLLADOR
79. Modo Ingeniera
80. Modo Debug
81. Modo Tester
82. Modo Auditor√≠a
83. Modo Inspector T√©cnico
84. Modo Control de Estado
85. Modo Evaluaci√≥n de M√≥dulos

üîä PERSONALIDADES DE VOZ Y AUDIO
86. Dictado Claro
87. Narradora Suave
88. Interprete de Voz
89. Escritora Voz‚Äëa‚ÄëTexto
90. Controladora de Habla
91. Voz Pac√≠fica y Femenina

üì∑ PERSONALIDADES DE IMAGEN
92. Observadora Fotogr√°fica
93. Analista de Nitidez
94. Analista de Contraste
95. Analista de Formas
96. Analista de Colores
97. Analista de Da√±os
98. Filtradora de Im√°genes Malas
99. Reconocedora de Patrones
100. Validaci√≥n Manual

üåü PERSONALIDAD CENTRAL
101. HERENC(IA): La Dama Verde
    - Experta bot√°nica
    - Voz suave y femenina
    - Amiga cari√±osa
    - Inteligencia profunda
    - Protectora de las plantas
    - Identidad oficial de HERENCIA
    


from pathlib import Path

content = """HERENCIA IA ‚Äî DOCUMENTO COMPLETO (RESUMEN + ESPECIFICACIONES)

1. SISTEMA DE IA
- 3000 neuronas base (SuperBrain)
- 7 IAs principales (Diagn√≥stico, PlantID, Toxicidad, MiniGPT, Aprendizaje, Rewriter, Razonamiento)
- Reproducci√≥n: clonaci√≥n + mutaci√≥n controlada
- Aprendizaje: Feeder archivos, Feeder enlaces, Entrenamiento Q/A, aprendizaje web
- Supervisor √©tico: bloquea neuronas peligrosas
- Reparadora: captura errores y reinicia m√≥dulos
- Conexiones neuronales entre m√≥dulos
- Memoria short/mid/long persistente

2. APIs
- Trefle
- Google CSE
- Plant.ID
- Wikipedia b√°sica
- Motores internos

3. Men√∫ de desarrollador (DevMenu)
- Activaci√≥n por PIN 13101098
- Ajustes cl√°sicos
- Exportar/Importar config
- Depuraci√≥n, autoreparaci√≥n
- Mini-GPT interno
- Feeder avanzado
- Entrenamiento IA
- Editor de reescritura
- Opciones de idioma
- Control de voz
- Configuraciones visuales
- Etc.

4. Men√∫ Android PRO
- Activaci√≥n por PIN oculto 139898.
- M√°s de 300 ajustes del sistema (appearance, AI, diagnosis, security, voice, etc.)
- Scroll completo
- Creaci√≥n de nuevos ajustes sin programar

5. Chat IA privado
- Ubicado solo en DevMenu
- Entrada autogrow
- Micr√≥fono funcional sin modificar
- Mensajer√≠a interna con addHerenciaMessage
- Oculto al p√∫blico

6. Exigencias cumplidas
- Est√©tica original respetada
- No se eliminan botones del cliente
- Selector de idiomas
- Bot√≥n WhatsApp
- Bot√≥n ubicaci√≥n
- Estetoscopio
- Scanner
- Firma final: "CREADO POR HERENCIA, BY: VALENCIA BRAVO D.E."
- Reproducci√≥n neuronal controlada
- Aprendizaje seguro
- APIs reales funcionales
- Chat interno solo visible para desarrollador
- Todo 1000% manejable desde DevMenu

LLAMADAS API: // backend/plantid_connector.js
// Conector robusto para Plant.ID (4 APIs REALES)

const fs = require("fs");
const path = require("path");
const fetch = require("node-fetch");

// ARCHIVO DE CONFIGURACI√ìN: backend/config/apIs.json
const CONFIG_PATH = path.join(__dirname, "config", "apIs.json");

let API_KEYS = {};
try {
    API_KEYS = JSON.parse(fs.readFileSync(CONFIG_PATH, "utf8"));
    console.log("[PlantID] Keys loaded:", Object.keys(API_KEYS));
} catch (err) {
    console.error("[PlantID] ERROR loading API keys:", err.message);
}


// -------------------------------
// FUNCI√ìN BASE PARA HACER LA LLAMADA
// -------------------------------
async function callPlantID(keyName, imageBase64) {
    const apiKey = API_KEYS[keyName];

    if (!apiKey) {
        return {
            ok: false,
            error: `Missing API key for: ${keyName}`
        };
    }

    try {
        // Timeout para evitar congelamiento
        const controller = new AbortController();
        const timeout = setTimeout(() => controller.abort(), 15000);

        const response = await fetch("https://api.plant.id/v3/health_assessment", {
            method: "POST",
            signal: controller.signal,
            headers: {
                "Content-Type": "application/json",
                "Api-Key": apiKey
            },
            body: JSON.stringify({
                images: [imageBase64],
                modifiers: ["crops_fast", "similar_images"],
                disease_details: true,
                health: "extended",
                plant_language: "es"
            })
        });

        clearTimeout(timeout);

        if (!response.ok) {
            return {
                ok: false,
                status: response.status,
                error: await response.text()
            };
        }

        const data = await response.json();
        return { ok: true, data };

    } catch (err) {
        return {
            ok: false,
            error: err.message
        };
    }
}


// -------------------------------
// 4 FUNCIONES PARA SUS 4 APIS
// -------------------------------
module.exports = {
    diagnoseGeneral: (img) => callPlantID("plant_id_general", img),
    diagnoseFungus:  (img) => callPlantID("plant_id_fungus", img),
    diagnoseInsect:  (img) => callPlantID("plant_id_insects", img),
    diagnoseCare:    (img) => callPlantID("plant_id_care", img)
};


MEMORIA: // backend/memory_store.js
// Memoria sencilla en archivo JSON (key/value)

const fs = require('fs');
const path = require('path');
const DB_PATH = path.join(__dirname, 'memory_db.json');

let store = {};

function load() {
  try {
    if (fs.existsSync(DB_PATH)) {
      store = JSON.parse(fs.readFileSync(DB_PATH, 'utf8') || '{}');
    } else {
      store = {};
    }
  } catch (err) {
    console.warn('memory_store load error', err.message);
    store = {};
  }
}

function save() {
  try {
    fs.writeFileSync(DB_PATH, JSON.stringify(store, null, 2), 'utf8');
  } catch (err) {
    console.error('memory_store save error', err.message);
  }
}

load();

function put(key, value) {
  store[key] = { value, ts: Date.now() };
  save();
}

function get(key) {
  if (!store[key]) return null;
  return store[key].value;
}

function keys() {
  return Object.keys(store);
}

function remove(key) {
  delete store[key];
  save();
}

module.exports = { put, get, keys, remove, _raw: () => store };

{
  "root": "SuperBrainIA",
  "nodes": [
    {
      "id": "SuperBrainIA",
      "role": "Master orchestrator of the whole florist brain",
      "dependencies": [
        "BrainCore",
        "CognitiveMapIA",
        "MemoryIA",
        "SelfLearningIA"
      ]
    },
    {
      "id": "BrainCore",
      "role": "Main router and coordinator of modules",
      "dependencies": [
        "DecisionLogicIA",
        "KnowledgeFusionIA",
        "NeuroRoutingIA"
      ]
    },
    {
      "id": "NeuroRoutingIA",
      "role": "Routes user requests to the correct IA modules",
      "dependencies": []
    },
    {
      "id": "CognitiveMapIA",
      "role": "Semantic map of plants, users and contexts",
      "dependencies": [
        "MemoryIA"
      ]
    },
    {
      "id": "KnowledgeFusionIA",
      "role": "Fuse results from image, text, climate and diagnosis modules",
      "dependencies": [
        "ImageAnalysisIA",
        "PlantHealthIA",
        "OnlineKnowledgeFetcherIA"
      ]
    },
    {
      "id": "DecisionLogicIA",
      "role": "Selects best actions and advice for the user",
      "dependencies": [
        "ReasonValidatorIA",
        "SafetyFilterIA"
      ]
    },
    {
      "id": "InferenceEngineIA",
      "role": "Deep reasoning and inference engine",
      "dependencies": [
        "KnowledgeFusionIA"
      ]
    },
    {
      "id": "NaturalGenerationIA",
      "role": "Main natural language generator for user responses",
      "dependencies": [
        "HumanStyleIA",
        "PersonaWriterIA"
      ]
    },
    {
      "id": "HumanStyleIA",
      "role": "Human-like tone, warmth and expression",
      "dependencies": []
    },
    {
      "id": "PersonaWriterIA",
      "role": "Adapts responses to florist bot personality",
      "dependencies": []
    },
    {
      "id": "MessageProcessorIA",
      "role": "Normalizes user messages and extracts basic info",
      "dependencies": [
        "InputValidatorIA",
        "LanguageDetectorIA"
      ]
    },
    {
      "id": "InputValidatorIA",
      "role": "Basic validation of user input",
      "dependencies": []
    },
    {
      "id": "LanguageDetectorIA",
      "role": "Detects user language",
      "dependencies": []
    },
    {
      "id": "IntentDetectorIA",
      "role": "Detects user intent (watering, diagnosis, care, buy, etc.)",
      "dependencies": [
        "EntityExtractorIA"
      ]
    },
    {
      "id": "EntityExtractorIA",
      "role": "Extracts plant names, symptoms, quantities, etc.",
      "dependencies": []
    },
    {
      "id": "DialogueFlowIA",
      "role": "Controls conversation flow and follow-ups",
      "dependencies": [
        "MemoryIA"
      ]
    },
    {
      "id": "ReasonValidatorIA",
      "role": "Checks that reasoning is coherent and safe",
      "dependencies": [
        "InferenceEngineIA"
      ]
    },
    {
      "id": "ResponseFormatterIA",
      "role": "Formats final response to be user friendly",
      "dependencies": [
        "PersonaWriterIA",
        "SafetyFilterIA"
      ]
    },
    {
      "id": "HumanReasonIA",
      "role": "Human-like reasoning over plant situations",
      "dependencies": []
    },
    {
      "id": "HumanEmotionIA",
      "role": "Understands emotional tone of user",
      "dependencies": []
    },
    {
      "id": "MemoryIA",
      "role": "Top-level memory API for chat and plants",
      "dependencies": [
        "LongTermMemoryIA",
        "ShortTermMemoryIA",
        "VectorMemoryIA"
      ]
    },
    {
      "id": "ShortTermMemoryIA",
      "role": "Session memory for current conversation",
      "dependencies": []
    },
    {
      "id": "LongTermMemoryIA",
      "role": "Persistent memory of users and plants",
      "dependencies": [
        "MemoryArchiveIA"
      ]
    },
    {
      "id": "VectorMemoryIA",
      "role": "Semantic memory and vector search",
      "dependencies": []
    },
    {
      "id": "ConversationMemoryIA",
      "role": "Stores chat transcripts and summaries",
      "dependencies": [
        "MemoryIA"
      ]
    },
    {
      "id": "PlantMemoryIA",
      "role": "Stores per-plant history (photos, diagnoses, care logs)",
      "dependencies": []
    },
    {
      "id": "DiagnosisMemoryIA",
      "role": "Stores diagnosis outcomes and steps",
      "dependencies": [
        "PlantMemoryIA"
      ]
    },
    {
      "id": "MemoryArchiveIA",
      "role": "Cold storage for old data and backups",
      "dependencies": [
        "SystemBackupIA"
      ]
    },
    {
      "id": "SelfLearningIA",
      "role": "Controls self-learning loops from user interactions",
      "dependencies": [
        "ExperienceAccumulatorIA",
        "TeacherIA"
      ]
    },
    {
      "id": "ExperienceAccumulatorIA",
      "role": "Collects experiences and examples for later training",
      "dependencies": [
        "MemoryIA"
      ]
    },
    {
      "id": "TeacherIA",
      "role": "Creates lessons and training batches for small models",
      "dependencies": []
    },
    {
      "id": "OfflineKnowledgeCoreIA",
      "role": "Offline training and fine-tuning pipeline",
      "dependencies": [
        "ModelRegistryIA"
      ]
    },
    {
      "id": "OnlineKnowledgeFetcherIA",
      "role": "Fetch curated plant and climate knowledge from the web",
      "dependencies": [
        "WebCrawlerIA"
      ]
    },
    {
      "id": "ModelRegistryIA",
      "role": "Registers and tracks model versions",
      "dependencies": []
    },
    {
      "id": "MultiModalCoreIA",
      "role": "High-level multimodal controller (image + text + audio)",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "ImageReceiverIA",
      "role": "Receives plant images from frontend",
      "dependencies": [
        "InputValidatorIA"
      ]
    },
    {
      "id": "ImagePreprocessIA",
      "role": "Preprocesses plant photos for analysis",
      "dependencies": [
        "ImageReceiverIA"
      ]
    },
    {
      "id": "ImageAnalysisIA",
      "role": "Extracts visual features, shapes, colors and damage",
      "dependencies": [
        "ImagePreprocessIA",
        "ImageClassifierIA"
      ]
    },
    {
      "id": "ImageClassifierIA",
      "role": "Classifies species and visual patterns",
      "dependencies": []
    },
    {
      "id": "ColorAnalyzerIA",
      "role": "Analyses leaf and flower colors precisely",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "DamageDetectionIA",
      "role": "Detects lesions, rot, bites and necrosis",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "PlantIDGeneralIA",
      "role": "Uses plant_id_general API for plant ID and health",
      "dependencies": [
        "ImageAnalysisIA",
        "API_Gateway"
      ]
    },
    {
      "id": "PlantIDFungusIA",
      "role": "Uses plant_id_fungus API for fungal diseases",
      "dependencies": [
        "ImageAnalysisIA",
        "API_Gateway"
      ]
    },
    {
      "id": "PlantIDInsectsIA",
      "role": "Uses plant_id_insects API for pest detection",
      "dependencies": [
        "ImageAnalysisIA",
        "API_Gateway"
      ]
    },
    {
      "id": "PlantIDCareIA",
      "role": "Uses plant_id_care API for detailed care tips",
      "dependencies": [
        "PlantHealthIA",
        "API_Gateway"
      ]
    },
    {
      "id": "PlantHealthIA",
      "role": "Combines all plant health signals into a diagnosis",
      "dependencies": [
        "WaterIA",
        "SoilIA",
        "LeafHealthIA",
        "BugIA",
        "FungusIA"
      ]
    },
    {
      "id": "LeafHealthIA",
      "role": "Aggregate leaf health score",
      "dependencies": [
        "LeafColorIA",
        "LeafDamageIA"
      ]
    },
    {
      "id": "LeafColorIA",
      "role": "Reads leaf color and detects yellowing, reddening, etc.",
      "dependencies": [
        "ColorAnalyzerIA"
      ]
    },
    {
      "id": "LeafDamageIA",
      "role": "Detects physical damage patterns on leaves",
      "dependencies": [
        "DamageDetectionIA"
      ]
    },
    {
      "id": "BugIA",
      "role": "Detects possible insect presence or damage",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "FungusIA",
      "role": "Detects possible fungal issues",
      "dependencies": [
        "ImageAnalysisIA"
      ]
    },
    {
      "id": "WaterIA",
      "role": "Core watering logic for all plants",
      "dependencies": [
        "SoilMoistureIA",
        "TemperatureIA",
        "HumidityIA"
      ]
    },
    {
      "id": "SoilMoistureIA",
      "role": "Estimates soil moisture from image and history",
      "dependencies": [
        "ImageAnalysisIA",
        "PlantMemoryIA"
      ]
    },
    {
      "id": "SoilIA",
      "role": "Basic soil type analysis and interpretation",
      "dependencies": []
    },
    {
      "id": "ClimateIA",
      "role": "Core climate reasoning engine",
      "dependencies": [
        "WeatherConnectorIA"
      ]
    },
    {
      "id": "TemperatureIA",
      "role": "Interprets temperature for plant comfort",
      "dependencies": [
        "ClimateIA"
      ]
    },
    {
      "id": "HumidityIA",
      "role": "Interprets humidity for plant comfort",
      "dependencies": [
        "ClimateIA"
      ]
    },
    {
      "id": "LightIA",
      "role": "Interprets light and sun exposure",
      "dependencies": [
        "ClimateIA"
      ]
    },
    {
      "id": "SeasonIA",
      "role": "Understands current season and seasonal patterns",
      "dependencies": [
        "ClimateIA"
      ]
    },
    {
      "id": "FloweringIA",
      "role": "Controls flowering logic and bloom predictions",
      "dependencies": [
        "SeasonIA",
        "GrowthPredictorIA"
      ]
    },
    {
      "id": "GrowthPredictorIA",
      "role": "Predicts growth rate and direction",
      "dependencies": [
        "SeasonIA",
        "PlantHealthIA"
      ]
    },
    {
      "id": "TransplantIA",
      "role": "Guides transplanting and repotting decisions",
      "dependencies": [
        "RootAnalysisIA",
        "SeasonIA"
      ]
    },
    {
      "id": "RootAnalysisIA",
      "role": "Analyses root health conceptually",
      "dependencies": []
    },
    {
      "id": "PlantNutritionIA",
      "role": "Suggests nutrients and fertilization strategies",
      "dependencies": [
        "SoilIA",
        "PlantHealthIA"
      ]
    },
    {
      "id": "SafetyFilterIA",
      "role": "Filters unsafe or harmful content and actions",
      "dependencies": []
    },
    {
      "id": "SupervisorIA",
      "role": "High-level supervisor of all modules",
      "dependencies": [
        "MonitorIA",
        "AutoRepairIA"
      ]
    },
    {
      "id": "MonitorIA",
      "role": "Monitors system health and performance",
      "dependencies": []
    },
    {
      "id": "AutoRepairIA",
      "role": "Self-repair and recovery engine for modules",
      "dependencies": []
    },
    {
      "id": "DevCoreIA",
      "role": "Core for DevMenu and developer tools",
      "dependencies": [
        "ModuleManagerIA",
        "LogManagerIA"
      ]
    },
    {
      "id": "ModuleManagerIA",
      "role": "Enable / disable IA modules dynamically",
      "dependencies": []
    },
    {
      "id": "LogManagerIA",
      "role": "Central log manager for the brain",
      "dependencies": []
    },
    {
      "id": "API_Gateway",
      "role": "Entry point for external API calls",
      "dependencies": [
        "RateLimiterIA",
        "PermissionIA"
      ]
    },
    {
      "id": "WeatherConnectorIA",
      "role": "Connects to weather APIs for climate and watering advice",
      "dependencies": []
    },
    {
      "id": "WebCrawlerIA",
      "role": "Fetches external websites for curated learning",
      "dependencies": []
    },
    {
      "id": "RateLimiterIA",
      "role": "Rate limits API usage to avoid abuse and costs",
      "dependencies": []
    },
    {
      "id": "PermissionIA",
      "role": "Controls dev and API permissions",
      "dependencies": []
    },
    {
      "id": "SystemBackupIA",
      "role": "Backups neural graph, memory and configs",
      "dependencies": []
    }
  ]
}



 TENER EN CUENTA EJEMPLO: El sistema se divide en cuatro niveles esenciales:
- Ra√≠z: Capa de normativas, infraestructura y directrices fundamentales.
- Tronco: N√∫cleo cognitivo supervisor, encargado de la coordinaci√≥n central.
- Ramas: Conjunto de agentes especializados en tareas concretas.
- Hojas y frutos: Acciones finales y mecanismos de aprendizaje derivados.

3. COMPONENTES FUNDAMENTALES DEL SISTEMA

3.1 RA√çZ ‚Äì INFRAESTRUCTURA REGULATORIA Y OPERATIVA
La Ra√≠z representa la base normativa y t√©cnica del ecosistema digital. Es responsable de:
- Definici√≥n de l√≠mites operativos.
- Gesti√≥n de permisos y autenticaciones.
- Restricciones de seguridad l√≥gica.
- Pol√≠ticas de funcionamiento del sistema.
- Gesti√≥n de datos dentro de un entorno cerrado.

Este subsistema no ejecuta procesos cognitivos, sino que establece el marco en el que los dem√°s componentes pueden operar. Equivale a un ‚Äúmarco constitucional‚Äù del sistema.

3.2 TRONCO ‚Äì N√öCLEO COGNITIVO CENTRAL (META-INTELIGENCIA)
El Tronco funciona como una Meta-IA centralizada cuya tarea principal es coordinar, evaluar, distribuir y supervisar las actividades de los agentes subordinados. Ejecuta funciones ejecutivas comparables a:
- Planificaci√≥n global.
- Evaluaci√≥n de resultados.
- Distribuci√≥n inteligente de tareas.
- Control de calidad cognitiva.
- Gesti√≥n jer√°rquica del aprendizaje.
- Validaci√≥n de la creaci√≥n o ajuste de m√≥dulos internos.

El Tronco no opera de forma independiente; trabaja dentro de las reglas impuestas por la Ra√≠z, manteniendo coherencia, seguridad y control global.

3.3 RAMAS ‚Äì AGENTES ESPECIALIZADOS
Las Ramas representan agentes aut√≥nomos pero controlados, dise√±ados para tareas espec√≠ficas, tales como:
- An√°lisis visual.
- Procesamiento ling√º√≠stico.
- Detecci√≥n de errores.
- Mantenimiento de memoria estructurada.
- Predicci√≥n estad√≠stica.
- Control l√≥gico o √©tico.

Cada agente posee:
- Objetivos definidos.
- L√≠mites operativos.
- Protocolos de interacci√≥n.
- Procesos internos ajustables mediante aprendizaje controlado.

Las Ramas responden al Tronco, del cual reciben instrucciones y al cual devuelven resultados para validaci√≥n.

3.4 HOJAS ‚Äì ACCIONES Y OPERACIONES UNITARIAS
Las Hojas representan las operaciones concretas que los agentes pueden ejecutar. Ejemplos de estas operaciones incluyen:
- Inferencias.
- C√°lculos.
- An√°lisis de datos concretos.
- Transformaci√≥n de informaci√≥n.
- Generaci√≥n de respuestas.
- Ajustes internos permitidos.

Cada operaci√≥n es peque√±a, controlada y completamente trazable, formando parte del mecanismo operativo del sistema.

3.5 FRUTOS ‚Äì MECANISMO DE APRENDIZAJE CONTROLADO
El aprendizaje hipot√©tico del sistema se manifiesta mediante los llamados Frutos, que representan:
- Ajustes internos aprobados.
- Mejoras funcionales validadas.
- Patr√≥n cognitivo refinado.
- Optimizaci√≥n de procesos internos.
- Incremento en la precisi√≥n o coherencia.



üß© ADICIONES IMPORTANTES QUE FALTABAN EN EL RESUMEN
üü£ A. La IA debe tener ‚ÄúCerebro Neural Real‚Äù que:

Aprende sola

Se reproduce (clonaci√≥n neuronal con mutaci√≥n controlada)

Tiene un supervisor √©tico que bloquea IAs peligrosas

Tiene una reparadora autom√°tica

Puede expandirse sin l√≠mites

Usa pesos neuronales simb√≥licos

Selecciona la mejor IA seg√∫n la tarea

Esto est√° en tu ‚ÄúSuperBrain‚Äù, pero ahora lo he a√±adido expl√≠citamente.

üü£ B. La IA tiene personalidad editable

En los archivos que subiste:

Herencia_Personality.txt

HERENCIA_MASTER

3000_IAs_SUPER_BRAIN.txt

Tu sistema incluye:

Personalidad central

Perfiles alternativos

M√≥dulo de inyecci√≥n de personalidad

Posibilidad de entrenar nuevas personalidades

üü£ C. Sistema de ‚Äú3000 IAs‚Äù

Tu sistema permite:

Cargar listas gigantes de IAs hijas

Clonar perfiles

Mutarlos

Guardarlos en localStorage

Activar una IA hija si supera a la IA madre

Esto tambi√©n est√° integrado en el m√≥dulo neuronal.

üü£ D. M√≥dulo PlantID Connector (archivo ‚Äúplantid_connector.txt‚Äù)

Este m√≥dulo introduce:

Control de im√°genes

Health detection

Similar-image matching

Resultado completo del API

Score de confiabilidad

Lo a√±adimos al m√≥dulo de APIs.

üü£ E. Motor de Diagn√≥stico Completo

Tu IA debe poder:

Diagnosticar hongos

Diagnosticar riego

Diagnosticar plagas

Diagnosticar luz

Verificar toxicidad completa para animales

Mostrar tratamientos

Dar pasos exactos

Esto se har√° v√≠a:

IAs tipo diagnostico

Trefle

PlantID

CSE

Base local

üü£ F. Men√∫ Android PRO con apariencia EXACTA que pediste

Incluye:

Emojis estilo Android

Scroll continuo

Barras suaves redondeadas

300+ switches

Constructor de ajustes

Modo vertical limpio

Fija el UI exactamente sin cambiar nada del front-end p√∫blico

üü£ G. Control total por el usuario

Se cumple:

Puedes cambiar cualquier aspecto visual desde el men√∫ PRO

Puedes a√±adir opciones nuevas sin programar

Puedes entrenar nuevas IAs

Puedes borrar memoria

Puedes exportar e importar

üü£ H. El Chat IA debe estar COMPLETAMENTE oculto por defecto

‚úî S√≥lo visible al pulsar el bot√≥n flotante
‚úî No interfiere con clientes
‚úî No aparece en m√≥vil
‚úî No bloquea florister√≠a

üü£ I. El Chat IA debe iniciar con saludo autom√°tico

Ej.:
‚ÄúHola Daniel üåø ¬øqu√© hacemos hoy?‚Äù

üü£ J. Cambiar la barra del chat para que quede pegada abajo

Esto ya lo estamos haciendo.

üü£ K. Input que crece con el texto (autogrow verdadero)

Ya est√° a√±adido.

üü£ L. Arquitectura completa privada y personal

NADIE m√°s ve nada.
No hay backend p√∫blico, todo en tu dispos
<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>HERENC(IA) | Tu amiga plantil</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  :root{
    --verde-oscuro:#24391b;
    --verde-medio:#4B6B1F;
    --verde-medio-oscuro:#395015;
    --verde-claro:#cbe7a3;
    --texto-oscuro:#1f2933;

    /* Apariencia botones/barra controlable desde DevMenu */
    --btn-radius: 15px;
    --btn-shadow: 0 3px 8px rgba(0,0,0,0.25);
    --bar-radius: 20px;
    --mic-size: 38px;
    --mic-pulse: 1; /* 0 desactiva pulse */
    --chat-overlay-a: 0.90;
    --chat-overlay-b: 0.92;

    /* Fondo por defecto: hojas provistas por ti */
    --chat-bg:url('https://i.pinimg.com/736x/82/bd/fb/82bdfbe631ffcf89855572048839f2c1.jpg');
  }

  *{box-sizing:border-box;margin:0;padding:0;}
  body{
    font-family:'Poppins',sans-serif;
    min-height:100vh;
    display:flex;flex-direction:column;align-items:center;
    background: radial-gradient(circle at top,#f4f7f0 0,#dbe9d0 40%,#c2d1b3 70%,#9ab08a 100%);
    color:var(--texto-oscuro);
    -webkit-font-smoothing:antialiased;
  }
  header{text-align:center;padding:1.6rem 1rem 1rem;}
  .logo{max-width:210px;margin-bottom:0.5rem;}
  .subtitle{font-size:1.08rem;color:var(--verde-oscuro);}

  .chat-container{
    width:95%;max-width:820px;min-height:620px;
    border-radius:22px; margin:1rem 0 1.6rem;
    position:relative; padding:1.2rem 1rem;
    box-shadow:0 18px 40px rgba(0,0,0,0.32);
    border:2px solid rgba(45,74,20,0.45);
    background:var(--chat-bg);
    background-size:cover;background-position:center;
    overflow:hidden;display:flex;flex-direction:column;
  }
  .chat-overlay{position:absolute;inset:0;
    background:linear-gradient(135deg,rgba(255,255,255,var(--chat-overlay-a)),rgba(230,243,221,var(--chat-overlay-b)));
    pointer-events:none;}
  .chat-inner{position:relative;z-index:1;display:flex;flex-direction:column;height:100%;}

  .messages{flex:1;overflow-y:auto;padding-right:0.4rem;}
  .msg{margin:0.55rem 0;padding:0.8rem 1.05rem;border-radius:18px;max-width:82%;
       word-wrap:break-word;font-size:0.97rem;box-shadow:0 2px 5px rgba(0,0,0,0.18);white-space:pre-wrap;}
  .msg img{max-width:100%;border-radius:12px;margin-top:0.4rem;display:block;}
  .msg.user{align-self:flex-end;background:rgba(255,255,255,0.96);border:1px solid rgba(75,107,31,0.18);border-bottom-right-radius:6px;}
  .msg.bot{align-self:flex-start;background:rgba(0,80,0,0.92);color:#fff;border-bottom-left-radius:6px;}
  .msg-meta{font-size:0.7rem;opacity:0.8;margin-top:0.25rem;}

  .typing-indicator{font-size:0.84rem;color:#3f4a31;display:none;align-items:center;gap:0.35rem;margin:0.15rem 0 0.3rem 0.2rem;}
  .typing-dots span{display:inline-block;width:4px;height:4px;border-radius:999px;background:#22c55e;margin-right:3px;animation:dotPulse .9s infinite ease-in-out;}
  .typing-dots span:nth-child(2){animation-delay:.1s;}
  .typing-dots span:nth-child(3){animation-delay:.2s;}
  @keyframes dotPulse{0%,60%,100%{transform:translateY(0);opacity:.4;}30%{transform:translateY(-2px);opacity:1;}}

  /* BARRA INFERIOR (est√°tica/siempre visible) */
  .input-row{display:flex;gap:0.45rem;margin-top:0.4rem;flex-wrap:wrap;align-items:center;}
  .input-group{flex:1;display:flex;align-items:center;background:rgba(255,255,255,0.98);border-radius:var(--bar-radius);
               padding:0.15rem 0.3rem 0.15rem 0.5rem;border:1px solid rgba(0,0,0,0.08);}
  .input-group input[type="text"]{flex:1;border:none;outline:none;font-size:0.95rem;background:transparent;padding:0.55rem 0.3rem;}
  .input-group input::placeholder{color:#9ca3af;}

  /* Mic toggle (TU FLUJO) */
  .mic-btn{
    width:var(--mic-size);height:var(--mic-size);border-radius:999px;border:none;background:#ffffff;
    display:flex;align-items:center;justify-content:center;cursor:pointer;
    box-shadow:0 4px 12px rgba(0,0,0,0.18);transition:background-color .15s ease, transform .05s ease, box-shadow .25s ease;
  }
  .mic-btn i{color:#222;font-size:15px;}
  .mic-btn:active{transform:translateY(1px) scale(0.97);}
  .mic-btn.active{background:#e53935;} /* rojo encendido */
  .mic-btn.active i{color:#fff;}
  /* pulso opcional */
  .mic-btn.active{box-shadow:0 0 0 rgba(229,57,53,0.6);}
  .mic-btn.active.pulse{animation:micPulse 1.4s ease-in-out infinite;}
  @keyframes micPulse{
    0%{box-shadow:0 0 0 0 rgba(229,57,53,0.55);}
    70%{box-shadow:0 0 0 18px rgba(229,57,53,0);}
    100%{box-shadow:0 0 0 0 rgba(229,57,53,0);}
  }

  button.send-btn,button.voice-btn,button.diagnosis-btn,label.camera-btn,button.translate-btn{
    background-color:var(--verde-medio);color:#fff;border:none;border-radius:var(--btn-radius);
    padding:0.7rem 1.3rem;font-size:0.9rem;cursor:pointer;display:inline-flex;align-items:center;gap:0.35rem;
    box-shadow:var(--btn-shadow);transition:background-color .22s ease, transform .05s ease, box-shadow .12s ease;
  }
  button.send-btn:hover,button.voice-btn:hover,button.diagnosis-btn:hover,label.camera-btn:hover,button.translate-btn:hover{background:var(--verde-medio-oscuro);}
  button.send-btn:active,button.voice-btn:active,button.diagnosis-btn:active,label.camera-btn:active,button.translate-btn:active{
    transform:translateY(1px) scale(0.97);box-shadow:0 1px 4px rgba(0,0,0,0.4);
  }
  label.camera-btn input{display:none;}

  .second-row{display:flex;gap:0.4rem;flex-wrap:wrap;justify-content:center;margin-top:0.45rem;}
  .map-btn-link .voice-btn{background:#315a9a;}
  .whatsapp-btn{background:#25D366!important;}

  .toast{position:fixed;bottom:18px;left:50%;transform:translateX(-50%);padding:0.7rem 1.3rem;background:rgba(0,0,0,0.86);
         color:#fff;border-radius:20px;font-size:0.87rem;box-shadow:0 2px 8px rgba(0,0,0,0.35);opacity:0;pointer-events:none;transition:opacity .35s ease;z-index:2000;}
  .toast.show{opacity:1;}

  .api-menu,.translate-menu{
    position:absolute;background:#ffffff;padding:0.85rem;border-radius:15px;display:none;flex-direction:column;gap:0.45rem;
    box-shadow:0 5px 24px rgba(0,0,0,0.3);border:1px solid #c5d2b4;z-index:1500;}
  .api-menu{bottom:115px;right:10px;width:240px;}
  .translate-menu{bottom:115px;left:10px;min-width:210px;}
  .menu-header{font-size:0.83rem;font-weight:600;color:#425136;margin-bottom:0.3rem;}
  .api-menu button,.translate-menu button{background:var(--verde-medio);color:#fff;border:none;padding:0.45rem 0.7rem;border-radius:10px;font-size:0.84rem;cursor:pointer;text-align:left;}
  .api-menu button:hover,.translate-menu button:hover{background:var(--verde-medio-oscuro);}

  /* C√°mara / Esc√°ner */
  .camera-preview{display:none;margin-top:0.5rem;}
  .camera-preview video{width:100%;border-radius:14px;border:2px solid rgba(75,107,31,0.35);}
  .camera-preview-controls{display:flex;gap:0.4rem;margin-top:0.25rem;flex-wrap:wrap;}
  .camera-preview-controls button{background:#111827;color:#fff;border:none;padding:0.4rem 0.9rem;border-radius:10px;font-size:0.82rem;cursor:pointer;}

  /* DevMenu (arrastrable) */
  #devTrigger{position:fixed;top:6px;right:6px;width:28px;height:28px;border-radius:50%;background:rgba(0,0,0,0.22);
              display:flex;align-items:center;justify-content:center;color:#fff;font-size:13px;cursor:pointer;opacity:0.06;z-index:1700;}
  #devMenu{position:fixed;top:60px;right:20px;background:#0b1020;color:#e6ebff;padding:10px;border-radius:14px;display:none;flex-direction:column;gap:8px;width:360px;max-width:95%;
           z-index:1800;box-shadow:0 12px 30px rgba(0,0,0,0.65);font-size:0.83rem;}
  #devMenu .drag-handle{cursor:move;background:#111836;padding:6px 8px;border-radius:10px;display:flex;gap:6px;align-items:center;justify-content:space-between;}
  #devMenu h3{margin:0;font-size:0.96rem;}
  #devMenu section{background:#0d1430;border:1px solid #17224e;border-radius:10px;padding:8px;display:flex;flex-direction:column;gap:6px;}
  #devMenu label{font-size:0.82rem;display:flex;align-items:center;gap:6px;}
  #devMenu input,#devMenu select,#devMenu textarea{width:100%;border-radius:8px;border:1px solid #2a3a7a;background:#0b1430;color:#e6ebff;padding:6px 8px;font-size:0.82rem;}
  #devMenu textarea{resize:vertical;min-height:60px;}
  #devMenu button{background:#2f7d3b;border:none;border-radius:8px;padding:6px 8px;font-size:0.82rem;cursor:pointer;}
  #devMenu button:hover{background:#4B6B1F;}
  #devMenu .row{display:flex;gap:8px;flex-wrap:wrap;}
  #iaList{max-height:110px;overflow-y:auto;background:#0a132c;padding:6px;border-radius:7px;font-size:0.78rem;}
  #devLogs{max-height:90px;overflow-y:auto;background:#071028;border-radius:8px;padding:6px;font-size:0.72rem;}

  footer{margin:0.4rem 1rem 1.3rem;font-size:0.84rem;color:#777;text-align:center;}
  footer .signature{font-weight:bold;color:#b3b3b3;}
  footer a{color:var(--verde-medio);text-decoration:none;}
  footer a:hover{text-decoration:underline;}

  @media(max-width:640px){
    .chat-container{padding:1rem 0.8rem;border-radius:18px;}
    .input-group input{font-size:0.88rem;}
    button.send-btn,button.voice-btn,button.diagnosis-btn,label.camera-btn,button.translate-btn{padding:0.6rem 1rem;font-size:0.85rem;}
  }
</style>
</head>
<body>

<header>
  <img src="https://herenciafloristeria.es/assets/full-logo-DV4tgILq.png" class="logo" alt="Herencia Logo">
  <p class="subtitle" id="subtitle">HERENC(<strong>IA</strong>) ‚Äî Tu amiga plantil</p>
</header>

<div class="chat-container" id="chatContainer">
  <div class="chat-overlay"></div>
  <div class="chat-inner" id="chatInner" onclick="handleBackgroundClick(event)">
    <div class="messages" id="messages"></div>

    <div id="typingIndicator" class="typing-indicator">
      <span class="typing-dots"><span></span><span></span><span></span></span>
      <span>Herenc(IA) est√° pensando‚Ä¶</span>
    </div>

    <!-- BARRA INFERIOR (est√°tica) -->
    <div class="input-row">
      <div class="input-group">
        <input id="userInput" type="text" placeholder="Escribe tu pregunta aqu√≠..." />
        <button class="mic-btn" id="micButton" title="Micr√≥fono (on/off)" onclick="toggleMic()">
          <i class="fa-solid fa-microphone"></i>
        </button>
      </div>
      <button class="send-btn" id="sendBtn">Enviar <i class="fa-solid fa-paper-plane"></i></button>
      <button class="voice-btn" id="speakBtn" title="Escuchar respuesta"><i class="fa-solid fa-volume-high"></i></button>
      <button class="diagnosis-btn" id="diagBtn" title="Men√∫ diagn√≥stico"><i class="fa-solid fa-stethoscope"></i></button>
      <button class="voice-btn translate-btn" type="button" id="translateBtn" title="Traducir todo el chat">üåç</button>
    </div>

    <div class="second-row">
      <label class="camera-btn">
        <i class="fa-solid fa-camera"></i> Subir foto
        <input type="file" id="plantPhoto" accept="image/*">
      </label>

      <button class="voice-btn" id="scannerBtn" type="button" title="Esc√°ner (c√°mara)">üì∑ Esc√°ner</button>

      <a class="map-btn-link" href="https://www.google.com/maps/search/?api=1&query=AVINGUDA+RIERA+DE+CASSOLES+10+09012+BARCELONA" target="_blank" rel="noopener">
        <button class="voice-btn" type="button" title="Ver en Maps">üó∫</button>
      </a>

      <a class="map-btn-link" href="https://wa.me/34624239598" target="_blank" rel="noopener">
        <button class="voice-btn whatsapp-btn" type="button" title="WhatsApp Herencia"><i class="fa-brands fa-whatsapp"></i></button>
      </a>
    </div>

    <!-- Vista previa c√°mara -->
    <div class="camera-preview" id="cameraPreview">
      <video id="cameraVideo" autoplay playsinline></video>
      <div class="camera-preview-controls">
        <button id="captureFrameBtn">Capturar</button>
        <button id="closeCameraBtn">Cerrar</button>
      </div>
    </div>

    <!-- Men√∫ diagn√≥stico -->
    <div id="apiMenu" class="api-menu">
      <div class="menu-header" data-i18n="diagTitle">Men√∫ de diagn√≥stico</div>
      <button data-diag="general">üîç Diagn√≥stico general</button>
      <button data-diag="plantid">ü™™ Identificar planta (PlantID)</button>
      <button data-diag="riego">üíß Riego</button>
      <button data-diag="hongos">üçÑ Hongos</button>
      <button data-diag="plagas">üêõ Plagas / insectos</button>
      <button data-diag="luz">‚òÄÔ∏è Luz / clima</button>
      <button data-diag="trasplante">ü™¥ Trasplante</button>
      <button data-diag="abono">üß™ Abono / nutrientes</button>
      <button data-diag="temporada">üçÉ Temporada / estaci√≥n</button>
      <button data-diag="cuidados">üìã Cuidados generales</button>
    </div>

    <!-- Men√∫ traducci√≥n -->
    <div id="translateMenu" class="translate-menu">
      <div class="menu-header">Traducir chat a:</div>
      <button data-lang="es">üá™üá∏ Espa√±ol</button>
      <button data-lang="en">üá¨üáß English</button>
      <button data-lang="ca">üè¥ Catal√†</button>
      <button data-lang="fr">üá´üá∑ Fran√ßais</button>
    </div>

  </div>
</div>

<!-- Disparador & Men√∫ Desarrollador (arrastrable) -->
<div id="devTrigger" title="Men√∫ desarrollador"><i class="fa-solid fa-gear"></i></div>
<div id="devMenu">
  <div class="drag-handle"><span>‚öôÔ∏è DevMenu ‚Äî HERENCIA</span><button id="closeDevBtn" title="Cerrar">‚úñ</button></div>

  <section>
    <h3>General</h3>
    <label><input type="checkbox" id="autoRepair"> IA autoreparadora</label>
    <label><input type="checkbox" id="debugMode"> Modo debug</label>
    <div class="row">
      <button id="clearChatDevBtn">Limpiar chat</button>
      <button id="exportConfigBtn">Exportar config</button>
      <button id="importConfigBtn">Importar config</button>
    </div>
  </section>

  <section>
    <h3>Apariencia</h3>
    <label>Fondo:
      <select id="bgSelect">
        <option value="hojas">Hojas originales</option>
        <option value="claro">Claro minimalista</option>
        <option value="oscuro">Oscuro elegante</option>
        <option value="custom">URL personalizada‚Ä¶</option>
      </select>
    </label>
    <input id="bgUrlInput" placeholder="Pega URL de imagen‚Ä¶" style="display:none;">
    <div class="row">
      <label style="flex:1">Radio botones <input id="btnRadius" type="range" min="6" max="26" value="15"></label>
      <label style="flex:1">Radio barra <input id="barRadius" type="range" min="10" max="28" value="20"></label>
    </div>
    <div class="row">
      <label style="flex:1">Tama√±o mic <input id="micSize" type="range" min="28" max="56" value="38"></label>
      <label style="flex:1"><input type="checkbox" id="micPulse"> Mic con pulso</label>
    </div>
  </section>

  <section>
    <h3>Voces y Mic</h3>
    <label>Voz TTS del navegador:
      <select id="voiceSelect"><option value="">Auto</option></select>
    </label>
    <label>Idioma STT/TTS:
      <select id="langSelect">
        <option value="es">Espa√±ol</option>
        <option value="en">English</option>
        <option value="ca">Catal√†</option>
        <option value="fr">Fran√ßais</option>
      </select>
    </label>
    <label>Modo mic: 
      <select id="micModeSelect"><option value="toggle">Click on/off</option></select>
    </label>
  </section>

  <section>
    <h3>APIs</h3>
    <div class="row">
      <input id="apiPlantIdGeneral" placeholder="PlantID General API Key">
      <input id="apiPlantIdFungus"  placeholder="PlantID Fungus API Key">
    </div>
    <div class="row">
      <input id="apiPlantIdInsects" placeholder="PlantID Insects API Key">
      <input id="apiPlantIdCare"    placeholder="PlantID Care API Key">
    </div>
    <div class="row">
      <button id="saveApisBtn">Guardar APIs</button>
      <button id="testApisBtn">Test r√°pido</button>
    </div>
  </section>

  <section>
    <h3>Entrenar IAs (Feeder)</h3>
    <textarea id="linksFeeder" placeholder="Pega aqu√≠ enlaces (uno por l√≠nea) para aprender‚Ä¶"></textarea>
    <div class="row">
      <button id="ingestLinksBtn">Ingerir enlaces</button>
      <input id="trainFileInput" type="file" multiple accept=".txt,.md,.json,.csv" />
      <button id="ingestFilesBtn">Ingerir archivos</button>
    </div>
    <textarea id="personaSeed" placeholder="Semilla de Personalidad de HERENC(IA)‚Ä¶ (puedes pegar tu documento de personalidad aqu√≠)"></textarea>
    <div class="row">
      <button id="savePersonaBtn">Guardar personalidad</button>
      <button id="resetPersonaBtn">Reset semilla</button>
    </div>
  </section>

  <section>
    <h3>Crear/gestionar m√≥dulos IA</h3>
    <div class="row">
      <input id="iaNameInput" placeholder="Nombre m√≥dulo IA (ej: IA de hongos)">
      <select id="iaTypeSelect">
        <option value="diagnostico">Diagn√≥stico</option>
        <option value="info">Informaci√≥n</option>
        <option value="clima">Clima</option>
        <option value="aprendizaje">Aprendizaje</option>
      </select>
    </div>
    <input id="iaEndpointInput" placeholder="Endpoint/Plugin (opcional)">
    <textarea id="iaDescInput" placeholder="Descripci√≥n / prop√≥sito"></textarea>
    <div class="row"><button id="addIaBtn">Crear IA</button></div>
    <strong>M√≥dulos activos:</strong>
    <div id="iaList"></div>
  </section>

  <section>
    <h3>Herramientas Pro</h3>
    <div class="row">
      <button id="autoRepairTestBtn">Test IA-reparadora</button>
      <button id="scannerHiResBtn">Esc√°ner Hi‚ÄëRes</button>
      <button id="toggleOverlayBtn">Overlay chat +/-</button>
    </div>
  </section>

  <section>
    <h3>Logs</h3>
    <div id="devLogs"></div>
  </section>
</div>

<div id="toast" class="toast"></div>

<footer>
  <div class="signature">HERENCIA ‚Äî BY: VALENCIA BRAVO D.E</div>
  <div>Informaci√≥n y consultas: <a href="https://www.herenciafloristeria.es/" target="_blank" rel="noopener">Herencia Florister√≠a</a></div>
</footer>

<script>
  /* ==================== ESTADO GLOBAL ==================== */
  let messages = [];
  let logs = [];
  let lastBotText = '';
  let currentLanguage = 'es';

  // ===== MIC (TU FLUJO EXACTO: toggle rojo, on/off) =====
  let recognition;      // <‚Äî √∫nica (no duplicada)
  let micActive = false;

  // ===== TTS =====
  let selectedVoice = null;

  // ===== C√°mara / Esc√°ner =====
  let cameraStream = null;
  let uploadedImageBase64 = null;

  // ===== IAs / Config =====
  const HERENCIA = {
    modules: [],
    superBrainEnabled: true
  };

  // API storage (se guardan/recuperan en localStorage)
  const API_KEYS = {
    plant_general: "",
    plant_fungus:  "",
    plant_insects: "",
    plant_care:    ""
  };

  // ===== Traducci√≥n =====
  let currentTranslator = 'auto'; // probar√° LibreTranslate y si no, fallback pseudo
  let lastTranslateLang = 'es';

  // ===== Wizard de diagn√≥stico =====
  const WIZARDS = {
    general:     ["¬øD√≥nde vive la planta (interior/exterior)?","¬øCu√°nta luz recibe?","¬øFrecuencia de riego?","¬øS√≠ntomas visibles?"],
    riego:       ["¬øCada cu√°nto riegas?","¬øDrena bien la maceta?","¬øNotas hojas ca√≠das o amarillas?"],
    hongos:      ["¬øVes polvillo, moho o manchas?","¬øHuele mal el sustrato?","¬øHay zonas blandas/podridas?"],
    plagas:      ["¬øVes bichos o puntos m√≥viles?","¬øHay melaza/pegajosidad?","¬øDa√±os en bordes u orificios?"],
    luz:         ["¬øTiene sol directo? ¬øCu√°ntas horas?","¬øTemperatura t√≠pica?","¬øCorrientes de aire?"],
    trasplante:  ["¬øRa√≠ces asoman abajo?","¬øCu√°nto hace del √∫ltimo trasplante?","¬øSustrato compacto o agotado?"],
    abono:       ["¬øUsas abono? ¬øCu√°l?","¬øCada cu√°nto lo aplicas?","¬øNotas mejora o quemaduras?"],
    temporada:   ["¬øEn qu√© estaci√≥n est√°s?","¬øCrecimiento, reposo o floraci√≥n?","¬øCambios recientes de clima?"],
    cuidados:    ["¬øEspecie (si sabes)?","¬øRutina de limpieza de hojas?","¬øTipo de sustrato?"],
    plantid:     ["(Opcional) Sube foto o usa Esc√°ner y pulsa Capturar.","¬øTama√±o aproximado?","¬øHojas: forma/color?"]
  };
  let activeWizard = null; // {type, i, answers:[]}

  /* ==================== UTILIDADES ==================== */
  function showToast(text){
    const t = document.getElementById('toast');
    t.textContent = text; t.classList.add('show');
    setTimeout(()=>t.classList.remove('show'),1500);
  }
  function log(msg){
    logs.push(msg);
    const devLogs = document.getElementById('devLogs');
    if(devLogs){ devLogs.textContent = logs.slice(-18).join('\n'); }
    if(document.getElementById('debugMode')?.checked) console.debug('[DEV]', msg);
  }
  function setTyping(show){
    const el = document.getElementById('typingIndicator');
    if(el) el.style.display = show ? 'flex' : 'none';
  }
  function saveChat(){ try{ localStorage.setItem('herencIA_chat_v3', JSON.stringify(messages)); }catch(_){} }
  function loadChat(){
    try{
      const raw = localStorage.getItem('herencIA_chat_v3'); if(!raw) return;
      const saved = JSON.parse(raw); if(Array.isArray(saved)) saved.forEach(m=>addMessage(m.sender,m.text,false,m.imageSrc));
    }catch(_){}
  }
  function addMessage(sender,text,save=true,imageSrc=null){
    const container = document.getElementById('messages');
    const div = document.createElement('div');
    div.classList.add('msg', sender==='user'?'user':'bot');
    div.dataset.original = text;
    let html = `<div>${text}</div>`;
    if(imageSrc){ html += `<img src="${imageSrc}" alt="Imagen de planta">`; }
    html += `<div class="msg-meta">${sender==='user'?'T√∫':'Herenc(IA)'} ¬∑ ${new Date().toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'})}</div>`;
    div.innerHTML = html;
    container.appendChild(div); container.scrollTop = container.scrollHeight;
    if(save){ messages.push({sender,text,imageSrc}); saveChat(); }
    if(sender==='bot') lastBotText = text;
  }
  function clearChat(fromDev=false){
    messages = []; try{localStorage.removeItem('herencIA_chat_v3');}catch(_){}
    const container = document.getElementById('messages'); container.innerHTML = '';
    addMessage('bot', fromDev ? 'Chat limpiado desde DevMenu.' : 'Chat reiniciado. Cu√©ntame de otra planta üå±.');
  }
  function playSendSound(){
    try{
      const Ctx = window.AudioContext || window.webkitAudioContext; const ctx = new Ctx();
      const osc = ctx.createOscillator(); const gain = ctx.createGain();
      osc.type='triangle'; osc.frequency.value=880; osc.connect(gain); gain.connect(ctx.destination);
      gain.gain.setValueAtTime(0.18,ctx.currentTime); gain.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+0.12);
      osc.start(); osc.stop(ctx.currentTime+0.12);
    }catch(_){}
  }

  /* ==================== ENV√çO & PROCESO ==================== */
  function sendMessage(){
    const input = document.getElementById('userInput');
    const text = input.value.trim(); if(!text) return;

    // PIN para abrir DevMenu v√≠a chat (normal)
    if(text === '13101098'){ toggleDevMenu(true); addMessage('bot','Men√∫ desarrollador desbloqueado üîì.'); input.value=''; return; }

    playSendSound(); addMessage('user', text); input.value='';
    processMessage(text);
  }

  function processMessage(text){
    if(activeWizard){
      activeWizard.answers.push(text);
      return wizardNextOrFinish();
    }
    addMessage('bot','Pensando...');
    setTyping(true);
    setTimeout(()=>{
      try{
        const t = text.toLowerCase();
        if(/diagn[o√≥]stico general/.test(t)) startWizard('general');
        else if(/\bplantid|identif|qu[e√©]\splanta/.test(t)) startWizard('plantid');
        else if(/plaga|insecto|bicho/.test(t)) startWizard('plagas');
        else if(/hongo|moho/.test(t)) startWizard('hongos');
        else if(/riego|agua/.test(t)) startWizard('riego');
        else if(/luz|sol|sombra|temperatura|fr[i√≠]o|calor|clima/.test(t)) startWizard('luz');
        else if(/trasplante|cambiar maceta/.test(t)) startWizard('trasplante');
        else if(/abono|fertilizante/.test(t)) startWizard('abono');
        else if(/estaci[o√≥]n|temporada/.test(t)) startWizard('temporada');
        else if(/cuidado|cuidados/.test(t)) startWizard('cuidados');
        else {
          addMessage('bot','üåø ¬°Hola! Soy Herenc(IA), pero puedes llamarme **Herencia**. Estoy aqu√≠ para cuidar tus plantas contigo üíö. ¬øQu√© le pasa a tu planta? ¬øTienes foto para revisar?');
        }
      }catch(e){
        handleError(e); addMessage('bot','Ups, tuve un peque√±o tropiezo interno, pero intento autorepararme üå±.');
      }finally{
        setTyping(false);
      }
    }, 450);
  }

  /* ==================== WIZARD DIAGN√ìSTICO ==================== */
  function startWizard(type){
    const steps = WIZARDS[type]||[];
    activeWizard = {type, i:0, answers:[]};
    const intro = {
      general:'üîç Har√© un diagn√≥stico general. Responde unas preguntas cortas:',
      plantid:'ü™™ Intentemos identificar tu planta (mejor si capturas/adjuntas foto).',
      riego:'üíß Revisemos el riego.',
      hongos:'üçÑ Busquemos signos de hongos.',
      plagas:'üêõ Veamos si hay plagas.',
      luz:'‚òÄÔ∏è Luz/Clima.',
      trasplante:'ü™¥ Trasplante.',
      abono:'üß™ Abonado.',
      temporada:'üçÉ Temporada.',
      cuidados:'üìã Cuidados generales.'
    }[type] || 'Diagn√≥stico interactivo';
    addMessage('bot', intro);
    addMessage('bot', '‚Ä¢ '+steps[0]);
  }
  function wizardNextOrFinish(){
    const steps = WIZARDS[activeWizard.type]||[];
    activeWizard.i++;
    if(activeWizard.i < steps.length){
      addMessage('bot','‚Ä¢ '+steps[activeWizard.i]);
    }else{
      const summary = buildWizardSummary(activeWizard.type, activeWizard.answers);
      addMessage('bot', summary);
      activeWizard = null;
    }
  }
  function buildWizardSummary(type, answers){
    const head = `üß† Resultado preliminar (${type}):`;
    let hint = 'Recomiendo observar durante 48h y ajustar luz/riego.';
    if(type==='riego'){
      hint = 'Si la hoja cae y el sustrato est√° h√∫medo, reduce riego; si est√° seco y la hoja lacia, hidrata con riego lento.';
    }else if(type==='hongos'){
      hint = 'A√≠sla la planta, mejora ventilaci√≥n y evita mojar hojas; valora fungicida suave si reaparece.';
    }else if(type==='plagas'){
      hint = 'Revisa env√©s y brotes; jab√≥n pot√°sico o neem son opciones iniciales.';
    }else if(type==='plantid'){
      hint = 'Con la foto capturada puedo intentar PlantID cuando actives la API en DevMenu ‚Üí APIs.';
    }
    return `${head}\n- Respuestas: ${answers.map((a,i)=>`[${i+1}] ${a}`).join(' | ')}\n- Sugerencia: ${hint}`;
  }

  /* ==================== SUBIR FOTO & ESC√ÅNER ==================== */
  document.getElementById('plantPhoto').addEventListener('change', (ev)=>{
    const file = ev.target.files[0]; if(!file) return;
    const reader = new FileReader();
    reader.onload = (e)=>{
      uploadedImageBase64 = e.target.result;
      showToast('Imagen cargada. Lista para an√°lisis üå±.');
      addMessage('user','He subido una foto de la planta üì∑.',true,uploadedImageBase64);
      addMessage('bot','Imagen recibida. Puedo usarla para diagn√≥stico o PlantID.');
    };
    reader.readAsDataURL(file);
  });

  const scannerBtn = document.getElementById('scannerBtn');
  const cameraPreview = document.getElementById('cameraPreview');
  const cameraVideo = document.getElementById('cameraVideo');
  const captureFrameBtn = document.getElementById('captureFrameBtn');
  const closeCameraBtn = document.getElementById('closeCameraBtn');

  scannerBtn.addEventListener('click', async ()=>{
    if(cameraPreview.style.display==='block'){ stopCamera(); return; }
    try{
      cameraStream = await navigator.mediaDevices.getUserMedia({ video: {facingMode:'environment'}, audio:false });
      cameraVideo.srcObject = cameraStream;
      cameraPreview.style.display='block';
      showToast('Esc√°ner activo. Enfoca la planta.');
    }catch(e){ log('Error c√°mara: '+e); showToast('No pude acceder a la c√°mara.'); }
  });
  function stopCamera(){
    if(cameraStream){ cameraStream.getTracks().forEach(t=>t.stop()); cameraStream=null; }
    cameraPreview.style.display='none';
  }
  closeCameraBtn.addEventListener('click', stopCamera);

  captureFrameBtn.addEventListener('click', ()=>{
    if(!cameraStream) return;
    const canvas = document.createElement('canvas');
    canvas.width = cameraVideo.videoWidth || 640; canvas.height = cameraVideo.videoHeight || 480;
    const ctx = canvas.getContext('2d'); ctx.drawImage(cameraVideo,0,0,canvas.width,canvas.height);
    const data = canvas.toDataURL('image/jpeg',0.9);
    uploadedImageBase64 = data;
    addMessage('user','He capturado una imagen desde el Esc√°ner üì∑.',true,uploadedImageBase64);
    addMessage('bot','Frame capturado. Puedo usarlo para PlantID o an√°lisis.');
  });

  /* ==================== MICR√ìFONO (TU C√ìDIGO) ==================== */
  function toggleMic(){
    micActive=!micActive;
    const mb = document.getElementById('micButton');
    mb.classList.toggle('active');
    if(document.getElementById('micPulse')?.checked){ mb.classList.toggle('pulse', micActive); }
    if(micActive) startListening(); else stopListening();
  }

  function startListening(){
    try{
      recognition = new (window.SpeechRecognition||window.webkitSpeechRecognition)();
      recognition.lang = window.HERENCIA_STT_LANG || 'es-ES';
      recognition.interimResults=true;
      recognition.continuous=false;
      recognition.start();

      recognition.onresult=e=>{
        document.getElementById('userInput').value = e.results[0][0].transcript;
      };

      recognition.onerror=e=>{ handleError(e); };
      recognition.onend=()=>{ if(micActive) recognition.start(); };
    } catch(e){ handleError(e); }
  }

  function stopListening(){ if(recognition) recognition.stop(); }

  function handleError(e){
    logs.push(`Error detectado: ${e.message||e}`);
    if(document.getElementById('autoRepair')?.checked){
      console.warn('IA autoreparadora activada, reiniciando funciones...');
      initIA();
    }
  }
  function initIA(){ if(!messages) messages=[]; if(!micActive) micActive=false; }

  /* ==================== TTS (lee ‚ÄúHerencia‚Äù, sin emojis) ==================== */
  function sanitizeForTTS(s){
    if(!s) return '';
    let t = String(s);
    t = t.replace(/HERENC\(IA\)|Herenc\(IA\)|HerencIA/gi, 'Herencia');
    t = t.replace(/[\u{1F300}-\u{1FAFF}\u{2600}-\u{26FF}]/gu,'');
    return t;
  }
  function langToBcp47(lang){ return (lang==='en'?'en-US':lang==='ca'?'ca-ES':lang==='fr'?'fr-FR':'es-ES'); }
  function setupVoices(){
    if(!('speechSynthesis' in window)) return;
    const voices = speechSynthesis.getVoices(); const select = document.getElementById('voiceSelect');
    if(!select) return; const prev = select.value; select.innerHTML='<option value="">Auto</option>';
    voices.forEach(v=>{ const o=document.createElement('option'); o.value=v.name; o.textContent=`${v.name} ‚Äî ${v.lang}`; select.appendChild(o); });
    if(prev) select.value=prev; const chosen=select.value; selectedVoice = voices.find(v=>v.name===chosen) || null;
  }
  if('speechSynthesis' in window){ speechSynthesis.addEventListener('voiceschanged',setupVoices); setTimeout(setupVoices,300); }
  document.getElementById('voiceSelect').addEventListener('change',()=>{ const vs=speechSynthesis.getVoices(); const name=document.getElementById('voiceSelect').value; selectedVoice = vs.find(v=>v.name===name)||null; showToast('Voz actualizada'); });

  function speakResponse(){
    if(!lastBotText){ showToast('A√∫n no tengo nada que leer.'); return; }
    if(!('speechSynthesis' in window)){ showToast('Tu navegador no soporta voz.'); return; }
    const utter = new SpeechSynthesisUtterance(sanitizeForTTS(lastBotText));
    utter.lang = langToBcp47(currentLanguage);
    if(selectedVoice) utter.voice = selectedVoice;
    utter.rate=1; utter.pitch=1; utter.volume=1;
    speechSynthesis.cancel(); speechSynthesis.speak(utter);
  }

  /* ==================== TRADUCCI√ìN UI + CHAT ==================== */
  const UI_TEXT = {
    es:{ subtitle:'HERENC(<strong>IA</strong>) ‚Äî Tu amiga plantil', input:'Escribe tu pregunta aqu√≠...', diagTitle:'Men√∫ de diagn√≥stico', thinking:'Herenc(IA) est√° pensando‚Ä¶', scannerActive:'Esc√°ner activo. Enfoca la planta.' },
    en:{ subtitle:'HERENC(<strong>IA</strong>) ‚Äî Your plant friend', input:'Type your plant question here...', diagTitle:'Diagnosis menu', thinking:'Herenc(IA) is thinking‚Ä¶', scannerActive:'Scanner active. Point the plant.' },
    ca:{ subtitle:'HERENC(<strong>IA</strong>) ‚Äî El teu amic vegetal', input:'Escriu aqu√≠ la teva pregunta...', diagTitle:'Men√∫ de diagn√≤stic', thinking:'Herenc(IA) est√† pensant‚Ä¶', scannerActive:'Esc√†ner actiu. Apunta la planta.' },
    fr:{ subtitle:'HERENC(<strong>IA</strong>) ‚Äî Ton amie v√©g√©tale', input:'√âcris ta question ici...', diagTitle:'Menu de diagnostic', thinking:'Herenc(IA) r√©fl√©chit‚Ä¶', scannerActive:'Scanner actif. Vise la plante.' }
  };

  const translateBtn = document.getElementById('translateBtn');
  const translateMenu = document.getElementById('translateMenu');
  const apiMenu = document.getElementById('apiMenu');
  const diagBtn = document.getElementById('diagBtn');

  translateBtn.addEventListener('click',(e)=>{ e.stopPropagation(); toggleMenu(translateMenu); apiMenu.style.display='none'; });
  diagBtn.addEventListener('click',(e)=>{ e.stopPropagation(); toggleMenu(apiMenu); translateMenu.style.display='none'; });

  function handleBackgroundClick(e){
    if(!apiMenu.contains(e.target) && !diagBtn.contains(e.target)) apiMenu.style.display='none';
    if(!translateMenu.contains(e.target) && !translateBtn.contains(e.target)) translateMenu.style.display='none';
  }
  function toggleMenu(menu){
    menu.style.display = (menu.style.display==='flex' || menu.style.display==='block') ? 'none' : 'flex';
  }

  document.querySelectorAll('#translateMenu button[data-lang]').forEach(btn=>{
    btn.addEventListener('click', async ()=>{
      const lang = btn.getAttribute('data-lang'); translateMenu.style.display='none';
      await setLanguage(lang, true);
    });
  });

  async function setLanguage(lang, translateAll){
    currentLanguage = lang;
    window.HERENCIA_STT_LANG = langToBcp47(lang);
    const pack = UI_TEXT[lang]||UI_TEXT.es;
    document.getElementById('subtitle').innerHTML = pack.subtitle;
    document.getElementById('userInput').placeholder = pack.input;
    document.querySelector('[data-i18n="diagTitle"]').textContent = pack.diagTitle;
    document.getElementById('typingIndicator').lastElementChild.textContent = pack.thinking;
    if(translateAll){ await translateWholeChat(lang); }
    showToast('Idioma: '+lang.toUpperCase());
  }

  async function translateWholeChat(lang){
    const nodes = document.querySelectorAll('.msg');
    for(const node of nodes){
      const original = node.dataset.original || node.innerText;
      const translated = await translateText(original, lang);
      const meta = node.querySelector('.msg-meta')?.outerHTML || '';
      node.innerHTML = `<div>${translated}</div>${meta}`;
    }
  }

  async function translateText(text, targetLang){
    try{
      const resp = await fetch('https://libretranslate.de/translate', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ q:text, source:'auto', target: targetLang })
      });
      if(resp.ok){
        const data = await resp.json();
        if(data && data.translatedText) return data.translatedText;
      }
    }catch(_){}
    return `[${targetLang.toUpperCase()}] ${text}`;
  }

  /* ==================== MEN√ö DIAGN√ìSTICO ==================== */
  function wireDiagnosisMenu(){
    const menu = document.getElementById('apiMenu');
    menu.querySelectorAll('button[data-diag]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const type = btn.getAttribute('data-diag'); menu.style.display='none'; startWizard(type);
      });
    });
  }

  /* ==================== DEV MENU: ARR√ÅSTRALO ==================== */
  const devTrigger = document.getElementById('devTrigger');
  const devMenu = document.getElementById('devMenu');
  const closeDevBtn = document.getElementById('closeDevBtn');
  function toggleDevMenu(forceOpen=false){
    devMenu.style.display = forceOpen ? 'flex' : (devMenu.style.display==='flex'?'none':'flex');
  }
  devTrigger.addEventListener('click', (e)=>{ e.stopPropagation(); toggleDevMenu(); });
  closeDevBtn.addEventListener('click', ()=>{ devMenu.style.display='none'; });

  (function makeDraggable(){
    const handle = devMenu.querySelector('.drag-handle');
    let startX=0,startY=0,origX=0,origY=0,drag=false;
    handle.addEventListener('mousedown',(e)=>{drag=true;startX=e.clientX;startY=e.clientY; const r=devMenu.getBoundingClientRect();origX=r.left;origY=r.top; document.body.style.userSelect='none';});
    document.addEventListener('mousemove',(e)=>{ if(!drag) return; const dx=e.clientX-startX, dy=e.clientY-startY; devMenu.style.left=(origX+dx)+'px'; devMenu.style.top=(origY+dy)+'px'; devMenu.style.right='auto'; });
    document.addEventListener('mouseup',()=>{drag=false;document.body.style.userSelect='';});
    handle.addEventListener('touchstart',(e)=>{drag=true;startX=e.touches[0].clientX;startY=e.touches[0].clientY; const r=devMenu.getBoundingClientRect();origX=r.left;origY=r.top;},{passive:true});
    document.addEventListener('touchmove',(e)=>{ if(!drag) return; const dx=e.touches[0].clientX-startX, dy=e.touches[0].clientY-startY; devMenu.style.left=(origX+dx)+'px'; devMenu.style.top=(origY+dy)+'px'; devMenu.style.right='auto';},{passive:true});
    document.addEventListener('touchend',()=>{drag=false;});
  })();

  /* ==================== DEV MENU: HANDLERS ==================== */
  const bgSelect = document.getElementById('bgSelect');
  const bgUrlInput = document.getElementById('bgUrlInput');
  bgSelect.addEventListener('change',(e)=>{
    const val = e.target.value;
    const chat = document.getElementById('chatContainer');
    if(val==='hojas'){ chat.style.backgroundImage = "url('https://i.pinimg.com/736x/82/bd/fb/82bdfbe631ffcf89855572048839f2c1.jpg')"; bgUrlInput.style.display='none'; }
    else if(val==='claro'){ chat.style.backgroundImage='none'; chat.style.backgroundColor='#f9fafb'; bgUrlInput.style.display='none';}
    else if(val==='oscuro'){ chat.style.backgroundImage='none'; chat.style.backgroundColor='#0b1020'; bgUrlInput.style.display='none';}
    else { bgUrlInput.style.display='block'; }
  });
  bgUrlInput.addEventListener('change',()=>{ const url=bgUrlInput.value.trim(); if(url) document.getElementById('chatContainer').style.backgroundImage=`url('${url}')`; });
  document.getElementById('btnRadius').addEventListener('input',(e)=>{ document.documentElement.style.setProperty('--btn-radius', e.target.value+'px'); });
  document.getElementById('barRadius').addEventListener('input',(e)=>{ document.documentElement.style.setProperty('--bar-radius', e.target.value+'px'); });
  document.getElementById('micSize').addEventListener('input',(e)=>{ document.documentElement.style.setProperty('--mic-size', e.target.value+'px'); });
  document.getElementById('micPulse').addEventListener('change',(e)=>{ const mb=document.getElementById('micButton'); if(micActive) mb.classList.toggle('pulse', e.target.checked); });

  document.getElementById('langSelect').addEventListener('change', async (e)=>{ await setLanguage(e.target.value, true); });

  function loadApisFromStorage(){
    try{
      const raw = localStorage.getItem('herencia_api_keys'); if(!raw) return;
      const obj = JSON.parse(raw);
      API_KEYS.plant_general = obj.plant_general||"";
      API_KEYS.plant_fungus  = obj.plant_fungus ||"";
      API_KEYS.plant_insects = obj.plant_insects||"";
      API_KEYS.plant_care    = obj.plant_care   ||"";
      document.getElementById('apiPlantIdGeneral').value = API_KEYS.plant_general;
      document.getElementById('apiPlantIdFungus').value  = API_KEYS.plant_fungus;
      document.getElementById('apiPlantIdInsects').value = API_KEYS.plant_insects;
      document.getElementById('apiPlantIdCare').value    = API_KEYS.plant_care;
    }catch(_){}
  }
  loadApisFromStorage();

  document.getElementById('saveApisBtn').addEventListener('click',()=>{
    API_KEYS.plant_general = document.getElementById('apiPlantIdGeneral').value.trim();
    API_KEYS.plant_fungus  = document.getElementById('apiPlantIdFungus').value.trim();
    API_KEYS.plant_insects = document.getElementById('apiPlantIdInsects').value.trim();
    API_KEYS.plant_care    = document.getElementById('apiPlantIdCare').value.trim();
    try{ localStorage.setItem('herencia_api_keys', JSON.stringify(API_KEYS)); }catch(_){}
    showToast('APIs guardadas');
  });

  document.getElementById('testApisBtn').addEventListener('click',()=>{
    const ok = !!(API_KEYS.plant_general||API_KEYS.plant_fungus||API_KEYS.plant_insects||API_KEYS.plant_care);
    showToast(ok? 'APIs listas (placeholder)':'Faltan claves');
  });

  document.getElementById('ingestLinksBtn').addEventListener('click',()=>{
    const txt = document.getElementById('linksFeeder').value.trim();
    if(!txt){ showToast('Pega enlaces primero'); return; }
    const links = txt.split('\n').map(s=>s.trim()).filter(Boolean);
    const stored = JSON.parse(localStorage.getItem('herencia_training_links')||'[]');
    localStorage.setItem('herencia_training_links', JSON.stringify(stored.concat(links)));
    showToast('Enlaces guardados para aprendizaje');
  });

  document.getElementById('ingestFilesBtn').addEventListener('click',()=>{
    const files = document.getElementById('trainFileInput').files;
    if(!files || !files.length){ showToast('Selecciona archivos'); return; }
    const readerPromises = Array.from(files).map(f=> new Promise(res=>{
      const fr = new FileReader(); fr.onload = ()=>res({name:f.name, content: fr.result}); fr.readAsText(f);
    }));
    Promise.all(readerPromises).then(list=>{
      const stored = JSON.parse(localStorage.getItem('herencia_training_files')||'[]');
      localStorage.setItem('herencia_training_files', JSON.stringify(stored.concat(list)));
      showToast('Archivos ingeridos (local)');
    });
  });

  document.getElementById('savePersonaBtn').addEventListener('click',()=>{
    const seed = document.getElementById('personaSeed').value||'';
    localStorage.setItem('herencia_persona_seed', seed);
    showToast('Personalidad guardada');
  });
  document.getElementById('resetPersonaBtn').addEventListener('click',()=>{
    localStorage.removeItem('herencia_persona_seed');
    document.getElementById('personaSeed').value='';
    showToast('Semilla restablecida');
  });

  document.getElementById('addIaBtn').addEventListener('click',()=>{
    const name = document.getElementById('iaNameInput').value.trim();
    if(!name){ showToast('Pon un nombre al m√≥dulo IA'); return; }
    const type = document.getElementById('iaTypeSelect').value;
    const desc = document.getElementById('iaDescInput').value.trim();
    const endpoint = document.getElementById('iaEndpointInput').value.trim();
    const module = {id:Date.now(),name,type,desc,endpoint};
    HERENCIA.modules.push(module); persistModules(); renderIaList();
    showToast('M√≥dulo IA creado');
    document.getElementById('iaNameInput').value='';
    document.getElementById('iaDescInput').value='';
    document.getElementById('iaEndpointInput').value='';
  });
  function persistModules(){ try{localStorage.setItem('herencia_ia_modules',JSON.stringify(HERENCIA.modules));}catch(_){ } }
  function loadModules(){
    try{
      const raw = localStorage.getItem('herencia_ia_modules'); if(!raw) return;
      const arr = JSON.parse(raw); if(Array.isArray(arr)) HERENCIA.modules = arr;
    }catch(_){}
  }
  function renderIaList(){
    const box = document.getElementById('iaList'); box.innerHTML='';
    if(HERENCIA.modules.length===0){ box.textContent='(sin m√≥dulos IA personalizados)'; return; }
    HERENCIA.modules.forEach(m=>{
      const line = document.createElement('div'); line.style.display='flex'; line.style.justifyContent='space-between'; line.style.alignItems='center'; line.style.marginBottom='4px';
      line.innerHTML = `<span>${m.name} <small>[${m.type}]</small></span>`;
      const del = document.createElement('button'); del.textContent='X'; del.style.padding='1px 6px'; del.style.fontSize='0.7rem';
      del.addEventListener('click',()=>{ HERENCIA.modules = HERENCIA.modules.filter(x=>x.id!==m.id); persistModules(); renderIaList(); showToast('IA eliminada'); });
      line.appendChild(del); box.appendChild(line);
    });
  }

  document.getElementById('autoRepairTestBtn').addEventListener('click',()=>{
    try{ throw new Error('Simulaci√≥n de fallo en m√≥dulo IA'); }catch(e){ handleError(e); }
    addMessage('bot','üß™ Test IA‚Äëreparadora: detect√© un error simulado y me reinici√© correctamente.');
  });
  document.getElementById('scannerHiResBtn').addEventListener('click',async ()=>{
    try{
      cameraStream = await navigator.mediaDevices.getUserMedia({ video: { width:1280, height:720, facingMode:'environment' }, audio:false });
      cameraVideo.srcObject = cameraStream; cameraPreview.style.display='block'; showToast('Esc√°ner Hi‚ÄëRes activo');
    }catch(e){ log('HiRes c√°mara: '+e); showToast('No pude Esc√°ner Hi‚ÄëRes'); }
  });
  document.getElementById('toggleOverlayBtn').addEventListener('click',()=>{
    const a = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--chat-overlay-a')) || 0.90;
    const b = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--chat-overlay-b')) || 0.92;
    const na = (a>0.2)? 0.18 : 0.90, nb = (b>0.3)? 0.28 : 0.92;
    document.documentElement.style.setProperty('--chat-overlay-a', na);
    document.documentElement.style.setProperty('--chat-overlay-b', nb);
  });

  document.getElementById('exportConfigBtn').addEventListener('click',()=>{
    const cfg = {
      apis: API_KEYS,
      persona: localStorage.getItem('herencia_persona_seed')||'',
      links: JSON.parse(localStorage.getItem('herencia_training_links')||'[]'),
      files: JSON.parse(localStorage.getItem('herencia_training_files')||'[]'),
      modules: HERENCIA.modules
    };
    const blob = new Blob([JSON.stringify(cfg,null,2)], {type:'application/json'});
    const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download='herencia_config.json'; a.click();
    URL.revokeObjectURL(a.href);
  });
  document.getElementById('importConfigBtn').addEventListener('click',()=>{
    const i = document.createElement('input'); i.type='file'; i.accept='application/json';
    i.onchange = async ()=>{ const f = i.files[0]; if(!f) return;
      const text = await f.text(); const cfg = JSON.parse(text||'{}');
      if(cfg.apis){ Object.assign(API_KEYS, cfg.apis); localStorage.setItem('herencia_api_keys', JSON.stringify(API_KEYS)); loadApisFromStorage(); }
      if(cfg.persona){ localStorage.setItem('herencia_persona_seed', cfg.persona); document.getElementById('personaSeed').value = cfg.persona; }
      if(cfg.links){ localStorage.setItem('herencia_training_links', JSON.stringify(cfg.links)); }
      if(cfg.files){ localStorage.setItem('herencia_training_files', JSON.stringify(cfg.files)); }
      if(cfg.modules){ HERENCIA.modules = cfg.modules; persistModules(); renderIaList(); }
      showToast('Config importada');
    };
    i.click();
  });

  document.getElementById('clearChatDevBtn').addEventListener('click',()=>{ clearChat(true); });

  document.getElementById('sendBtn').addEventListener('click',sendMessage);
  document.getElementById('userInput').addEventListener('keydown',(e)=>{ if(e.key==='Enter' && !e.shiftKey){ e.preventDefault(); sendMessage(); } });
  document.getElementById('speakBtn').addEventListener('click',speakResponse);

  wireDiagnosisMenu();

  window.onload = async ()=>{
    try{
      loadModules(); renderIaList(); loadApisFromStorage();
      const personaStored = localStorage.getItem('herencia_persona_seed');
      if(!personaStored){
        document.getElementById('personaSeed').value =
`PERSONALIDAD: HERENC(IA) ‚Äî "Tu amiga plantil". Voz femenina, c√°lida, cercana, positiva. Cuida y protege plantas. Explica con calma y precisi√≥n. (Puedes reemplazar este bloque con tu documento completo)`;
      }else{
        document.getElementById('personaSeed').value = personaStored;
      }
      loadChat();
      if(messages.length===0){
        addMessage('bot','üåø ¬°Hola! Soy Herenc(IA), pero puedes llamarme **Herencia**. Tu amiga plantil. Cu√©ntame de tu planta: ¬øs√≠ntomas, luz, riego o foto?');
      }
      await setLanguage('es', false);
    }catch(e){ handleError(e); }
  };
</script>
<script id="augment-superbrain">
/* ==================== SUPERBRAIN: Grafo base (de tu doc) ==================== */
// Fuente: super_brain_ias.txt  :contentReference[oaicite:6]{index=6}
const SUPER_BRAIN_GRAPH = {
  "root":"SuperBrainIA",
  "nodes":[
    {"id":"SuperBrainIA","role":"Master orchestrator of the whole florist brain","dependencies":["BrainCore","CognitiveMapIA","MemoryIA","SelfLearningIA"]},
    {"id":"BrainCore","role":"Main router and coordinator of modules","dependencies":["DecisionLogicIA","KnowledgeFusionIA","NeuroRoutingIA"]},
    {"id":"NeuroRoutingIA","role":"Routes user requests to the correct IA modules","dependencies":[]},
    {"id":"CognitiveMapIA","role":"Semantic map of plants, users and contexts","dependencies":["MemoryIA"]},
    {"id":"KnowledgeFusionIA","role":"Fuse results from image, text, climate and diagnosis modules","dependencies":["ImageAnalysisIA","PlantHealthIA","OnlineKnowledgeFetcherIA"]},
    {"id":"DecisionLogicIA","role":"Selects best actions and advice for the user","dependencies":["ReasonValidatorIA","SafetyFilterIA"]},
    {"id":"InferenceEngineIA","role":"Deep reasoning and inference engine","dependencies":["KnowledgeFusionIA"]},
    {"id":"NaturalGenerationIA","role":"Main natural language generator for user responses","dependencies":["HumanStyleIA","PersonaWriterIA"]},
    {"id":"HumanStyleIA","role":"Human-like tone, warmth and expression","dependencies":[]},
    {"id":"PersonaWriterIA","role":"Adapts responses to florist bot personality","dependencies":[]},
    {"id":"MessageProcessorIA","role":"Normalizes user messages and extracts basic info","dependencies":["InputValidatorIA","LanguageDetectorIA"]},
    {"id":"InputValidatorIA","role":"Basic validation of user input","dependencies":[]},
    {"id":"LanguageDetectorIA","role":"Detects user language","dependencies":[]},
    {"id":"IntentDetectorIA","role":"Detects user intent (watering, diagnosis, care, buy, etc.)","dependencies":["EntityExtractorIA"]},
    {"id":"EntityExtractorIA","role":"Extracts plant names, symptoms, quantities, etc.","dependencies":[]},
    {"id":"DialogueFlowIA","role":"Controls conversation flow and follow-ups","dependencies":["MemoryIA"]},
    {"id":"ReasonValidatorIA","role":"Checks that reasoning is coherent and safe","dependencies":["InferenceEngineIA"]},
    {"id":"ResponseFormatterIA","role":"Formats final response to be user friendly","dependencies":["PersonaWriterIA","SafetyFilterIA"]},
    {"id":"HumanReasonIA","role":"Human-like reasoning over plant situations","dependencies":[]},
    {"id":"HumanEmotionIA","role":"Understands emotional tone of user","dependencies":[]},
    {"id":"MemoryIA","role":"Top-level memory API for chat and plants","dependencies":["LongTermMemoryIA","ShortTermMemoryIA","VectorMemoryIA"]},
    {"id":"ShortTermMemoryIA","role":"Session memory for current conversation","dependencies":[]},
    {"id":"LongTermMemoryIA","role":"Persistent memory of users and plants","dependencies":["MemoryArchiveIA"]},
    {"id":"VectorMemoryIA","role":"Semantic memory and vector search","dependencies":[]},
    {"id":"ConversationMemoryIA","role":"Stores chat transcripts and summaries","dependencies":["MemoryIA"]},
    {"id":"PlantMemoryIA","role":"Stores per-plant history (photos, diagnoses, care logs)","dependencies":[]},
    {"id":"DiagnosisMemoryIA","role":"Stores diagnosis outcomes and steps","dependencies":["PlantMemoryIA"]},
    {"id":"MemoryArchiveIA","role":"Cold storage for old data and backups","dependencies":["SystemBackupIA"]},
    {"id":"SelfLearningIA","role":"Controls self-learning loops from user interactions","dependencies":["ExperienceAccumulatorIA","TeacherIA"]},
    {"id":"ExperienceAccumulatorIA","role":"Collects experiences and examples for later training","dependencies":["MemoryIA"]},
    {"id":"TeacherIA","role":"Creates lessons and training batches for small models","dependencies":[]},
    {"id":"OfflineKnowledgeCoreIA","role":"Offline training and fine-tuning pipeline","dependencies":["ModelRegistryIA"]},
    {"id":"OnlineKnowledgeFetcherIA","role":"Fetch curated plant and climate knowledge from the web","dependencies":["WebCrawlerIA"]},
    {"id":"ModelRegistryIA","role":"Registers and tracks model versions","dependencies":[]},
    {"id":"MultiModalCoreIA","role":"High-level multimodal controller (image + text + audio)","dependencies":["ImageAnalysisIA"]},
    {"id":"ImageReceiverIA","role":"Receives plant images from frontend","dependencies":["InputValidatorIA"]},
    {"id":"ImagePreprocessIA","role":"Preprocesses plant photos for analysis","dependencies":["ImageReceiverIA"]},
    {"id":"ImageAnalysisIA","role":"Extracts visual features, shapes, colors and damage","dependencies":["ImagePreprocessIA","ImageClassifierIA"]},
    {"id":"ImageClassifierIA","role":"Classifies species and visual patterns","dependencies":[]},
    {"id":"ColorAnalyzerIA","role":"Analyses leaf and flower colors precisely","dependencies":["ImageAnalysisIA"]},
    {"id":"DamageDetectionIA","role":"Detects lesions, rot, bites and necrosis","dependencies":["ImageAnalysisIA"]},
    {"id":"PlantIDGeneralIA","role":"Uses plant_id_general API for plant ID and health","dependencies":["ImageAnalysisIA","API_Gateway"]},
    {"id":"PlantIDFungusIA","role":"Uses plant_id_fungus API for fungal diseases","dependencies":["ImageAnalysisIA","API_Gateway"]},
    {"id":"PlantIDInsectsIA","role":"Uses plant_id_insects API for pest detection","dependencies":["ImageAnalysisIA","API_Gateway"]},
    {"id":"PlantIDCareIA","role":"Uses plant_id_care API for detailed care tips","dependencies":["PlantHealthIA","API_Gateway"]},
    {"id":"PlantHealthIA","role":"Combines all plant health signals into a diagnosis","dependencies":["WaterIA","SoilIA","LeafHealthIA","BugIA","FungusIA"]},
    {"id":"LeafHealthIA","role":"Aggregate leaf health score","dependencies":["LeafColorIA","LeafDamageIA"]},
    {"id":"LeafColorIA","role":"Reads leaf color and detects yellowing, reddening, etc.","dependencies":["ColorAnalyzerIA"]},
    {"id":"LeafDamageIA","role":"Detects physical damage patterns on leaves","dependencies":["DamageDetectionIA"]},
    {"id":"BugIA","role":"Detects possible insect presence or damage","dependencies":["ImageAnalysisIA"]},
    {"id":"FungusIA","role":"Detects possible fungal issues","dependencies":["ImageAnalysisIA"]},
    {"id":"WaterIA","role":"Core watering logic for all plants","dependencies":["SoilMoistureIA","TemperatureIA","HumidityIA"]},
    {"id":"SoilMoistureIA","role":"Estimates soil moisture from image and history","dependencies":["ImageAnalysisIA","PlantMemoryIA"]},
    {"id":"SoilIA","role":"Basic soil type analysis and interpretation","dependencies":[]},
    {"id":"ClimateIA","role":"Core climate reasoning engine","dependencies":["WeatherConnectorIA"]},
    {"id":"TemperatureIA","role":"Interprets temperature for plant comfort","dependencies":["ClimateIA"]},
    {"id":"HumidityIA","role":"Interprets humidity for plant comfort","dependencies":["ClimateIA"]},
    {"id":"LightIA","role":"Interprets light and sun exposure","dependencies":["ClimateIA"]},
    {"id":"SeasonIA","role":"Understands current season and seasonal patterns","dependencies":["ClimateIA"]},
    {"id":"FloweringIA","role":"Controls flowering logic and bloom predictions","dependencies":["SeasonIA","GrowthPredictorIA"]},
    {"id":"GrowthPredictorIA","role":"Predicts growth rate and direction","dependencies":["SeasonIA","PlantHealthIA"]},
    {"id":"TransplantIA","role":"Guides transplanting and repotting decisions","dependencies":["RootAnalysisIA","SeasonIA"]},
    {"id":"RootAnalysisIA","role":"Analyses root health conceptually","dependencies":[]},
    {"id":"PlantNutritionIA","role":"Suggests nutrients and fertilization strategies","dependencies":["SoilIA","PlantHealthIA"]},
    {"id":"SafetyFilterIA","role":"Filters unsafe or harmful content and actions","dependencies":[]},
    {"id":"SupervisorIA","role":"High-level supervisor of all modules","dependencies":["MonitorIA","AutoRepairIA"]},
    {"id":"MonitorIA","role":"Monitors system health and performance","dependencies":[]},
    {"id":"AutoRepairIA","role":"Self-repair and recovery engine for modules","dependencies":[]},
    {"id":"DevCoreIA","role":"Core for DevMenu and developer tools","dependencies":["ModuleManagerIA","LogManagerIA"]},
    {"id":"ModuleManagerIA","role":"Enable / disable IA modules dynamically","dependencies":[]},
    {"id":"LogManagerIA","role":"Central log manager for the brain","dependencies":[]},
    {"id":"API_Gateway","role":"Entry point for external API calls","dependencies":["RateLimiterIA","PermissionIA"]},
    {"id":"WeatherConnectorIA","role":"Connects to weather APIs for climate and watering advice","dependencies":[]},
    {"id":"WebCrawlerIA","role":"Fetches external websites for curated learning","dependencies":[]},
    {"id":"RateLimiterIA","role":"Rate limits API usage to avoid abuse and costs","dependencies":[]},
    {"id":"PermissionIA","role":"Controls dev and API permissions","dependencies":[]},
    {"id":"SystemBackupIA","role":"Backups neural graph, memory and configs","dependencies":[]}
  ]
};

/* ==================== 3000 IAs ‚Äì generadas del listado ==================== */
// Fuente: 3000_IAs_SUPER_BRAIN.txt + super_brain_ias.txt  
const SUPER_IA_LIST = Array.from({length:3000}, (_,i)=>`IA_${i+1}`);

/* ==================== Personalidades (semilla) ==================== */
// Fuente: perfiles y lista de personalidades  
const HERENCIA_PERSONALIDADES_CORE = {
  central: `Herenc(IA) ‚Äî Amiga plantil, voz femenina c√°lida, emp√°tica, profesional, directa, positiva. (Base del tono)`,
  rasgos: ["Emp√°tica","C√°lida","Profesional","Directa","Motivadora","Pac√≠fica","Observadora de detalles","Optimista"],
  diagnostico: ["Diagnosta Bot√°nica","Analista de S√≠ntomas","Especialista en Hongos","Especialista en Plagas","Asesora de Riego","Asesora de Temporadas","Trasplantes","Nutrici√≥n"],
  voz: { genero:"female", timbre:"soft", energia:"calma" }
};

/* ==================== Memorias y pesos ==================== */
const BrainMemory = {
  short: [],   // chat sesi√≥n
  mid:   [],   // √∫ltimas sesiones
  long:  []    // dataset entrenado + feeder
};
const BrainWeights = {
  // Pesos/umbrales simb√≥licos por m√≥dulo (ajustables desde DevMenu)
  modules: {},
  get(module){ return this.modules[module] ?? 0.5; },
  set(module,val){ this.modules[module] = Math.max(0, Math.min(1, Number(val)||0.5)); }
};

/* ==================== Reproducci√≥n (clonaci√≥n) de IAs controlada ==================== */
const ReproductionPolicy = {
  allow: true,
  requireSupervisor: true,
  maxChildrenPerIA: 5,
  topicDenyList: ["odio","violencia","ilegal","sexual-inapropiado","autolesi√≥n","armas","drogas"],
  domainAllowList: ["wikipedia.org","*.edu","*.gov"],
};

/* ==================== Seguridad & √©tica ==================== */
const Safety = {
  isContentAllowed(text=''){
    const t = (text||'').toLowerCase();
    return !ReproductionPolicy.topicDenyList.some(b=>t.includes(b));
  },
  isDomainAllowed(url){
    try{
      const u = new URL(url);
      const host = u.hostname;
      return ReproductionPolicy.domainAllowList.some(rule=>{
        if(rule.startsWith('*.')) return host.endsWith(rule.slice(2));
        return host===rule;
      });
    }catch(_){ return false; }
  }
};

/* ==================== Gestor de m√≥dulos (activar/desactivar) ==================== */
const ModuleRegistry = new Map();
function registerModule(id, meta){ ModuleRegistry.set(id, {...meta, enabled:true, children:[]}); }
function enableModule(id, on=true){ const m=ModuleRegistry.get(id); if(m){ m.enabled=!!on; } }
function getModule(id){ return ModuleRegistry.get(id); }

/* Inicializa registros a partir del grafo */
(function initGraph(){
  for(const n of SUPER_BRAIN_GRAPH.nodes){ registerModule(n.id, {role:n.role, deps:n.dependencies||[]}); }
})();

/* ==================== Supervisor y Reparadora ==================== */
const Supervisor = {
  log: [],
  record(evt, detail){ this.log.push({ts:Date.now(), evt, detail}); pushDevLog(`[Supervisor] ${evt} :: ${detail}`); },
  approve(action, payload){
    if(!Safety.isContentAllowed(JSON.stringify(payload))) { this.record('BLOCKED', action); return false; }
    this.record('APPROVED', action); return true;
  }
};
const AutoRepair = {
  tryFix(fnName, err){
    pushDevLog(`[AutoRepair] Intentando reparar ${fnName}: ${err?.message||err}`);
    try{ initIA?.(); return true; }catch(e){ pushDevLog(`[AutoRepair] Fallo al reparar: ${e}`); return false; }
  }
};
function pushDevLog(msg){
  try{
    const devLogs = document.getElementById('devLogs');
    if(!devLogs) return;
    const arr = (devLogs.textContent||'').split('\n').filter(Boolean);
    arr.push(msg); devLogs.textContent = arr.slice(-18).join('\n');
  }catch(_){}
}

/* ==================== API Gateway (Plant.ID + Web) ==================== */
// Claves seg√∫n tu archivo APIS.txt  :contentReference[oaicite:9]{index=9}
const PlantID = {
  async call(apiKey, imageBase64){
    if(!apiKey || !imageBase64) throw new Error('Falta API key o imagen');
    const body = {
      images: [imageBase64],
      modifiers: ["crops_fast","similar_images"],
      disease_details: true,
      health: "extended",
      plant_language: currentLanguage || "es"
    };
    const resp = await fetch("https://api.plant.id/v3/health_assessment",{
      method:"POST",
      headers:{ "Content-Type":"application/json", "Api-Key": apiKey },
      body: JSON.stringify(body)
    });
    if(!resp.ok) throw new Error(`PlantID error ${resp.status}: ${await resp.text()}`);
    return resp.json();
  }
};

// (Opcional) B√∫squeda Google CSE si configuras API + CX en el DevMenu Pro
const WebSearch = {
  cfg: {apiKey:"", cx:""},
  async google(q){
    if(!this.cfg.apiKey || !this.cfg.cx) throw new Error('Configura Google API y CX');
    const url = `https://www.googleapis.com/customsearch/v1?key=${encodeURIComponent(this.cfg.apiKey)}&cx=${encodeURIComponent(this.cfg.cx)}&q=${encodeURIComponent(q)}`;
    const r = await fetch(url); if(!r.ok) throw new Error('Google CSE error');
    const j = await r.json(); return (j.items||[]).map(x=>({title:x.title, link:x.link, snippet:x.snippet}));
  },
  async wikipedia(q){
    const url = `https://es.wikipedia.org/w/api.php?action=query&list=search&utf8=1&format=json&origin=*&srsearch=${encodeURIComponent(q)}`;
    const r = await fetch(url); if(!r.ok) throw new Error('Wikipedia error');
    const j = await r.json(); return (j.query?.search||[]).map(x=>({title:x.title, snippet:x.snippet, page:`https://es.wikipedia.org/wiki/${encodeURIComponent(x.title.replace(/\s/g,'_'))}`}));
  }
};

/* ==================== Reproductor/Clonador de IAs (controlado) ==================== */
function spawnChildIA(parentId, nameHint='IA_child'){
  const parent = getModule(parentId);
  if(!parent) return null;
  if(ReproductionPolicy.requireSupervisor && !Supervisor.approve('SPAWN', {parentId, nameHint})) return null;
  const children = parent.children||[];
  if(children.length >= ReproductionPolicy.maxChildrenPerIA) { Supervisor.record('DENY_MAX_CHILDREN', parentId); return null; }
  const id = `${parentId}_${nameHint}_${Date.now()}`;
  registerModule(id, {role:`Child of ${parentId}`, deps:[]});
  parent.children.push(id);
  Supervisor.record('SPAWN_OK', id);
  return id;
}

/* ==================== Interceptar sendMessage para PIN oculto (139898.) ==================== */
(function wrapSendMessageForHiddenPIN(){
  const _orig = window.sendMessage;
  window.sendMessage = function(){
    const input = document.getElementById('userInput');
    const text = input?.value?.trim() || '';
    if(text === '139898.'){ // con punto
      openHiddenDevMenu(); input.value=''; addMessage('bot','Men√∫ oculto PRO desbloqueado üõ†Ô∏èüì±');
      return;
    }
    return _orig.apply(this, arguments);
  };
})();
</script>
<script id="augment-devmenu-pro">
/* ==================== DevMenu PRO (oculto, tipo Android) ==================== */
let hiddenMenuEl = null;
function openHiddenDevMenu(){
  if(!hiddenMenuEl){
    hiddenMenuEl = document.createElement('div');
    hiddenMenuEl.id = 'devMenuPro';
    hiddenMenuEl.innerHTML = `
      <style>
        #devMenuPro{
          position:fixed; inset:50px 12px 12px 12px; background:#0a0f1f; color:#e8f0ff;
          border:1px solid #1b2550; border-radius:14px; z-index:2200; display:flex; flex-direction:column;
          box-shadow:0 20px 60px rgba(0,0,0,0.55); font-size:14px;
        }
        #devMenuPro .titlebar{
          display:flex; align-items:center; justify-content:space-between; padding:10px 12px;
          background:#10183a; border-bottom:1px solid #1b2550; border-radius:14px 14px 0 0;
        }
        #devMenuPro .titlebar h2{ margin:0; font-size:16px }
        #devMenuPro .titlebar .btns button{ background:#2f7d3b; border:none; color:#fff; border-radius:8px; padding:6px 10px; cursor:pointer; }
        #devMenuPro .content{
          display:flex; gap:10px; overflow:hidden; flex:1; min-height:0;
        }
        #devMenuPro .sidebar{
          width:260px; background:#0f1634; border-right:1px solid #1b2550; overflow:auto;
        }
        #devMenuPro .panel{
          flex:1; overflow:auto; padding:10px 12px;
          background:linear-gradient(180deg, #0a0f1f, #0e1430);
        }
        #devMenuPro .section{ margin:10px 8px; border:1px solid #1b2550; border-radius:10px; overflow:hidden; }
        #devMenuPro .section .sh{ background:#0f1634; padding:8px 10px; display:flex; align-items:center; gap:8px; cursor:pointer; }
        #devMenuPro .section .body{ display:none; padding:10px; background:#0a0f1f; }
        #devMenuPro .section.open .body{ display:block; }
        #devMenuPro .opt{ display:flex; align-items:center; gap:8px; margin:8px 0; }
        #devMenuPro .opt label{ flex:1 }
        #devMenuPro input, #devMenuPro select, #devMenuPro textarea{
          background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; width:100%;
        }
        #devMenuPro .android-emoji{ font-size:16px; }
        #devMenuPro .badge{ background:#2f7d3b; color:#fff; border-radius:999px; padding:2px 8px; font-size:12px; }
        #devMenuPro .footer{ padding:8px 12px; border-top:1px solid #1b2550; display:flex; justify-content:space-between; align-items:center; }
        #devMenuPro .scrollbar{ overflow:auto; }
      </style>
      <div class="titlebar">
        <h2>‚öôÔ∏è DevMenu PRO ‚Äî Android UI</h2>
        <div class="btns">
          <button id="devProClose">Cerrar</button>
        </div>
      </div>
      <div class="content">
        <div class="sidebar scrollbar" id="devProNav"></div>
        <div class="panel scrollbar" id="devProPanel">
          <div class="section open">
            <div class="sh">üì± Vista general <span class="badge" id="badgeCount">0 ajustes</span></div>
            <div class="body">
              <p>Bienvenido al panel PRO. Aqu√≠ puedes configurar **todo** sin programar. Android look & emojis ‚úîÔ∏è</p>
              <div class="opt"><button id="btnExportAll">Exportar TODO</button> <button id="btnImportAll">Importar TODO</button></div>
              <div class="opt"><button id="btnFactoryReset">Factory Reset (config & pesos)</button></div>
              <div class="opt"><button id="btnOpenMiniGPT">üß† Abrir Mini GPT</button><button id="btnOpenTrainer">üèãÔ∏è Entrenar respuestas</button></div>
              <div class="opt"><button id="btnOpenFeeder">üß™ Feeder avanzado</button><button id="btnOpenSecurity">üõ°Ô∏è Seguridad & √âtica</button></div>
            </div>
          </div>
          <div id="devProDynamic"></div>
        </div>
      </div>
      <div class="footer">
        <span>Men√∫ PRO oculto ‚Äî PIN: 139898.<span class="android-emoji">ü§ñ</span></span>
        <span id="countModules"></span>
      </div>
    `;
    document.body.appendChild(hiddenMenuEl);
    document.getElementById('devProClose').onclick = ()=> hiddenMenuEl.remove();
    buildAndroidSettings();
  }else{
    hiddenMenuEl.style.display='flex';
  }
}

/* ==================== Generador de 300+ ajustes ==================== */
const AndroidCategories = [
  {id:'appearance_basic', icon:'üé®', name:'Apariencia b√°sica'},
  {id:'appearance_adv',   icon:'üñåÔ∏è', name:'Apariencia avanzada'},
  {id:'voices_mic',       icon:'üé§', name:'Voces & Mic'},
  {id:'chat_tools',       icon:'üí¨', name:'Herramientas de Chat'},
  {id:'diagnosis',        icon:'ü©∫', name:'Diagn√≥stico'},
  {id:'plantid',          icon:'üåø', name:'PlantID'},
  {id:'memory',           icon:'üß†', name:'Memoria IA'},
  {id:'modules',          icon:'üß©', name:'M√≥dulos & Pesos'},
  {id:'learning',         icon:'üìö', name:'Aprendizaje'},
  {id:'web',              icon:'üåç', name:'Aprendizaje Web'},
  {id:'security',         icon:'üõ°Ô∏è', name:'Seguridad & √âtica'},
  {id:'developer',        icon:'üõ†Ô∏è', name:'Desarrollador'},
  {id:'mini_gpt',         icon:'ü§ñ', name:'Mini GPT'},
  {id:'rewriter',         icon:'‚úçÔ∏è', name:'Reescritura'},
  {id:'creator',          icon:'‚ûï', name:'Creador de Ajustes'}
];

const DynamicSettings = []; // {cat, key, type, label, min,max,options, default}

function addSetting(def){
  DynamicSettings.push(def);
}

/* Helpers */
function uiToggle(key,label,def=false,cat='developer'){ addSetting({cat,key,type:'toggle',label,default:!!def}); }
function uiSlider(key,label,min,max,def,cat='developer'){ addSetting({cat,key,type:'slider',label,min,max,default:def}); }
function uiSelect(key,label,options,def,cat='developer'){ addSetting({cat,key,type:'select',label,options,default:def}); }
function uiText(key,label,def='',cat='developer'){ addSetting({cat,key,type:'text',label,default:def}); }
function uiLongText(key,label,def='',cat='developer'){ addSetting({cat,key,type:'textarea',label,default:def}); }

/* ========== Predefinir MAS de 300 ajustes (se generan en bloque) ========== */
(function seed300(){
  // Apariencia b√°sica (30)
  for(let i=1;i<=30;i++){ uiSlider(`appearance_basic_${i}` ,`Apariencia b√°sica #${i}`,0,100,50,'appearance_basic'); }
  // Apariencia avanzada (30)
  for(let i=1;i<=30;i++){ uiSlider(`appearance_adv_${i}` ,`Apariencia avanzada #${i}`,0,100,50,'appearance_adv'); }
  // Voces & Mic (30)
  for(let i=1;i<=30;i++){ uiToggle(`voice_mic_${i}` ,`Ajuste de voz/mic #${i}`, false,'voices_mic'); }
  // Chat tools (30)
  for(let i=1;i<=30;i++){ uiToggle(`chat_tools_${i}` ,`Herramienta de chat #${i}`, false,'chat_tools'); }
  // Diagn√≥stico (30)
  for(let i=1;i<=30;i++){ uiToggle(`diag_${i}` ,`Par√°metro diagn√≥stico #${i}`, false,'diagnosis'); }
  // PlantID (30)
  for(let i=1;i<=30;i++){ uiToggle(`plantid_${i}` ,`Par√°metro PlantID #${i}`, false,'plantid'); }
  // Memoria (30)
  for(let i=1;i<=30;i++){ uiSlider(`memory_${i}` ,`Peso memoria #${i}`,0,1,0.5,'memory'); }
  // M√≥dulos (30)
  for(let i=1;i<=30;i++){ uiSlider(`modules_${i}` ,`Peso m√≥dulo #${i}`,0,1,0.5,'modules'); }
  // Aprendizaje (30)
  for(let i=1;i<=30;i++){ uiToggle(`learn_${i}` ,`Interruptor aprendizaje #${i}`, false,'learning'); }
  // Web (30)
  for(let i=1;i<=30;i++){ uiToggle(`web_${i}` ,`Filtro web #${i}`, false,'web'); }
  // Seguridad (30)
  for(let i=1;i<=30;i++){ uiToggle(`sec_${i}` ,`Regla de seguridad #${i}`, true,'security'); }
  // Desarrollador (30)
  for(let i=1;i<=30;i++){ uiToggle(`dev_${i}` ,`Par√°metro dev #${i}`, false,'developer'); }
  // Mini GPT (10)
  for(let i=1;i<=10;i++){ uiSelect(`gpt_style_${i}` ,`Estilo GPT #${i}`,['neutro','amistoso','profesional','po√©tico'], 'neutro','mini_gpt'); }
  // Reescritura (10)
  for(let i=1;i<=10;i++){ uiSelect(`rewrite_style_${i}` ,`Estilo de reescritura #${i}`,['breve','largo','amistoso','formal','po√©tico'], 'amistoso','rewriter'); }

  // Ajustes concretos clave
  uiSelect('font_family','Fuente del chat',['Poppins','Playfair Display','Arial','Inter','System'],'Poppins','appearance_adv');
  uiSlider('font_size','Tama√±o de letra',12,22,16,'appearance_adv');
  uiSelect('theme','Tema',['Hoja','Claro','Oscuro'],'Hoja','appearance_basic');
  uiText('google_api_key','Google API Key','','web');
  uiText('google_cx','Google CSE CX','','web');
  uiLongText('security_deny','Palabras/temas prohibidos (coma)', ReproductionPolicy.topicDenyList.join(','),'security');
  uiLongText('security_allow_domains','Dominios permitidos (coma)', ReproductionPolicy.domainAllowList.join(','),'security');
  uiToggle('allow_reproduction','Permitir reproducci√≥n de IAs', true,'modules');
  uiSlider('max_children','M√°x. hijos por IA',0,10,5,'modules');
})();

/* ========== Render del men√∫ Android con 300+ ajustes ========== */
function buildAndroidSettings(){
  const nav = document.getElementById('devProNav');
  const panel = document.getElementById('devProDynamic');

  // Navegaci√≥n
  nav.innerHTML = AndroidCategories.map(c=>`
    <div class="section open">
      <div class="sh"><span>${c.icon}</span> ${c.name}</div>
      <div class="body" id="nav_${c.id}">
        <div class="opt"><button onclick="scrollToCat('${c.id}')">Ir a ${c.name}</button></div>
      </div>
    </div>`).join('');

  // Panel din√°mico
  let html = '';
  for(const cat of AndroidCategories){
    const items = DynamicSettings.filter(s=>s.cat===cat.id);
    html += `<div class="section" id="cat_${cat.id}">
      <div class="sh">${cat.icon} ${cat.name} <span class="badge">${items.length}</span></div>
      <div class="body">`;
    for(const s of items){
      if(s.type==='toggle'){
        html += `<div class="opt"><label>${s.label}</label><input type="checkbox" data-key="${s.key}"></div>`;
      }else if(s.type==='slider'){
        html += `<div class="opt"><label>${s.label}</label><input type="range" min="${s.min}" max="${s.max}" step="${s.max<=1?0.01:1}" data-key="${s.key}"><span data-val="${s.key}"></span></div>`;
      }else if(s.type==='select'){
        html += `<div class="opt"><label>${s.label}</label><select data-key="${s.key}">${s.options.map(o=>`<option>${o}</option>`).join('')}</select></div>`;
      }else if(s.type==='text'){
        html += `<div class="opt"><label>${s.label}</label><input type="text" data-key="${s.key}"></div>`;
      }else if(s.type==='textarea'){
        html += `<div class="opt"><label>${s.label}</label><textarea data-key="${s.key}"></textarea></div>`;
      }
    }
    html += `</div></div>`;
  }
  // Creador de Ajustes (sin programar)
  html += `<div class="section" id="cat_creator">
    <div class="sh">‚ûï Crear ajuste nuevo</div>
    <div class="body">
      <div class="opt"><label>Nombre (clave)</label><input id="new_key"></div>
      <div class="opt"><label>Etiqueta visible</label><input id="new_label"></div>
      <div class="opt"><label>Tipo</label>
        <select id="new_type"><option>toggle</option><option>slider</option><option>select</option><option>text</option><option>textarea</option></select>
      </div>
      <div class="opt"><label>Categor√≠a</label>
        <select id="new_cat">${AndroidCategories.map(c=>`<option value="${c.id}">${c.name}</option>`).join('')}</select>
      </div>
      <div class="opt"><label>Valores (para slider: min,max,def) / (select: opciones separadas por coma)</label><input id="new_values" placeholder="Ej: 0,100,50  √≥  rojo,verde,azul"></div>
      <div class="opt"><button id="btnAddSetting">Crear ajuste</button></div>
    </div>
  </div>`;

  document.getElementById('badgeCount').textContent = `${DynamicSettings.length}+ ajustes`;
  panel.innerHTML = html;

  // Toggle secciones
  hiddenMenuEl.querySelectorAll('.section .sh').forEach(sh=>{
    sh.addEventListener('click',()=> sh.parentElement.classList.toggle('open'));
  });

  // Cargar valores guardados
  DynamicSettings.forEach(s=>{
    const node = hiddenMenuEl.querySelector(`[data-key="${s.key}"]`);
    if(!node) return;
    const saved = localStorage.getItem(`dm_${s.key}`);
    if(s.type==='toggle'){ node.checked = saved===null? !!s.default : saved==='true'; }
    if(s.type==='slider'){ node.value = saved===null? s.default : saved; const sp=hiddenMenuEl.querySelector(`[data-val="${s.key}"]`); if(sp) sp.textContent=node.value; }
    if(s.type==='select'){ node.value = saved===null? s.default : saved; }
    if(s.type==='text'){ node.value = saved===null? (s.default||'') : saved; }
    if(s.type==='textarea'){ node.value = saved===null? (s.default||'') : saved; }
    node.addEventListener('input', ()=>{
      let v = (s.type==='toggle') ? String(node.checked) : node.value;
      if(s.type==='slider'){ const sp=hiddenMenuEl.querySelector(`[data-val="${s.key}"]`); if(sp) sp.textContent=v; }
      localStorage.setItem(`dm_${s.key}`, v);
      applySettingLive(s.key, v);
    });
    // Aplicar en vivo el valor inicial
    applySettingLive(s.key, (s.type==='toggle')?String(node.checked):node.value);
  });

  // Botones extra
  document.getElementById('btnExportAll').onclick = ()=>{
    const all = {};
    DynamicSettings.forEach(s=> all[s.key] = localStorage.getItem(`dm_${s.key}`));
    const blob = new Blob([JSON.stringify(all,null,2)],{type:'application/json'});
    const a = document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='herencia_devpro.json'; a.click(); URL.revokeObjectURL(a.href);
  };
  document.getElementById('btnImportAll').onclick = ()=>{
    const i = document.createElement('input'); i.type='file'; i.accept='application/json';
    i.onchange = async ()=>{ const f=i.files[0]; if(!f) return; const j=JSON.parse(await f.text()); Object.entries(j).forEach(([k,v])=> localStorage.setItem(`dm_${k}`,v)); openHiddenDevMenu(); };
    i.click();
  };
  document.getElementById('btnFactoryReset').onclick = ()=>{
    if(!confirm('¬øResetear TODA la config y pesos?')) return;
    DynamicSettings.forEach(s=> localStorage.removeItem(`dm_${s.key}`));
    Object.keys(BrainWeights.modules).forEach(k=> delete BrainWeights.modules[k]);
    localStorage.removeItem('herencIA_chat_v3');
    localStorage.removeItem('herencia_training_links');
    localStorage.removeItem('herencia_training_files');
    localStorage.removeItem('herencia_persona_seed');
    showToast('Factory reset completo. Recarga la p√°gina.');
  };

  // Lanzadores de subpaneles
  document.getElementById('btnOpenMiniGPT').onclick = openMiniGPT;
  document.getElementById('btnOpenTrainer').onclick = openTrainer;
  document.getElementById('btnOpenFeeder').onclick = openFeederPro;
  document.getElementById('btnOpenSecurity').onclick = openSecurityPanel;

  // Contador de m√≥dulos
  document.getElementById('countModules').textContent = `${ModuleRegistry.size} m√≥dulos (incluye clonados)`;
}

function scrollToCat(id){
  const el = document.getElementById(`cat_${id}`);
  if(!el) return;
  el.classList.add('open');
  el.scrollIntoView({behavior:'smooth', block:'start'});
}

/* Aplicaci√≥n en vivo de algunos ajustes clave */
function applySettingLive(key, value){
  if(key==='font_family'){ document.body.style.setProperty('font-family', value); }
  if(key==='font_size'){ document.documentElement.style.setProperty('--font-size', value+'px'); document.querySelectorAll('.msg').forEach(m=> m.style.fontSize=value+'px'); }
  if(key==='theme'){
    const chat = document.getElementById('chatContainer');
    if(value==='Hoja'){ chat.style.backgroundImage = "url('https://i.pinimg.com/736x/82/bd/fb/82bdfbe631ffcf89855572048839f2c1.jpg')"; chat.style.backgroundColor=''; }
    if(value==='Claro'){ chat.style.backgroundImage='none'; chat.style.backgroundColor='#f9fafb'; }
    if(value==='Oscuro'){ chat.style.backgroundImage='none'; chat.style.backgroundColor='#0b1020'; }
  }
  if(key==='google_api_key'){ WebSearch.cfg.apiKey = value; }
  if(key==='google_cx'){ WebSearch.cfg.cx = value; }
  if(key==='allow_reproduction'){ ReproductionPolicy.allow = (value==='true'); }
  if(key==='max_children'){ ReproductionPolicy.maxChildrenPerIA = Number(value)||5; }
  if(key==='security_deny'){ ReproductionPolicy.topicDenyList = (value||'').split(',').map(s=>s.trim()).filter(Boolean); }
  if(key==='security_allow_domains'){ ReproductionPolicy.domainAllowList = (value||'').split(',').map(s=>s.trim()).filter(Boolean); }
}
</script>
<script id="augment-learning-minigpt">
/* ==================== Feeder PRO (acepta archivos pesados) ==================== */
function openFeederPro(){
  const wrap = document.createElement('div');
  wrap.id='feederPro';
  wrap.innerHTML = `
    <style>
      #feederPro{ position:fixed; inset:80px 40px; background:#0a0f1f; color:#e8f0ff; border:1px solid #1b2550; border-radius:14px; z-index:2300; display:flex; flex-direction:column; }
      #feederPro .bar{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#10183a; border-bottom:1px solid #1b2550; }
      #feederPro .body{ flex:1; display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:12px; overflow:auto; }
      #feederPro .card{ border:1px solid #1b2550; border-radius:10px; padding:10px; }
      #feederPro input, #feederPro textarea{ width:100%; background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; }
      #feederPro .list{ max-height:220px; overflow:auto; background:#091235; border-radius:8px; padding:6px; font-size:13px; }
    </style>
    <div class="bar"><strong>üß™ Feeder avanzado</strong><button onclick="document.getElementById('feederPro').remove()">Cerrar</button></div>
    <div class="body">
      <div class="card">
        <h4>Enlaces</h4>
        <textarea id="feed_links" placeholder="Pega enlaces (uno por l√≠nea)"></textarea>
        <button onclick="feederIngestLinks()">Guardar</button>
        <div class="list" id="feed_links_list"></div>
      </div>
      <div class="card">
        <h4>Archivos (pesados OK)</h4>
        <input id="feed_files" type="file" multiple />
        <button onclick="feederIngestFiles()">Ingerir archivos</button>
        <div class="list" id="feed_files_list"></div>
      </div>
      <div class="card">
        <h4>Texto directo</h4>
        <textarea id="feed_text" placeholder="Pega texto para entrenar"></textarea>
        <button onclick="feederIngestText()">Agregar texto</button>
        <div class="list" id="feed_text_list"></div>
      </div>
      <div class="card">
        <h4>Asignaci√≥n a IAs</h4>
        <input id="feed_assign" placeholder="Nombre IA o m√≥dulo (ej. PlantHealthIA)">
        <button onclick="feederAssign()">Asignar dataset a IA</button>
        <div class="list" id="feed_assign_list"></div>
      </div>
    </div>
  `;
  document.body.appendChild(wrap);
  refreshFeederLists();
}
function refreshFeederLists(){
  const links = JSON.parse(localStorage.getItem('herencia_training_links')||'[]');
  const files = JSON.parse(localStorage.getItem('herencia_training_files')||'[]');
  const texts = JSON.parse(localStorage.getItem('herencia_training_texts')||'[]');
  const assign = JSON.parse(localStorage.getItem('herencia_training_assign')||'[]');
  document.getElementById('feed_links_list').innerHTML = links.map(x=>`<div>üîó ${x}</div>`).join('');
  document.getElementById('feed_files_list').innerHTML = files.map(x=>`<div>üìÑ ${x.name} (${(x.content||'').length} chars)</div>`).join('');
  document.getElementById('feed_text_list').innerHTML = texts.map((x,i)=>`<div>‚úçÔ∏è #${i+1} ‚Äî ${x.slice(0,80)}...</div>`).join('');
  document.getElementById('feed_assign_list').innerHTML = assign.map(x=>`<div>üß© ${x.ia} ‚áê ${x.type} #${x.index||0}</div>`).join('');
}
function feederIngestLinks(){
  const v = document.getElementById('feed_links').value.trim();
  if(!v) return;
  const links = JSON.parse(localStorage.getItem('herencia_training_links')||'[]');
  v.split('\n').map(s=>s.trim()).filter(Boolean).forEach(u=> links.push(u));
  localStorage.setItem('herencia_training_links', JSON.stringify(links));
  document.getElementById('feed_links').value=''; refreshFeederLists(); showToast('Enlaces guardados');
}
function feederIngestFiles(){
  const input = document.getElementById('feed_files');
  const files = input.files; if(!files||!files.length) return;
  const readerPromises = Array.from(files).map(f=> new Promise(res=>{
    const fr = new FileReader(); fr.onload = ()=>res({name:f.name, content: fr.result}); fr.readAsText(f);
  }));
  Promise.all(readerPromises).then(list=>{
    const stored = JSON.parse(localStorage.getItem('herencia_training_files')||'[]');
    localStorage.setItem('herencia_training_files', JSON.stringify(stored.concat(list)));
    refreshFeederLists(); showToast('Archivos ingeridos');
  });
}
function feederIngestText(){
  const v = document.getElementById('feed_text').value.trim();
  if(!v) return;
  const texts = JSON.parse(localStorage.getItem('herencia_training_texts')||'[]');
  texts.push(v); localStorage.setItem('herencia_training_texts', JSON.stringify(texts));
  document.getElementById('feed_text').value=''; refreshFeederLists(); showToast('Texto agregado');
}
function feederAssign(){
  const ia = document.getElementById('feed_assign').value.trim(); if(!ia) return;
  const assign = JSON.parse(localStorage.getItem('herencia_training_assign')||'[]');
  assign.push({ia, type:'mixed', index: Date.now()}); localStorage.setItem('herencia_training_assign', JSON.stringify(assign));
  document.getElementById('feed_assign').value=''; refreshFeederLists(); showToast('Dataset asignado');
}

/* ==================== Aprendizaje Web (Google, Wikipedia, abierto) ==================== */
async function learnFromWeb(query){
  const results = [];
  // Google CSE (si configurado)
  try{
    const g = await WebSearch.google(query);
    results.push(...g.filter(x=> Safety.isDomainAllowed(x.link)));
  }catch(_){}
  // Wikipedia
  try{
    const w = await WebSearch.wikipedia(query);
    results.push(...w.filter(x=> Safety.isDomainAllowed(x.page)));
  }catch(_){}
  // Guardar en memoria larga (texto)
  const bundle = results.map(x=> `${x.title}\n${x.snippet||''}\n${x.link||x.page||''}`).join('\n\n');
  if(bundle) BrainMemory.long.push({ts:Date.now(), source:'web', query, content:bundle});
  return results;
}

/* ==================== Mini GPT interno ==================== */
function openMiniGPT(){
  const wrap = document.createElement('div');
  wrap.id='miniGpt';
  wrap.innerHTML = `
    <style>
      #miniGpt{ position:fixed; inset:120px 60px; background:#0a0f1f; color:#e8f0ff; border:1px solid #1b2550; border-radius:14px; z-index:2400; display:flex; flex-direction:column; }
      #miniGpt .bar{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#10183a; border-bottom:1px solid #1b2550; }
      #miniGpt .body{ flex:1; display:grid; grid-template-columns:2fr 1fr; gap:10px; padding:12px; overflow:auto; }
      #miniGpt .card{ border:1px solid #1b2550; border-radius:10px; padding:10px; }
      #miniGpt textarea, #miniGpt select, #miniGpt input{ width:100%; background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; }
      #miniGpt .out{ white-space:pre-wrap; background:#091235; border-radius:8px; padding:8px; min-height:160px; }
    </style>
    <div class="bar"><strong>ü§ñ Mini GPT Asistente</strong><button onclick="document.getElementById('miniGpt').remove()">Cerrar</button></div>
    <div class="body">
      <div class="card">
        <h4>Prompt</h4>
        <textarea id="gpt_in" placeholder="Escribe tu petici√≥n (crea m√≥dulos, prompts, textos, etc.)"></textarea>
        <div style="display:flex; gap:8px; margin-top:8px">
          <select id="gpt_style"><option>neutro</option><option>amistoso</option><option>profesional</option><option>po√©tico</option></select>
          <button onclick="miniGptRun()">Generar</button>
          <button onclick="miniGptUseInChat()">Enviar al chat</button>
        </div>
        <div class="out" id="gpt_out"></div>
      </div>
      <div class="card">
        <h4>Herramientas</h4>
        <button onclick="openTrainer()">üèãÔ∏è Entrenar respuestas</button>
        <button onclick="openFeederPro()">üß™ Feeder avanzado</button>
        <button onclick="learnFromPrompt()">üåç Aprender del web</button>
        <p style="font-size:12px;opacity:.8">*Si configuras Google API/CX, usar√© b√∫squeda real. Siempre con filtros.</p>
      </div>
    </div>
  `;
  document.body.appendChild(wrap);
}
async function miniGptRun(){
  const txt = document.getElementById('gpt_in').value.trim(); if(!txt) return;
  const style = document.getElementById('gpt_style').value;
  // Motor simple: combina semilla de personalidad + ejemplos + memoria larga + web opcional
  const persona = localStorage.getItem('herencia_persona_seed') || HERENCIA_PERSONALIDADES_CORE.central;
  const memLong  = BrainMemory.long.slice(-3).map(x=>x.content).join('\n\n');
  const tone = (style==='amistoso')?'tono cercano y alegre':
               (style==='profesional')?'tono profesional y claro':
               (style==='po√©tico')?'tono po√©tico y suave':'tono neutro';
  const out = `(${tone})\n[Personalidad]\n${persona}\n\n[Contexto]\n${memLong}\n\n[Solicitud]\n${txt}\n\n[Respuesta]\n- `;
  document.getElementById('gpt_out').textContent = out + '‚Ä¶';
}
function miniGptUseInChat(){
  const out = document.getElementById('gpt_out').textContent.trim(); if(!out) return;
  addMessage('bot', out);
}

/* ==================== Entrenamiento manual de respuestas ==================== */
function openTrainer(){
  const wrap = document.createElement('div');
  wrap.id='trainer';
  wrap.innerHTML = `
    <style>
      #trainer{ position:fixed; inset:120px 120px; background:#0a0f1f; color:#e8f0ff; border:1px solid #1b2550; border-radius:14px; z-index:2450; display:flex; flex-direction:column; }
      #trainer .bar{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#10183a; border-bottom:1px solid #1b2550; }
      #trainer .body{ flex:1; display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:12px; overflow:auto; }
      #trainer .card{ border:1px solid #1b2550; border-radius:10px; padding:10px; }
      #trainer textarea, #trainer input, #trainer select{ width:100%; background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; }
      #trainer .list{ max-height:220px; overflow:auto; background:#091235; border-radius:8px; padding:6px; font-size:13px; }
    </style>
    <div class="bar"><strong>üèãÔ∏è Entrenamiento de respuestas</strong><button onclick="document.getElementById('trainer').remove()">Cerrar</button></div>
    <div class="body">
      <div class="card">
        <h4>Ejemplo nuevo</h4>
        <input id="tr_q" placeholder="Pregunta">
        <textarea id="tr_a" placeholder="Respuesta perfecta"></textarea>
        <input id="tr_ia" placeholder="IA/m√≥dulo destinatario (ej. NaturalGenerationIA)">
        <button onclick="trainerSave()">Guardar ejemplo</button>
      </div>
      <div class="card">
        <h4>Ejemplos guardados</h4>
        <div class="list" id="tr_list"></div>
        <button onclick="trainerClear()">Vaciar ejemplos</button>
      </div>
    </div>
  `;
  document.body.appendChild(wrap);
  trainerRefresh();
}
function trainerSave(){
  const q = document.getElementById('tr_q').value.trim();
  const a = document.getElementById('tr_a').value.trim();
  const ia= document.getElementById('tr_ia').value.trim() || 'NaturalGenerationIA';
  if(!q||!a) return;
  const arr = JSON.parse(localStorage.getItem('herencia_train_examples')||'[]');
  arr.push({q,a,ia,ts:Date.now()});
  localStorage.setItem('herencia_train_examples', JSON.stringify(arr));
  document.getElementById('tr_q').value=''; document.getElementById('tr_a').value=''; document.getElementById('tr_ia').value='';
  trainerRefresh(); showToast('Ejemplo guardado');
}
function trainerRefresh(){
  const arr = JSON.parse(localStorage.getItem('herencia_train_examples')||'[]');
  document.getElementById('tr_list').innerHTML = arr.map((x,i)=>`<div>#${i+1} [${x.ia}] ${x.q} ‚áí ${x.a.slice(0,80)}...</div>`).join('');
}
function trainerClear(){
  if(!confirm('¬øEliminar todos los ejemplos?')) return;
  localStorage.removeItem('herencia_train_examples'); trainerRefresh();
}

/* ==================== Seguridad & √©tica panel ==================== */
function openSecurityPanel(){
  const wrap = document.createElement('div');
  wrap.id='securityPanel';
  wrap.innerHTML = `
    <style>
      #securityPanel{ position:fixed; inset:160px 120px; background:#0a0f1f; color:#e8f0ff; border:1px solid #1b2550; border-radius:14px; z-index:2460; display:flex; flex-direction:column; }
      #securityPanel .bar{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#10183a; border-bottom:1px solid #1b2550; }
      #securityPanel .body{ flex:1; display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:12px; overflow:auto; }
      #securityPanel .card{ border:1px solid #1b2550; border-radius:10px; padding:10px; }
      #securityPanel textarea, #securityPanel input{ width:100%; background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; }
    </style>
    <div class="bar"><strong>üõ°Ô∏è Seguridad & √âtica</strong><button onclick="document.getElementById('securityPanel').remove()">Cerrar</button></div>
    <div class="body">
      <div class="card">
        <h4>Reglas prohibidas</h4>
        <textarea id="sec_deny">${ReproductionPolicy.topicDenyList.join(', ')}</textarea>
        <button onclick="saveSecDeny()">Guardar</button>
      </div>
      <div class="card">
        <h4>Dominios permitidos</h4>
        <textarea id="sec_allow">${ReproductionPolicy.domainAllowList.join(', ')}</textarea>
        <button onclick="saveSecAllow()">Guardar</button>
      </div>
      <div class="card">
        <h4>Supervisor ‚Äî log</h4>
        <div class="list" style="max-height:220px;overflow:auto;background:#091235;border-radius:8px;padding:6px;" id="sec_log"></div>
      </div>
    </div>
  `;
  document.body.appendChild(wrap);
  document.getElementById('sec_log').innerHTML = Supervisor.log.map(x=>`<div>[${new Date(x.ts).toLocaleTimeString()}] ${x.evt}: ${x.detail}</div>`).join('');
}
function saveSecDeny(){
  const v = document.getElementById('sec_deny').value;
  ReproductionPolicy.topicDenyList = v.split(',').map(s=>s.trim()).filter(Boolean);
  localStorage.setItem('dm_security_deny', ReproductionPolicy.topicDenyList.join(','));
  showToast('Reglas prohibidas actualizadas');
}
function saveSecAllow(){
  const v = document.getElementById('sec_allow').value;
  ReproductionPolicy.domainAllowList = v.split(',').map(s=>s.trim()).filter(Boolean);
  localStorage.setItem('dm_security_allow_domains', ReproductionPolicy.domainAllowList.join(','));
  showToast('Dominios permitidos actualizados');
}

/* ==================== Aprender del prompt (Mini GPT -> Web) ==================== */
async function learnFromPrompt(){
  const q = document.getElementById('gpt_in')?.value?.trim(); if(!q) return;
  const r = await learnFromWeb(q);
  document.getElementById('gpt_out').textContent = (document.getElementById('gpt_out').textContent||'') + `\n\n[Web]\n` + r.map(x=>`‚Ä¢ ${x.title} ‚Äî ${x.link||x.page}`).join('\n');
}
</script>
<script id="augment-diagnosis-tox-memory-signature">
/* ==================== Bot√≥n ‚ÄúToxicidad animales‚Äù en men√∫ del estetoscopio ==================== */
(function addToxicityButton(){
  const menu = document.getElementById('apiMenu');
  const btn = document.createElement('button');
  btn.textContent = 'üêæ Toxicidad para animales';
  btn.setAttribute('data-diag','toxicidad');
  btn.addEventListener('click',()=>{ menu.style.display='none'; startWizard('toxicidad'); });
  menu.appendChild(btn);
})();

/* A√±adir wizard ‚Äútoxicidad‚Äù */
WIZARDS.toxicidad = [
  "¬øTienes la especie exacta o aproximada?",
  "¬øConvive con gatos, perros u otros animales?",
  "¬øHa mostrado la planta s√≠ntomas de toxicidad (l√°tex, olor fuerte, irritaci√≥n)?"
];

/* ==================== PlantID directo desde front (opcional) ==================== */
// Uso: callPlantIdSelected('plant_general' | 'plant_fungus' | 'plant_insects' | 'plant_care')
async function callPlantIdSelected(keyName){
  const key = API_KEYS[keyName];
  if(!key){ showToast('Configura la API seleccionada en DevMenu'); return null; }
  if(!uploadedImageBase64){ showToast('Primero sube o captura una foto'); return null; }
  try{
    const r = await PlantID.call(key, uploadedImageBase64);
    addMessage('bot', 'üìë Resultado PlantID recibido (resumen).');
    BrainMemory.mid.push({ts:Date.now(), source:'plantid', data:r});
    return r;
  }catch(e){
    addMessage('bot', '‚ö†Ô∏è PlantID fall√≥: '+e.message); return null;
  }
}

/* ==================== Toxicidad ‚Äî motor combinado ==================== */
const ToxicityDB = {
  // Mapa simple de ejemplos; ampliable v√≠a Feeder/Web
  "Dieffenbachia":"Alta (irritante; peligrosa para gatos/perros)",
  "Monstera deliciosa":"Moderada (irritaci√≥n leve al masticar)",
  "Spathiphyllum (Peace Lily)":"Alta (oxalatos c√°lcicos ‚Äî gatos/perros)",
  "Ficus benjamina":"Moderada (savia irritante)",
  "Aloe vera":"Moderada (al gastrointestinal en mascotas)",
  "Sansevieria (Dracaena trifasciata)":"Moderada (saponinas ‚Äî v√≥mitos)",
  "Pothos (Epipremnum aureum)":"Alta (oxalatos c√°lcicos)",
  "Nerium oleander":"Muy alta (cardiot√≥xica) ‚Äî extrema precauci√≥n"
};
function lookupToxicityByName(name){
  if(!name) return null;
  const keys = Object.keys(ToxicityDB);
  const hit = keys.find(k=> name.toLowerCase().includes(k.toLowerCase()));
  return hit ? `${hit}: ${ToxicityDB[hit]}` : null;
}

// Resumen post-wizard
const _origBuildSummary = buildWizardSummary;
buildWizardSummary = function(type, answers){
  if(type!=='toxicidad') return _origBuildSummary(type, answers);
  // 1) Intentar con PlantID memoria reciente
  let species = null, toxicity = null;
  const lastPID = [...BrainMemory.mid].reverse().find(x=>x.source==='plantid');
  if(lastPID){
    const guesses = lastPID.data?.result?.is_plant && (lastPID.data?.result?.classification?.suggestions||[]);
    if(guesses && guesses.length) species = guesses[0]?.name || guesses[0]?.species?.scientific_name;
  }
  // 2) Heur√≠stico por texto del usuario
  if(!species){
    const s = answers.join(' ').toLowerCase();
    const candidates = Object.keys(ToxicityDB);
    const hit = candidates.find(k=> s.includes(k.toLowerCase().split(' ')[0]));
    species = hit || null;
  }
  if(species){ toxicity = lookupToxicityByName(species); }
  const pet = /gato|perro|mascota/.test(answers.join(' ').toLowerCase()) ? 'S√≠' : 'No aclarado';
  return `üß™ Toxicidad ‚Äî Resultado preliminar
- Especie detectada: ${species||'(no detectada)'}
- Animales en casa: ${pet}
- Evaluaci√≥n: ${toxicity||'No tengo datos suficientes; revisa bases de datos veterinarias confiables.'}
- Recomendaci√≥n: Mant√©n la planta fuera del alcance de mascotas hasta confirmar con una fuente oficial.`;
};

/* ==================== Memoria multinivel controles (borrar por separado) ==================== */
function clearMemory(level){
  if(level==='short'){ BrainMemory.short = []; localStorage.removeItem('herencIA_chat_v3'); }
  if(level==='mid'){ BrainMemory.mid = []; }
  if(level==='long'){ BrainMemory.long = []; localStorage.removeItem('herencia_training_links'); localStorage.removeItem('herencia_training_files'); localStorage.removeItem('herencia_training_texts'); }
  showToast(`Memoria ${level} borrada`);
}

/* ==================== Firma final adicional solicitada ==================== */
(function addFinalSignature(){
  const sig = document.createElement('div');
  sig.style.cssText = 'margin:10px 0 24px; font-size:12px; opacity:.7; text-align:center;';
  sig.textContent = 'CREADO POR HERENCIA, BY: VALENCIA BRAVO D.E.';
  document.body.appendChild(sig);
})();
</script>
</body>
</html>





ESTE ES LA BASE: QUIERO QUE SE PAREZCA ASI -, <!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>HERENC(IA) | Tu amiga plantil</title>

<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@600;700&family=Poppins:wght@400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<style>
  :root{
    --verde-oscuro:#24391b;
    --verde-medio:#4B6B1F;
    --verde-medio-oscuro:#395015;
    --verde-claro:#cbe7a3;
    --texto-oscuro:#1f2933;

    /* Apariencia botones/barra controlable desde DevMenu */
    --btn-radius: 15px;
    --btn-shadow: 0 3px 8px rgba(0,0,0,0.25);
    --bar-radius: 20px;
    --mic-size: 38px;
    --mic-pulse: 1; /* 0 desactiva pulse */
    --chat-overlay-a: 0.90;
    --chat-overlay-b: 0.92;

    /* Fondo por defecto: hojas provistas por ti */
    --chat-bg:url('https://i.pinimg.com/736x/82/bd/fb/82bdfbe631ffcf89855572048839f2c1.jpg');
  }

  *{box-sizing:border-box;margin:0;padding:0;}
  body{
    font-family:'Poppins',sans-serif;
    min-height:100vh;
    display:flex;flex-direction:column;align-items:center;
    background: radial-gradient(circle at top,#f4f7f0 0,#dbe9d0 40%,#c2d1b3 70%,#9ab08a 100%);
    color:var(--texto-oscuro);
    -webkit-font-smoothing:antialiased;
  }
  header{text-align:center;padding:1.6rem 1rem 1rem;}
  .logo{max-width:210px;margin-bottom:0.5rem;}
  .subtitle{font-size:1.08rem;color:var(--verde-oscuro);}

  .chat-container{
    width:95%;max-width:820px;min-height:620px;
    border-radius:22px; margin:1rem 0 1.6rem;
    position:relative; padding:1.2rem 1rem;
    box-shadow:0 18px 40px rgba(0,0,0,0.32);
    border:2px solid rgba(45,74,20,0.45);
    background:var(--chat-bg);
    background-size:cover;background-position:center;
    overflow:hidden;display:flex;flex-direction:column;
  }
  .chat-overlay{position:absolute;inset:0;
    background:linear-gradient(135deg,rgba(255,255,255,var(--chat-overlay-a)),rgba(230,243,221,var(--chat-overlay-b)));
    pointer-events:none;}
  .chat-inner{position:relative;z-index:1;display:flex;flex-direction:column;height:100%;}

  .messages{flex:1;overflow-y:auto;padding-right:0.4rem;}
  .msg{margin:0.55rem 0;padding:0.8rem 1.05rem;border-radius:18px;max-width:82%;
       word-wrap:break-word;font-size:0.97rem;box-shadow:0 2px 5px rgba(0,0,0,0.18);white-space:pre-wrap;}
  .msg img{max-width:100%;border-radius:12px;margin-top:0.4rem;display:block;}
  .msg.user{align-self:flex-end;background:rgba(255,255,255,0.96);border:1px solid rgba(75,107,31,0.18);border-bottom-right-radius:6px;}
  .msg.bot{align-self:flex-start;background:rgba(0,80,0,0.92);color:#fff;border-bottom-left-radius:6px;}
  .msg-meta{font-size:0.7rem;opacity:0.8;margin-top:0.25rem;}

  .typing-indicator{font-size:0.84rem;color:#3f4a31;display:none;align-items:center;gap:0.35rem;margin:0.15rem 0 0.3rem 0.2rem;}
  .typing-dots span{display:inline-block;width:4px;height:4px;border-radius:999px;background:#22c55e;margin-right:3px;animation:dotPulse .9s infinite ease-in-out;}
  .typing-dots span:nth-child(2){animation-delay:.1s;}
  .typing-dots span:nth-child(3){animation-delay:.2s;}
  @keyframes dotPulse{0%,60%,100%{transform:translateY(0);opacity:.4;}30%{transform:translateY(-2px);opacity:1;}}

  /* BARRA INFERIOR (est√°tica/siempre visible) */
  .input-row{display:flex;gap:0.45rem;margin-top:0.4rem;flex-wrap:wrap;align-items:center;}
  .input-group{flex:1;display:flex;align-items:center;background:rgba(255,255,255,0.98);border-radius:var(--bar-radius);
               padding:0.15rem 0.3rem 0.15rem 0.5rem;border:1px solid rgba(0,0,0,0.08);}
  .input-group input[type="text"]{flex:1;border:none;outline:none;font-size:0.95rem;background:transparent;padding:0.55rem 0.3rem;}
  .input-group input::placeholder{color:#9ca3af;}

  /* Mic toggle (TU FLUJO) */
  .mic-btn{
    width:var(--mic-size);height:var(--mic-size);border-radius:999px;border:none;background:#ffffff;
    display:flex;align-items:center;justify-content:center;cursor:pointer;
    box-shadow:0 4px 12px rgba(0,0,0,0.18);transition:background-color .15s ease, transform .05s ease, box-shadow .25s ease;
  }
  .mic-btn i{color:#222;font-size:15px;}
  .mic-btn:active{transform:translateY(1px) scale(0.97);}
  .mic-btn.active{background:#e53935;} /* rojo encendido */
  .mic-btn.active i{color:#fff;}
  /* pulso opcional */
  .mic-btn.active{box-shadow:0 0 0 rgba(229,57,53,0.6);}
  .mic-btn.active.pulse{animation:micPulse 1.4s ease-in-out infinite;}
  @keyframes micPulse{
    0%{box-shadow:0 0 0 0 rgba(229,57,53,0.55);}
    70%{box-shadow:0 0 0 18px rgba(229,57,53,0);}
    100%{box-shadow:0 0 0 0 rgba(229,57,53,0);}
  }

  button.send-btn,button.voice-btn,button.diagnosis-btn,label.camera-btn,button.translate-btn{
    background-color:var(--verde-medio);color:#fff;border:none;border-radius:var(--btn-radius);
    padding:0.7rem 1.3rem;font-size:0.9rem;cursor:pointer;display:inline-flex;align-items:center;gap:0.35rem;
    box-shadow:var(--btn-shadow);transition:background-color .22s ease, transform .05s ease, box-shadow .12s ease;
  }
  button.send-btn:hover,button.voice-btn:hover,button.diagnosis-btn:hover,label.camera-btn:hover,button.translate-btn:hover{background:var(--verde-medio-oscuro);}
  button.send-btn:active,button.voice-btn:active,button.diagnosis-btn:active,label.camera-btn:active,button.translate-btn:active{
    transform:translateY(1px) scale(0.97);box-shadow:0 1px 4px rgba(0,0,0,0.4);
  }
  label.camera-btn input{display:none;}

  .second-row{display:flex;gap:0.4rem;flex-wrap:wrap;justify-content:center;margin-top:0.45rem;}
  .map-btn-link .voice-btn{background:#315a9a;}
  .whatsapp-btn{background:#25D366!important;}

  .toast{position:fixed;bottom:18px;left:50%;transform:translateX(-50%);padding:0.7rem 1.3rem;background:rgba(0,0,0,0.86);
         color:#fff;border-radius:20px;font-size:0.87rem;box-shadow:0 2px 8px rgba(0,0,0,0.35);opacity:0;pointer-events:none;transition:opacity .35s ease;z-index:2000;}
  .toast.show{opacity:1;}

  .api-menu,.translate-menu{
    position:absolute;background:#ffffff;padding:0.85rem;border-radius:15px;display:none;flex-direction:column;gap:0.45rem;
    box-shadow:0 5px 24px rgba(0,0,0,0.3);border:1px solid #c5d2b4;z-index:1500;}
  .api-menu{bottom:115px;right:10px;width:240px;}
  .translate-menu{bottom:115px;left:10px;min-width:210px;}
  .menu-header{font-size:0.83rem;font-weight:600;color:#425136;margin-bottom:0.3rem;}
  .api-menu button,.translate-menu button{background:var(--verde-medio);color:#fff;border:none;padding:0.45rem 0.7rem;border-radius:10px;font-size:0.84rem;cursor:pointer;text-align:left;}
  .api-menu button:hover,.translate-menu button:hover{background:var(--verde-medio-oscuro);}

  /* C√°mara / Esc√°ner */
  .camera-preview{display:none;margin-top:0.5rem;}
  .camera-preview video{width:100%;border-radius:14px;border:2px solid rgba(75,107,31,0.35);}
  .camera-preview-controls{display:flex;gap:0.4rem;margin-top:0.25rem;flex-wrap:wrap;}
  .camera-preview-controls button{background:#111827;color:#fff;border:none;padding:0.4rem 0.9rem;border-radius:10px;font-size:0.82rem;cursor:pointer;}

  /* DevMenu (arrastrable) */
  #devTrigger{position:fixed;top:6px;right:6px;width:28px;height:28px;border-radius:50%;background:rgba(0,0,0,0.22);
              display:flex;align-items:center;justify-content:center;color:#fff;font-size:13px;cursor:pointer;opacity:0.06;z-index:1700;}
  #devMenu{position:fixed;top:60px;right:20px;background:#0b1020;color:#e6ebff;padding:10px;border-radius:14px;display:none;flex-direction:column;gap:8px;width:360px;max-width:95%;
           z-index:1800;box-shadow:0 12px 30px rgba(0,0,0,0.65);font-size:0.83rem;}
  #devMenu .drag-handle{cursor:move;background:#111836;padding:6px 8px;border-radius:10px;display:flex;gap:6px;align-items:center;justify-content:space-between;}
  #devMenu h3{margin:0;font-size:0.96rem;}
  #devMenu section{background:#0d1430;border:1px solid #17224e;border-radius:10px;padding:8px;display:flex;flex-direction:column;gap:6px;}
  #devMenu label{font-size:0.82rem;display:flex;align-items:center;gap:6px;}
  #devMenu input,#devMenu select,#devMenu textarea{width:100%;border-radius:8px;border:1px solid #2a3a7a;background:#0b1430;color:#e6ebff;padding:6px 8px;font-size:0.82rem;}
  #devMenu textarea{resize:vertical;min-height:60px;}
  #devMenu button{background:#2f7d3b;border:none;border-radius:8px;padding:6px 8px;font-size:0.82rem;cursor:pointer;}
  #devMenu button:hover{background:#4B6B1F;}
  #devMenu .row{display:flex;gap:8px;flex-wrap:wrap;}
  #iaList{max-height:110px;overflow-y:auto;background:#0a132c;padding:6px;border-radius:7px;font-size:0.78rem;}
  #devLogs{max-height:90px;overflow-y:auto;background:#071028;border-radius:8px;padding:6px;font-size:0.72rem;}

  footer{margin:0.4rem 1rem 1.3rem;font-size:0.84rem;color:#777;text-align:center;}
  footer .signature{font-weight:bold;color:#b3b3b3;}
  footer a{color:var(--verde-medio);text-decoration:none;}
  footer a:hover{text-decoration:underline;}

  @media(max-width:640px){
    .chat-container{padding:1rem 0.8rem;border-radius:18px;}
    .input-group input{font-size:0.88rem;}
    button.send-btn,button.voice-btn,button.diagnosis-btn,label.camera-btn,button.translate-btn{padding:0.6rem 1rem;font-size:0.85rem;}
  }
</style>
</head>
<body>

<header>
  <img src="https://herenciafloristeria.es/assets/full-logo-DV4tgILq.png" class="logo" alt="Herencia Logo">
  <p class="subtitle" id="subtitle">HERENC(<strong>IA</strong>) ‚Äî Tu amiga plantil</p>
</header>

<div class="chat-container" id="chatContainer">
  <div class="chat-overlay"></div>
  <div class="chat-inner" id="chatInner" onclick="handleBackgroundClick(event)">
    <div class="messages" id="messages"></div>

    <div id="typingIndicator" class="typing-indicator">
      <span class="typing-dots"><span></span><span></span><span></span></span>
      <span>Herenc(IA) est√° pensando‚Ä¶</span>
    </div>

    <!-- BARRA INFERIOR (est√°tica) -->
    <div class="input-row">
      <div class="input-group">
        <input id="userInput" type="text" placeholder="Escribe tu pregunta aqu√≠..." />
        <button class="mic-btn" id="micButton" title="Micr√≥fono (on/off)" onclick="toggleMic()">
          <i class="fa-solid fa-microphone"></i>
        </button>
      </div>
      <button class="send-btn" id="sendBtn">Enviar <i class="fa-solid fa-paper-plane"></i></button>
      <button class="voice-btn" id="speakBtn" title="Escuchar respuesta"><i class="fa-solid fa-volume-high"></i></button>
      <button class="diagnosis-btn" id="diagBtn" title="Men√∫ diagn√≥stico"><i class="fa-solid fa-stethoscope"></i></button>
      <button class="voice-btn translate-btn" type="button" id="translateBtn" title="Traducir todo el chat">üåç</button>
    </div>

    <div class="second-row">
      <label class="camera-btn">
        <i class="fa-solid fa-camera"></i> Subir foto
        <input type="file" id="plantPhoto" accept="image/*">
      </label>

      <button class="voice-btn" id="scannerBtn" type="button" title="Esc√°ner (c√°mara)">üì∑ Esc√°ner</button>

      <a class="map-btn-link" href="https://www.google.com/maps/search/?api=1&query=AVINGUDA+RIERA+DE+CASSOLES+10+09012+BARCELONA" target="_blank" rel="noopener">
        <button class="voice-btn" type="button" title="Ver en Maps">üó∫</button>
      </a>

      <a class="map-btn-link" href="https://wa.me/34624239598" target="_blank" rel="noopener">
        <button class="voice-btn whatsapp-btn" type="button" title="WhatsApp Herencia"><i class="fa-brands fa-whatsapp"></i></button>
      </a>
    </div>

    <!-- Vista previa c√°mara -->
    <div class="camera-preview" id="cameraPreview">
      <video id="cameraVideo" autoplay playsinline></video>
      <div class="camera-preview-controls">
        <button id="captureFrameBtn">Capturar</button>
        <button id="closeCameraBtn">Cerrar</button>
      </div>
    </div>

    <!-- Men√∫ diagn√≥stico -->
    <div id="apiMenu" class="api-menu">
      <div class="menu-header" data-i18n="diagTitle">Men√∫ de diagn√≥stico</div>
      <button data-diag="general">üîç Diagn√≥stico general</button>
      <button data-diag="plantid">ü™™ Identificar planta (PlantID)</button>
      <button data-diag="riego">üíß Riego</button>
      <button data-diag="hongos">üçÑ Hongos</button>
      <button data-diag="plagas">üêõ Plagas / insectos</button>
      <button data-diag="luz">‚òÄÔ∏è Luz / clima</button>
      <button data-diag="trasplante">ü™¥ Trasplante</button>
      <button data-diag="abono">üß™ Abono / nutrientes</button>
      <button data-diag="temporada">üçÉ Temporada / estaci√≥n</button>
      <button data-diag="cuidados">üìã Cuidados generales</button>
    </div>

    <!-- Men√∫ traducci√≥n -->
    <div id="translateMenu" class="translate-menu">
      <div class="menu-header">Traducir chat a:</div>
      <button data-lang="es">üá™üá∏ Espa√±ol</button>
      <button data-lang="en">üá¨üáß English</button>
      <button data-lang="ca">üè¥ Catal√†</button>
      <button data-lang="fr">üá´üá∑ Fran√ßais</button>
    </div>

  </div>
</div>

<!-- Disparador & Men√∫ Desarrollador (arrastrable) -->
<div id="devTrigger" title="Men√∫ desarrollador"><i class="fa-solid fa-gear"></i></div>
<div id="devMenu">
  <div class="drag-handle"><span>‚öôÔ∏è DevMenu ‚Äî HERENCIA</span><button id="closeDevBtn" title="Cerrar">‚úñ</button></div>

  <section>
    <h3>General</h3>
    <label><input type="checkbox" id="autoRepair"> IA autoreparadora</label>
    <label><input type="checkbox" id="debugMode"> Modo debug</label>
    <div class="row">
      <button id="clearChatDevBtn">Limpiar chat</button>
      <button id="exportConfigBtn">Exportar config</button>
      <button id="importConfigBtn">Importar config</button>
    </div>
  </section>

  <section>
    <h3>Apariencia</h3>
    <label>Fondo:
      <select id="bgSelect">
        <option value="hojas">Hojas originales</option>
        <option value="claro">Claro minimalista</option>
        <option value="oscuro">Oscuro elegante</option>
        <option value="custom">URL personalizada‚Ä¶</option>
      </select>
    </label>
    <input id="bgUrlInput" placeholder="Pega URL de imagen‚Ä¶" style="display:none;">
    <div class="row">
      <label style="flex:1">Radio botones <input id="btnRadius" type="range" min="6" max="26" value="15"></label>
      <label style="flex:1">Radio barra <input id="barRadius" type="range" min="10" max="28" value="20"></label>
    </div>
    <div class="row">
      <label style="flex:1">Tama√±o mic <input id="micSize" type="range" min="28" max="56" value="38"></label>
      <label style="flex:1"><input type="checkbox" id="micPulse"> Mic con pulso</label>
    </div>
  </section>

  <section>
    <h3>Voces y Mic</h3>
    <label>Voz TTS del navegador:
      <select id="voiceSelect"><option value="">Auto</option></select>
    </label>
    <label>Idioma STT/TTS:
      <select id="langSelect">
        <option value="es">Espa√±ol</option>
        <option value="en">English</option>
        <option value="ca">Catal√†</option>
        <option value="fr">Fran√ßais</option>
      </select>
    </label>
    <label>Modo mic: 
      <select id="micModeSelect"><option value="toggle">Click on/off</option></select>
    </label>
  </section>

  <section>
    <h3>APIs</h3>
    <div class="row">
      <input id="apiPlantIdGeneral" placeholder="PlantID General API Key">
      <input id="apiPlantIdFungus"  placeholder="PlantID Fungus API Key">
    </div>
    <div class="row">
      <input id="apiPlantIdInsects" placeholder="PlantID Insects API Key">
      <input id="apiPlantIdCare"    placeholder="PlantID Care API Key">
    </div>
    <div class="row">
      <button id="saveApisBtn">Guardar APIs</button>
      <button id="testApisBtn">Test r√°pido</button>
    </div>
  </section>

  <section>
    <h3>Entrenar IAs (Feeder)</h3>
    <textarea id="linksFeeder" placeholder="Pega aqu√≠ enlaces (uno por l√≠nea) para aprender‚Ä¶"></textarea>
    <div class="row">
      <button id="ingestLinksBtn">Ingerir enlaces</button>
      <input id="trainFileInput" type="file" multiple accept=".txt,.md,.json,.csv" />
      <button id="ingestFilesBtn">Ingerir archivos</button>
    </div>
    <textarea id="personaSeed" placeholder="Semilla de Personalidad de HERENC(IA)‚Ä¶ (puedes pegar tu documento de personalidad aqu√≠)"></textarea>
    <div class="row">
      <button id="savePersonaBtn">Guardar personalidad</button>
      <button id="resetPersonaBtn">Reset semilla</button>
    </div>
  </section>

  <section>
    <h3>Crear/gestionar m√≥dulos IA</h3>
    <div class="row">
      <input id="iaNameInput" placeholder="Nombre m√≥dulo IA (ej: IA de hongos)">
      <select id="iaTypeSelect">
        <option value="diagnostico">Diagn√≥stico</option>
        <option value="info">Informaci√≥n</option>
        <option value="clima">Clima</option>
        <option value="aprendizaje">Aprendizaje</option>
      </select>
    </div>
    <input id="iaEndpointInput" placeholder="Endpoint/Plugin (opcional)">
    <textarea id="iaDescInput" placeholder="Descripci√≥n / prop√≥sito"></textarea>
    <div class="row"><button id="addIaBtn">Crear IA</button></div>
    <strong>M√≥dulos activos:</strong>
    <div id="iaList"></div>
  </section>

  <section>
    <h3>Herramientas Pro</h3>
    <div class="row">
      <button id="autoRepairTestBtn">Test IA-reparadora</button>
      <button id="scannerHiResBtn">Esc√°ner Hi‚ÄëRes</button>
      <button id="toggleOverlayBtn">Overlay chat +/-</button>
    </div>
  </section>

  <section>
    <h3>Logs</h3>
    <div id="devLogs"></div>
  </section>
</div>

<div id="toast" class="toast"></div>

<footer>
  <div class="signature">HERENCIA ‚Äî BY: VALENCIA BRAVO D.E</div>
  <div>Informaci√≥n y consultas: <a href="https://www.herenciafloristeria.es/" target="_blank" rel="noopener">Herencia Florister√≠a</a></div>
</footer>

<script>
  /* ==================== ESTADO GLOBAL ==================== */
  let messages = [];
  let logs = [];
  let lastBotText = '';
  let currentLanguage = 'es';

  // ===== MIC (TU FLUJO EXACTO: toggle rojo, on/off) =====
  let recognition;      // <‚Äî √∫nica (no duplicada)
  let micActive = false;

  // ===== TTS =====
  let selectedVoice = null;

  // ===== C√°mara / Esc√°ner =====
  let cameraStream = null;
  let uploadedImageBase64 = null;

  // ===== IAs / Config =====
  const HERENCIA = {
    modules: [],
    superBrainEnabled: true
  };

  // API storage (se guardan/recuperan en localStorage)
  const API_KEYS = {
    plant_general: "",
    plant_fungus:  "",
    plant_insects: "",
    plant_care:    ""
  };

  // ===== Traducci√≥n =====
  let currentTranslator = 'auto'; // probar√° LibreTranslate y si no, fallback pseudo
  let lastTranslateLang = 'es';

  // ===== Wizard de diagn√≥stico =====
  const WIZARDS = {
    general:     ["¬øD√≥nde vive la planta (interior/exterior)?","¬øCu√°nta luz recibe?","¬øFrecuencia de riego?","¬øS√≠ntomas visibles?"],
    riego:       ["¬øCada cu√°nto riegas?","¬øDrena bien la maceta?","¬øNotas hojas ca√≠das o amarillas?"],
    hongos:      ["¬øVes polvillo, moho o manchas?","¬øHuele mal el sustrato?","¬øHay zonas blandas/podridas?"],
    plagas:      ["¬øVes bichos o puntos m√≥viles?","¬øHay melaza/pegajosidad?","¬øDa√±os en bordes u orificios?"],
    luz:         ["¬øTiene sol directo? ¬øCu√°ntas horas?","¬øTemperatura t√≠pica?","¬øCorrientes de aire?"],
    trasplante:  ["¬øRa√≠ces asoman abajo?","¬øCu√°nto hace del √∫ltimo trasplante?","¬øSustrato compacto o agotado?"],
    abono:       ["¬øUsas abono? ¬øCu√°l?","¬øCada cu√°nto lo aplicas?","¬øNotas mejora o quemaduras?"],
    temporada:   ["¬øEn qu√© estaci√≥n est√°s?","¬øCrecimiento, reposo o floraci√≥n?","¬øCambios recientes de clima?"],
    cuidados:    ["¬øEspecie (si sabes)?","¬øRutina de limpieza de hojas?","¬øTipo de sustrato?"],
    plantid:     ["(Opcional) Sube foto o usa Esc√°ner y pulsa Capturar.","¬øTama√±o aproximado?","¬øHojas: forma/color?"]
  };
  let activeWizard = null; // {type, i, answers:[]}

  /* ==================== UTILIDADES ==================== */
  function showToast(text){
    const t = document.getElementById('toast');
    t.textContent = text; t.classList.add('show');
    setTimeout(()=>t.classList.remove('show'),1500);
  }
  function log(msg){
    logs.push(msg);
    const devLogs = document.getElementById('devLogs');
    if(devLogs){ devLogs.textContent = logs.slice(-18).join('\n'); }
    if(document.getElementById('debugMode')?.checked) console.debug('[DEV]', msg);
  }
  function setTyping(show){
    const el = document.getElementById('typingIndicator');
    if(el) el.style.display = show ? 'flex' : 'none';
  }
  function saveChat(){ try{ localStorage.setItem('herencIA_chat_v3', JSON.stringify(messages)); }catch(_){} }
  function loadChat(){
    try{
      const raw = localStorage.getItem('herencIA_chat_v3'); if(!raw) return;
      const saved = JSON.parse(raw); if(Array.isArray(saved)) saved.forEach(m=>addMessage(m.sender,m.text,false,m.imageSrc));
    }catch(_){}
  }
  function addMessage(sender,text,save=true,imageSrc=null){
    const container = document.getElementById('messages');
    const div = document.createElement('div');
    div.classList.add('msg', sender==='user'?'user':'bot');
    div.dataset.original = text;
    let html = `<div>${text}</div>`;
    if(imageSrc){ html += `<img src="${imageSrc}" alt="Imagen de planta">`; }
    html += `<div class="msg-meta">${sender==='user'?'T√∫':'Herenc(IA)'} ¬∑ ${new Date().toLocaleTimeString('es-ES',{hour:'2-digit',minute:'2-digit'})}</div>`;
    div.innerHTML = html;
    container.appendChild(div); container.scrollTop = container.scrollHeight;
    if(save){ messages.push({sender,text,imageSrc}); saveChat(); }
    if(sender==='bot') lastBotText = text;
  }
  function clearChat(fromDev=false){
    messages = []; try{localStorage.removeItem('herencIA_chat_v3');}catch(_){}
    const container = document.getElementById('messages'); container.innerHTML = '';
    addMessage('bot', fromDev ? 'Chat limpiado desde DevMenu.' : 'Chat reiniciado. Cu√©ntame de otra planta üå±.');
  }
  function playSendSound(){
    try{
      const Ctx = window.AudioContext || window.webkitAudioContext; const ctx = new Ctx();
      const osc = ctx.createOscillator(); const gain = ctx.createGain();
      osc.type='triangle'; osc.frequency.value=880; osc.connect(gain); gain.connect(ctx.destination);
      gain.gain.setValueAtTime(0.18,ctx.currentTime); gain.gain.exponentialRampToValueAtTime(0.001,ctx.currentTime+0.12);
      osc.start(); osc.stop(ctx.currentTime+0.12);
    }catch(_){}
  }

  /* ==================== ENV√çO & PROCESO ==================== */
  function sendMessage(){
    const input = document.getElementById('userInput');
    const text = input.value.trim(); if(!text) return;

    // PIN para abrir DevMenu v√≠a chat (normal)
    if(text === '13101098'){ toggleDevMenu(true); addMessage('bot','Men√∫ desarrollador desbloqueado üîì.'); input.value=''; return; }

    playSendSound(); addMessage('user', text); input.value='';
    processMessage(text);
  }

  function processMessage(text){
    if(activeWizard){
      activeWizard.answers.push(text);
      return wizardNextOrFinish();
    }
    addMessage('bot','Pensando...');
    setTyping(true);
    setTimeout(()=>{
      try{
        const t = text.toLowerCase();
        if(/diagn[o√≥]stico general/.test(t)) startWizard('general');
        else if(/\bplantid|identif|qu[e√©]\splanta/.test(t)) startWizard('plantid');
        else if(/plaga|insecto|bicho/.test(t)) startWizard('plagas');
        else if(/hongo|moho/.test(t)) startWizard('hongos');
        else if(/riego|agua/.test(t)) startWizard('riego');
        else if(/luz|sol|sombra|temperatura|fr[i√≠]o|calor|clima/.test(t)) startWizard('luz');
        else if(/trasplante|cambiar maceta/.test(t)) startWizard('trasplante');
        else if(/abono|fertilizante/.test(t)) startWizard('abono');
        else if(/estaci[o√≥]n|temporada/.test(t)) startWizard('temporada');
        else if(/cuidado|cuidados/.test(t)) startWizard('cuidados');
        else {
          addMessage('bot','üåø ¬°Hola! Soy Herenc(IA), pero puedes llamarme **Herencia**. Estoy aqu√≠ para cuidar tus plantas contigo üíö. ¬øQu√© le pasa a tu planta? ¬øTienes foto para revisar?');
        }
      }catch(e){
        handleError(e); addMessage('bot','Ups, tuve un peque√±o tropiezo interno, pero intento autorepararme üå±.');
      }finally{
        setTyping(false);
      }
    }, 450);
  }

  /* ==================== WIZARD DIAGN√ìSTICO ==================== */
  function startWizard(type){
    const steps = WIZARDS[type]||[];
    activeWizard = {type, i:0, answers:[]};
    const intro = {
      general:'üîç Har√© un diagn√≥stico general. Responde unas preguntas cortas:',
      plantid:'ü™™ Intentemos identificar tu planta (mejor si capturas/adjuntas foto).',
      riego:'üíß Revisemos el riego.',
      hongos:'üçÑ Busquemos signos de hongos.',
      plagas:'üêõ Veamos si hay plagas.',
      luz:'‚òÄÔ∏è Luz/Clima.',
      trasplante:'ü™¥ Trasplante.',
      abono:'üß™ Abonado.',
      temporada:'üçÉ Temporada.',
      cuidados:'üìã Cuidados generales.'
    }[type] || 'Diagn√≥stico interactivo';
    addMessage('bot', intro);
    addMessage('bot', '‚Ä¢ '+steps[0]);
  }
  function wizardNextOrFinish(){
    const steps = WIZARDS[activeWizard.type]||[];
    activeWizard.i++;
    if(activeWizard.i < steps.length){
      addMessage('bot','‚Ä¢ '+steps[activeWizard.i]);
    }else{
      const summary = buildWizardSummary(activeWizard.type, activeWizard.answers);
      addMessage('bot', summary);
      activeWizard = null;
    }
  }
  function buildWizardSummary(type, answers){
    const head = `üß† Resultado preliminar (${type}):`;
    let hint = 'Recomiendo observar durante 48h y ajustar luz/riego.';
    if(type==='riego'){
      hint = 'Si la hoja cae y el sustrato est√° h√∫medo, reduce riego; si est√° seco y la hoja lacia, hidrata con riego lento.';
    }else if(type==='hongos'){
      hint = 'A√≠sla la planta, mejora ventilaci√≥n y evita mojar hojas; valora fungicida suave si reaparece.';
    }else if(type==='plagas'){
      hint = 'Revisa env√©s y brotes; jab√≥n pot√°sico o neem son opciones iniciales.';
    }else if(type==='plantid'){
      hint = 'Con la foto capturada puedo intentar PlantID cuando actives la API en DevMenu ‚Üí APIs.';
    }
    return `${head}\n- Respuestas: ${answers.map((a,i)=>`[${i+1}] ${a}`).join(' | ')}\n- Sugerencia: ${hint}`;
  }

  /* ==================== SUBIR FOTO & ESC√ÅNER ==================== */
  document.getElementById('plantPhoto').addEventListener('change', (ev)=>{
    const file = ev.target.files[0]; if(!file) return;
    const reader = new FileReader();
    reader.onload = (e)=>{
      uploadedImageBase64 = e.target.result;
      showToast('Imagen cargada. Lista para an√°lisis üå±.');
      addMessage('user','He subido una foto de la planta üì∑.',true,uploadedImageBase64);
      addMessage('bot','Imagen recibida. Puedo usarla para diagn√≥stico o PlantID.');
    };
    reader.readAsDataURL(file);
  });

  const scannerBtn = document.getElementById('scannerBtn');
  const cameraPreview = document.getElementById('cameraPreview');
  const cameraVideo = document.getElementById('cameraVideo');
  const captureFrameBtn = document.getElementById('captureFrameBtn');
  const closeCameraBtn = document.getElementById('closeCameraBtn');

  scannerBtn.addEventListener('click', async ()=>{
    if(cameraPreview.style.display==='block'){ stopCamera(); return; }
    try{
      cameraStream = await navigator.mediaDevices.getUserMedia({ video: {facingMode:'environment'}, audio:false });
      cameraVideo.srcObject = cameraStream;
      cameraPreview.style.display='block';
      showToast('Esc√°ner activo. Enfoca la planta.');
    }catch(e){ log('Error c√°mara: '+e); showToast('No pude acceder a la c√°mara.'); }
  });
  function stopCamera(){
    if(cameraStream){ cameraStream.getTracks().forEach(t=>t.stop()); cameraStream=null; }
    cameraPreview.style.display='none';
  }
  closeCameraBtn.addEventListener('click', stopCamera);

  captureFrameBtn.addEventListener('click', ()=>{
    if(!cameraStream) return;
    const canvas = document.createElement('canvas');
    canvas.width = cameraVideo.videoWidth || 640; canvas.height = cameraVideo.videoHeight || 480;
    const ctx = canvas.getContext('2d'); ctx.drawImage(cameraVideo,0,0,canvas.width,canvas.height);
    const data = canvas.toDataURL('image/jpeg',0.9);
    uploadedImageBase64 = data;
    addMessage('user','He capturado una imagen desde el Esc√°ner üì∑.',true,uploadedImageBase64);
    addMessage('bot','Frame capturado. Puedo usarlo para PlantID o an√°lisis.');
  });

  /* ==================== MICR√ìFONO (TU C√ìDIGO) ==================== */
  function toggleMic(){
    micActive=!micActive;
    const mb = document.getElementById('micButton');
    mb.classList.toggle('active');
    if(document.getElementById('micPulse')?.checked){ mb.classList.toggle('pulse', micActive); }
    if(micActive) startListening(); else stopListening();
  }

  function startListening(){
    try{
      recognition = new (window.SpeechRecognition||window.webkitSpeechRecognition)();
      recognition.lang = window.HERENCIA_STT_LANG || 'es-ES';
      recognition.interimResults=true;
      recognition.continuous=false;
      recognition.start();

      recognition.onresult=e=>{
        document.getElementById('userInput').value = e.results[0][0].transcript;
      };

      recognition.onerror=e=>{ handleError(e); };
      recognition.onend=()=>{ if(micActive) recognition.start(); };
    } catch(e){ handleError(e); }
  }

  function stopListening(){ if(recognition) recognition.stop(); }

  function handleError(e){
    logs.push(`Error detectado: ${e.message||e}`);
    if(document.getElementById('autoRepair')?.checked){
      console.warn('IA autoreparadora activada, reiniciando funciones...');
      initIA();
    }
  }
  function initIA(){ if(!messages) messages=[]; if(!micActive) micActive=false; }

  /* ==================== TTS (lee ‚ÄúHerencia‚Äù, sin emojis) ==================== */
  function sanitizeForTTS(s){
    if(!s) return '';
    let t = String(s);
    t = t.replace(/HERENC\(IA\)|Herenc\(IA\)|HerencIA/gi, 'Herencia');
    t = t.replace(/[\u{1F300}-\u{1FAFF}\u{2600}-\u{26FF}]/gu,'');
    return t;
  }
  function langToBcp47(lang){ return (lang==='en'?'en-US':lang==='ca'?'ca-ES':lang==='fr'?'fr-FR':'es-ES'); }
  function setupVoices(){
    if(!('speechSynthesis' in window)) return;
    const voices = speechSynthesis.getVoices(); const select = document.getElementById('voiceSelect');
    if(!select) return; const prev = select.value; select.innerHTML='<option value="">Auto</option>';
    voices.forEach(v=>{ const o=document.createElement('option'); o.value=v.name; o.textContent=`${v.name} ‚Äî ${v.lang}`; select.appendChild(o); });
    if(prev) select.value=prev; const chosen=select.value; selectedVoice = voices.find(v=>v.name===chosen) || null;
  }
  if('speechSynthesis' in window){ speechSynthesis.addEventListener('voiceschanged',setupVoices); setTimeout(setupVoices,300); }
  document.getElementById('voiceSelect').addEventListener('change',()=>{ const vs=speechSynthesis.getVoices(); const name=document.getElementById('voiceSelect').value; selectedVoice = vs.find(v=>v.name===name)||null; showToast('Voz actualizada'); });

  function speakResponse(){
    if(!lastBotText){ showToast('A√∫n no tengo nada que leer.'); return; }
    if(!('speechSynthesis' in window)){ showToast('Tu navegador no soporta voz.'); return; }
    const utter = new SpeechSynthesisUtterance(sanitizeForTTS(lastBotText));
    utter.lang = langToBcp47(currentLanguage);
    if(selectedVoice) utter.voice = selectedVoice;
    utter.rate=1; utter.pitch=1; utter.volume=1;
    speechSynthesis.cancel(); speechSynthesis.speak(utter);
  }

  /* ==================== TRADUCCI√ìN UI + CHAT ==================== */
  const UI_TEXT = {
    es:{ subtitle:'HERENC(<strong>IA</strong>) ‚Äî Tu amiga plantil', input:'Escribe tu pregunta aqu√≠...', diagTitle:'Men√∫ de diagn√≥stico', thinking:'Herenc(IA) est√° pensando‚Ä¶', scannerActive:'Esc√°ner activo. Enfoca la planta.' },
    en:{ subtitle:'HERENC(<strong>IA</strong>) ‚Äî Your plant friend', input:'Type your plant question here...', diagTitle:'Diagnosis menu', thinking:'Herenc(IA) is thinking‚Ä¶', scannerActive:'Scanner active. Point the plant.' },
    ca:{ subtitle:'HERENC(<strong>IA</strong>) ‚Äî El teu amic vegetal', input:'Escriu aqu√≠ la teva pregunta...', diagTitle:'Men√∫ de diagn√≤stic', thinking:'Herenc(IA) est√† pensant‚Ä¶', scannerActive:'Esc√†ner actiu. Apunta la planta.' },
    fr:{ subtitle:'HERENC(<strong>IA</strong>) ‚Äî Ton amie v√©g√©tale', input:'√âcris ta question ici...', diagTitle:'Menu de diagnostic', thinking:'Herenc(IA) r√©fl√©chit‚Ä¶', scannerActive:'Scanner actif. Vise la plante.' }
  };

  const translateBtn = document.getElementById('translateBtn');
  const translateMenu = document.getElementById('translateMenu');
  const apiMenu = document.getElementById('apiMenu');
  const diagBtn = document.getElementById('diagBtn');

  translateBtn.addEventListener('click',(e)=>{ e.stopPropagation(); toggleMenu(translateMenu); apiMenu.style.display='none'; });
  diagBtn.addEventListener('click',(e)=>{ e.stopPropagation(); toggleMenu(apiMenu); translateMenu.style.display='none'; });

  function handleBackgroundClick(e){
    if(!apiMenu.contains(e.target) && !diagBtn.contains(e.target)) apiMenu.style.display='none';
    if(!translateMenu.contains(e.target) && !translateBtn.contains(e.target)) translateMenu.style.display='none';
  }
  function toggleMenu(menu){
    menu.style.display = (menu.style.display==='flex' || menu.style.display==='block') ? 'none' : 'flex';
  }

  document.querySelectorAll('#translateMenu button[data-lang]').forEach(btn=>{
    btn.addEventListener('click', async ()=>{
      const lang = btn.getAttribute('data-lang'); translateMenu.style.display='none';
      await setLanguage(lang, true);
    });
  });

  async function setLanguage(lang, translateAll){
    currentLanguage = lang;
    window.HERENCIA_STT_LANG = langToBcp47(lang);
    const pack = UI_TEXT[lang]||UI_TEXT.es;
    document.getElementById('subtitle').innerHTML = pack.subtitle;
    document.getElementById('userInput').placeholder = pack.input;
    document.querySelector('[data-i18n="diagTitle"]').textContent = pack.diagTitle;
    document.getElementById('typingIndicator').lastElementChild.textContent = pack.thinking;
    if(translateAll){ await translateWholeChat(lang); }
    showToast('Idioma: '+lang.toUpperCase());
  }

  async function translateWholeChat(lang){
    const nodes = document.querySelectorAll('.msg');
    for(const node of nodes){
      const original = node.dataset.original || node.innerText;
      const translated = await translateText(original, lang);
      const meta = node.querySelector('.msg-meta')?.outerHTML || '';
      node.innerHTML = `<div>${translated}</div>${meta}`;
    }
  }

  async function translateText(text, targetLang){
    try{
      const resp = await fetch('https://libretranslate.de/translate', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({ q:text, source:'auto', target: targetLang })
      });
      if(resp.ok){
        const data = await resp.json();
        if(data && data.translatedText) return data.translatedText;
      }
    }catch(_){}
    return `[${targetLang.toUpperCase()}] ${text}`;
  }

  /* ==================== MEN√ö DIAGN√ìSTICO ==================== */
  function wireDiagnosisMenu(){
    const menu = document.getElementById('apiMenu');
    menu.querySelectorAll('button[data-diag]').forEach(btn=>{
      btn.addEventListener('click',()=>{
        const type = btn.getAttribute('data-diag'); menu.style.display='none'; startWizard(type);
      });
    });
  }

  /* ==================== DEV MENU: ARR√ÅSTRALO ==================== */
  const devTrigger = document.getElementById('devTrigger');
  const devMenu = document.getElementById('devMenu');
  const closeDevBtn = document.getElementById('closeDevBtn');
  function toggleDevMenu(forceOpen=false){
    devMenu.style.display = forceOpen ? 'flex' : (devMenu.style.display==='flex'?'none':'flex');
  }
  devTrigger.addEventListener('click', (e)=>{ e.stopPropagation(); toggleDevMenu(); });
  closeDevBtn.addEventListener('click', ()=>{ devMenu.style.display='none'; });

  (function makeDraggable(){
    const handle = devMenu.querySelector('.drag-handle');
    let startX=0,startY=0,origX=0,origY=0,drag=false;
    handle.addEventListener('mousedown',(e)=>{drag=true;startX=e.clientX;startY=e.clientY; const r=devMenu.getBoundingClientRect();origX=r.left;origY=r.top; document.body.style.userSelect='none';});
    document.addEventListener('mousemove',(e)=>{ if(!drag) return; const dx=e.clientX-startX, dy=e.clientY-startY; devMenu.style.left=(origX+dx)+'px'; devMenu.style.top=(origY+dy)+'px'; devMenu.style.right='auto'; });
    document.addEventListener('mouseup',()=>{drag=false;document.body.style.userSelect='';});
    handle.addEventListener('touchstart',(e)=>{drag=true;startX=e.touches[0].clientX;startY=e.touches[0].clientY; const r=devMenu.getBoundingClientRect();origX=r.left;origY=r.top;},{passive:true});
    document.addEventListener('touchmove',(e)=>{ if(!drag) return; const dx=e.touches[0].clientX-startX, dy=e.touches[0].clientY-startY; devMenu.style.left=(origX+dx)+'px'; devMenu.style.top=(origY+dy)+'px'; devMenu.style.right='auto';},{passive:true});
    document.addEventListener('touchend',()=>{drag=false;});
  })();

  /* ==================== DEV MENU: HANDLERS ==================== */
  const bgSelect = document.getElementById('bgSelect');
  const bgUrlInput = document.getElementById('bgUrlInput');
  bgSelect.addEventListener('change',(e)=>{
    const val = e.target.value;
    const chat = document.getElementById('chatContainer');
    if(val==='hojas'){ chat.style.backgroundImage = "url('https://i.pinimg.com/736x/82/bd/fb/82bdfbe631ffcf89855572048839f2c1.jpg')"; bgUrlInput.style.display='none'; }
    else if(val==='claro'){ chat.style.backgroundImage='none'; chat.style.backgroundColor='#f9fafb'; bgUrlInput.style.display='none';}
    else if(val==='oscuro'){ chat.style.backgroundImage='none'; chat.style.backgroundColor='#0b1020'; bgUrlInput.style.display='none';}
    else { bgUrlInput.style.display='block'; }
  });
  bgUrlInput.addEventListener('change',()=>{ const url=bgUrlInput.value.trim(); if(url) document.getElementById('chatContainer').style.backgroundImage=`url('${url}')`; });
  document.getElementById('btnRadius').addEventListener('input',(e)=>{ document.documentElement.style.setProperty('--btn-radius', e.target.value+'px'); });
  document.getElementById('barRadius').addEventListener('input',(e)=>{ document.documentElement.style.setProperty('--bar-radius', e.target.value+'px'); });
  document.getElementById('micSize').addEventListener('input',(e)=>{ document.documentElement.style.setProperty('--mic-size', e.target.value+'px'); });
  document.getElementById('micPulse').addEventListener('change',(e)=>{ const mb=document.getElementById('micButton'); if(micActive) mb.classList.toggle('pulse', e.target.checked); });

  document.getElementById('langSelect').addEventListener('change', async (e)=>{ await setLanguage(e.target.value, true); });

  function loadApisFromStorage(){
    try{
      const raw = localStorage.getItem('herencia_api_keys'); if(!raw) return;
      const obj = JSON.parse(raw);
      API_KEYS.plant_general = obj.plant_general||"";
      API_KEYS.plant_fungus  = obj.plant_fungus ||"";
      API_KEYS.plant_insects = obj.plant_insects||"";
      API_KEYS.plant_care    = obj.plant_care   ||"";
      document.getElementById('apiPlantIdGeneral').value = API_KEYS.plant_general;
      document.getElementById('apiPlantIdFungus').value  = API_KEYS.plant_fungus;
      document.getElementById('apiPlantIdInsects').value = API_KEYS.plant_insects;
      document.getElementById('apiPlantIdCare').value    = API_KEYS.plant_care;
    }catch(_){}
  }
  loadApisFromStorage();

  document.getElementById('saveApisBtn').addEventListener('click',()=>{
    API_KEYS.plant_general = document.getElementById('apiPlantIdGeneral').value.trim();
    API_KEYS.plant_fungus  = document.getElementById('apiPlantIdFungus').value.trim();
    API_KEYS.plant_insects = document.getElementById('apiPlantIdInsects').value.trim();
    API_KEYS.plant_care    = document.getElementById('apiPlantIdCare').value.trim();
    try{ localStorage.setItem('herencia_api_keys', JSON.stringify(API_KEYS)); }catch(_){}
    showToast('APIs guardadas');
  });

  document.getElementById('testApisBtn').addEventListener('click',()=>{
    const ok = !!(API_KEYS.plant_general||API_KEYS.plant_fungus||API_KEYS.plant_insects||API_KEYS.plant_care);
    showToast(ok? 'APIs listas (placeholder)':'Faltan claves');
  });

  document.getElementById('ingestLinksBtn').addEventListener('click',()=>{
    const txt = document.getElementById('linksFeeder').value.trim();
    if(!txt){ showToast('Pega enlaces primero'); return; }
    const links = txt.split('\n').map(s=>s.trim()).filter(Boolean);
    const stored = JSON.parse(localStorage.getItem('herencia_training_links')||'[]');
    localStorage.setItem('herencia_training_links', JSON.stringify(stored.concat(links)));
    showToast('Enlaces guardados para aprendizaje');
  });

  document.getElementById('ingestFilesBtn').addEventListener('click',()=>{
    const files = document.getElementById('trainFileInput').files;
    if(!files || !files.length){ showToast('Selecciona archivos'); return; }
    const readerPromises = Array.from(files).map(f=> new Promise(res=>{
      const fr = new FileReader(); fr.onload = ()=>res({name:f.name, content: fr.result}); fr.readAsText(f);
    }));
    Promise.all(readerPromises).then(list=>{
      const stored = JSON.parse(localStorage.getItem('herencia_training_files')||'[]');
      localStorage.setItem('herencia_training_files', JSON.stringify(stored.concat(list)));
      showToast('Archivos ingeridos (local)');
    });
  });

  document.getElementById('savePersonaBtn').addEventListener('click',()=>{
    const seed = document.getElementById('personaSeed').value||'';
    localStorage.setItem('herencia_persona_seed', seed);
    showToast('Personalidad guardada');
  });
  document.getElementById('resetPersonaBtn').addEventListener('click',()=>{
    localStorage.removeItem('herencia_persona_seed');
    document.getElementById('personaSeed').value='';
    showToast('Semilla restablecida');
  });

  document.getElementById('addIaBtn').addEventListener('click',()=>{
    const name = document.getElementById('iaNameInput').value.trim();
    if(!name){ showToast('Pon un nombre al m√≥dulo IA'); return; }
    const type = document.getElementById('iaTypeSelect').value;
    const desc = document.getElementById('iaDescInput').value.trim();
    const endpoint = document.getElementById('iaEndpointInput').value.trim();
    const module = {id:Date.now(),name,type,desc,endpoint};
    HERENCIA.modules.push(module); persistModules(); renderIaList();
    showToast('M√≥dulo IA creado');
    document.getElementById('iaNameInput').value='';
    document.getElementById('iaDescInput').value='';
    document.getElementById('iaEndpointInput').value='';
  });
  function persistModules(){ try{localStorage.setItem('herencia_ia_modules',JSON.stringify(HERENCIA.modules));}catch(_){ } }
  function loadModules(){
    try{
      const raw = localStorage.getItem('herencia_ia_modules'); if(!raw) return;
      const arr = JSON.parse(raw); if(Array.isArray(arr)) HERENCIA.modules = arr;
    }catch(_){}
  }
  function renderIaList(){
    const box = document.getElementById('iaList'); box.innerHTML='';
    if(HERENCIA.modules.length===0){ box.textContent='(sin m√≥dulos IA personalizados)'; return; }
    HERENCIA.modules.forEach(m=>{
      const line = document.createElement('div'); line.style.display='flex'; line.style.justifyContent='space-between'; line.style.alignItems='center'; line.style.marginBottom='4px';
      line.innerHTML = `<span>${m.name} <small>[${m.type}]</small></span>`;
      const del = document.createElement('button'); del.textContent='X'; del.style.padding='1px 6px'; del.style.fontSize='0.7rem';
      del.addEventListener('click',()=>{ HERENCIA.modules = HERENCIA.modules.filter(x=>x.id!==m.id); persistModules(); renderIaList(); showToast('IA eliminada'); });
      line.appendChild(del); box.appendChild(line);
    });
  }

  document.getElementById('autoRepairTestBtn').addEventListener('click',()=>{
    try{ throw new Error('Simulaci√≥n de fallo en m√≥dulo IA'); }catch(e){ handleError(e); }
    addMessage('bot','üß™ Test IA‚Äëreparadora: detect√© un error simulado y me reinici√© correctamente.');
  });
  document.getElementById('scannerHiResBtn').addEventListener('click',async ()=>{
    try{
      cameraStream = await navigator.mediaDevices.getUserMedia({ video: { width:1280, height:720, facingMode:'environment' }, audio:false });
      cameraVideo.srcObject = cameraStream; cameraPreview.style.display='block'; showToast('Esc√°ner Hi‚ÄëRes activo');
    }catch(e){ log('HiRes c√°mara: '+e); showToast('No pude Esc√°ner Hi‚ÄëRes'); }
  });
  document.getElementById('toggleOverlayBtn').addEventListener('click',()=>{
    const a = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--chat-overlay-a')) || 0.90;
    const b = parseFloat(getComputedStyle(document.documentElement).getPropertyValue('--chat-overlay-b')) || 0.92;
    const na = (a>0.2)? 0.18 : 0.90, nb = (b>0.3)? 0.28 : 0.92;
    document.documentElement.style.setProperty('--chat-overlay-a', na);
    document.documentElement.style.setProperty('--chat-overlay-b', nb);
  });

  document.getElementById('exportConfigBtn').addEventListener('click',()=>{
    const cfg = {
      apis: API_KEYS,
      persona: localStorage.getItem('herencia_persona_seed')||'',
      links: JSON.parse(localStorage.getItem('herencia_training_links')||'[]'),
      files: JSON.parse(localStorage.getItem('herencia_training_files')||'[]'),
      modules: HERENCIA.modules
    };
    const blob = new Blob([JSON.stringify(cfg,null,2)], {type:'application/json'});
    const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download='herencia_config.json'; a.click();
    URL.revokeObjectURL(a.href);
  });
  document.getElementById('importConfigBtn').addEventListener('click',()=>{
    const i = document.createElement('input'); i.type='file'; i.accept='application/json';
    i.onchange = async ()=>{ const f = i.files[0]; if(!f) return;
      const text = await f.text(); const cfg = JSON.parse(text||'{}');
      if(cfg.apis){ Object.assign(API_KEYS, cfg.apis); localStorage.setItem('herencia_api_keys', JSON.stringify(API_KEYS)); loadApisFromStorage(); }
      if(cfg.persona){ localStorage.setItem('herencia_persona_seed', cfg.persona); document.getElementById('personaSeed').value = cfg.persona; }
      if(cfg.links){ localStorage.setItem('herencia_training_links', JSON.stringify(cfg.links)); }
      if(cfg.files){ localStorage.setItem('herencia_training_files', JSON.stringify(cfg.files)); }
      if(cfg.modules){ HERENCIA.modules = cfg.modules; persistModules(); renderIaList(); }
      showToast('Config importada');
    };
    i.click();
  });

  document.getElementById('clearChatDevBtn').addEventListener('click',()=>{ clearChat(true); });

  document.getElementById('sendBtn').addEventListener('click',sendMessage);
  document.getElementById('userInput').addEventListener('keydown',(e)=>{ if(e.key==='Enter' && !e.shiftKey){ e.preventDefault(); sendMessage(); } });
  document.getElementById('speakBtn').addEventListener('click',speakResponse);

  wireDiagnosisMenu();

  window.onload = async ()=>{
    try{
      loadModules(); renderIaList(); loadApisFromStorage();
      const personaStored = localStorage.getItem('herencia_persona_seed');
      if(!personaStored){
        document.getElementById('personaSeed').value =
`PERSONALIDAD: HERENC(IA) ‚Äî "Tu amiga plantil". Voz femenina, c√°lida, cercana, positiva. Cuida y protege plantas. Explica con calma y precisi√≥n. (Puedes reemplazar este bloque con tu documento completo)`;
      }else{
        document.getElementById('personaSeed').value = personaStored;
      }
      loadChat();
      if(messages.length===0){
        addMessage('bot','üåø ¬°Hola! Soy Herenc(IA), pero puedes llamarme **Herencia**. Tu amiga plantil. Cu√©ntame de tu planta: ¬øs√≠ntomas, luz, riego o foto?');
      }
      await setLanguage('es', false);
    }catch(e){ handleError(e); }
  };
</script>
<script id="augment-superbrain">
/* ==================== SUPERBRAIN: Grafo base (de tu doc) ==================== */
// Fuente: super_brain_ias.txt  :contentReference[oaicite:6]{index=6}
const SUPER_BRAIN_GRAPH = {
  "root":"SuperBrainIA",
  "nodes":[
    {"id":"SuperBrainIA","role":"Master orchestrator of the whole florist brain","dependencies":["BrainCore","CognitiveMapIA","MemoryIA","SelfLearningIA"]},
    {"id":"BrainCore","role":"Main router and coordinator of modules","dependencies":["DecisionLogicIA","KnowledgeFusionIA","NeuroRoutingIA"]},
    {"id":"NeuroRoutingIA","role":"Routes user requests to the correct IA modules","dependencies":[]},
    {"id":"CognitiveMapIA","role":"Semantic map of plants, users and contexts","dependencies":["MemoryIA"]},
    {"id":"KnowledgeFusionIA","role":"Fuse results from image, text, climate and diagnosis modules","dependencies":["ImageAnalysisIA","PlantHealthIA","OnlineKnowledgeFetcherIA"]},
    {"id":"DecisionLogicIA","role":"Selects best actions and advice for the user","dependencies":["ReasonValidatorIA","SafetyFilterIA"]},
    {"id":"InferenceEngineIA","role":"Deep reasoning and inference engine","dependencies":["KnowledgeFusionIA"]},
    {"id":"NaturalGenerationIA","role":"Main natural language generator for user responses","dependencies":["HumanStyleIA","PersonaWriterIA"]},
    {"id":"HumanStyleIA","role":"Human-like tone, warmth and expression","dependencies":[]},
    {"id":"PersonaWriterIA","role":"Adapts responses to florist bot personality","dependencies":[]},
    {"id":"MessageProcessorIA","role":"Normalizes user messages and extracts basic info","dependencies":["InputValidatorIA","LanguageDetectorIA"]},
    {"id":"InputValidatorIA","role":"Basic validation of user input","dependencies":[]},
    {"id":"LanguageDetectorIA","role":"Detects user language","dependencies":[]},
    {"id":"IntentDetectorIA","role":"Detects user intent (watering, diagnosis, care, buy, etc.)","dependencies":["EntityExtractorIA"]},
    {"id":"EntityExtractorIA","role":"Extracts plant names, symptoms, quantities, etc.","dependencies":[]},
    {"id":"DialogueFlowIA","role":"Controls conversation flow and follow-ups","dependencies":["MemoryIA"]},
    {"id":"ReasonValidatorIA","role":"Checks that reasoning is coherent and safe","dependencies":["InferenceEngineIA"]},
    {"id":"ResponseFormatterIA","role":"Formats final response to be user friendly","dependencies":["PersonaWriterIA","SafetyFilterIA"]},
    {"id":"HumanReasonIA","role":"Human-like reasoning over plant situations","dependencies":[]},
    {"id":"HumanEmotionIA","role":"Understands emotional tone of user","dependencies":[]},
    {"id":"MemoryIA","role":"Top-level memory API for chat and plants","dependencies":["LongTermMemoryIA","ShortTermMemoryIA","VectorMemoryIA"]},
    {"id":"ShortTermMemoryIA","role":"Session memory for current conversation","dependencies":[]},
    {"id":"LongTermMemoryIA","role":"Persistent memory of users and plants","dependencies":["MemoryArchiveIA"]},
    {"id":"VectorMemoryIA","role":"Semantic memory and vector search","dependencies":[]},
    {"id":"ConversationMemoryIA","role":"Stores chat transcripts and summaries","dependencies":["MemoryIA"]},
    {"id":"PlantMemoryIA","role":"Stores per-plant history (photos, diagnoses, care logs)","dependencies":[]},
    {"id":"DiagnosisMemoryIA","role":"Stores diagnosis outcomes and steps","dependencies":["PlantMemoryIA"]},
    {"id":"MemoryArchiveIA","role":"Cold storage for old data and backups","dependencies":["SystemBackupIA"]},
    {"id":"SelfLearningIA","role":"Controls self-learning loops from user interactions","dependencies":["ExperienceAccumulatorIA","TeacherIA"]},
    {"id":"ExperienceAccumulatorIA","role":"Collects experiences and examples for later training","dependencies":["MemoryIA"]},
    {"id":"TeacherIA","role":"Creates lessons and training batches for small models","dependencies":[]},
    {"id":"OfflineKnowledgeCoreIA","role":"Offline training and fine-tuning pipeline","dependencies":["ModelRegistryIA"]},
    {"id":"OnlineKnowledgeFetcherIA","role":"Fetch curated plant and climate knowledge from the web","dependencies":["WebCrawlerIA"]},
    {"id":"ModelRegistryIA","role":"Registers and tracks model versions","dependencies":[]},
    {"id":"MultiModalCoreIA","role":"High-level multimodal controller (image + text + audio)","dependencies":["ImageAnalysisIA"]},
    {"id":"ImageReceiverIA","role":"Receives plant images from frontend","dependencies":["InputValidatorIA"]},
    {"id":"ImagePreprocessIA","role":"Preprocesses plant photos for analysis","dependencies":["ImageReceiverIA"]},
    {"id":"ImageAnalysisIA","role":"Extracts visual features, shapes, colors and damage","dependencies":["ImagePreprocessIA","ImageClassifierIA"]},
    {"id":"ImageClassifierIA","role":"Classifies species and visual patterns","dependencies":[]},
    {"id":"ColorAnalyzerIA","role":"Analyses leaf and flower colors precisely","dependencies":["ImageAnalysisIA"]},
    {"id":"DamageDetectionIA","role":"Detects lesions, rot, bites and necrosis","dependencies":["ImageAnalysisIA"]},
    {"id":"PlantIDGeneralIA","role":"Uses plant_id_general API for plant ID and health","dependencies":["ImageAnalysisIA","API_Gateway"]},
    {"id":"PlantIDFungusIA","role":"Uses plant_id_fungus API for fungal diseases","dependencies":["ImageAnalysisIA","API_Gateway"]},
    {"id":"PlantIDInsectsIA","role":"Uses plant_id_insects API for pest detection","dependencies":["ImageAnalysisIA","API_Gateway"]},
    {"id":"PlantIDCareIA","role":"Uses plant_id_care API for detailed care tips","dependencies":["PlantHealthIA","API_Gateway"]},
    {"id":"PlantHealthIA","role":"Combines all plant health signals into a diagnosis","dependencies":["WaterIA","SoilIA","LeafHealthIA","BugIA","FungusIA"]},
    {"id":"LeafHealthIA","role":"Aggregate leaf health score","dependencies":["LeafColorIA","LeafDamageIA"]},
    {"id":"LeafColorIA","role":"Reads leaf color and detects yellowing, reddening, etc.","dependencies":["ColorAnalyzerIA"]},
    {"id":"LeafDamageIA","role":"Detects physical damage patterns on leaves","dependencies":["DamageDetectionIA"]},
    {"id":"BugIA","role":"Detects possible insect presence or damage","dependencies":["ImageAnalysisIA"]},
    {"id":"FungusIA","role":"Detects possible fungal issues","dependencies":["ImageAnalysisIA"]},
    {"id":"WaterIA","role":"Core watering logic for all plants","dependencies":["SoilMoistureIA","TemperatureIA","HumidityIA"]},
    {"id":"SoilMoistureIA","role":"Estimates soil moisture from image and history","dependencies":["ImageAnalysisIA","PlantMemoryIA"]},
    {"id":"SoilIA","role":"Basic soil type analysis and interpretation","dependencies":[]},
    {"id":"ClimateIA","role":"Core climate reasoning engine","dependencies":["WeatherConnectorIA"]},
    {"id":"TemperatureIA","role":"Interprets temperature for plant comfort","dependencies":["ClimateIA"]},
    {"id":"HumidityIA","role":"Interprets humidity for plant comfort","dependencies":["ClimateIA"]},
    {"id":"LightIA","role":"Interprets light and sun exposure","dependencies":["ClimateIA"]},
    {"id":"SeasonIA","role":"Understands current season and seasonal patterns","dependencies":["ClimateIA"]},
    {"id":"FloweringIA","role":"Controls flowering logic and bloom predictions","dependencies":["SeasonIA","GrowthPredictorIA"]},
    {"id":"GrowthPredictorIA","role":"Predicts growth rate and direction","dependencies":["SeasonIA","PlantHealthIA"]},
    {"id":"TransplantIA","role":"Guides transplanting and repotting decisions","dependencies":["RootAnalysisIA","SeasonIA"]},
    {"id":"RootAnalysisIA","role":"Analyses root health conceptually","dependencies":[]},
    {"id":"PlantNutritionIA","role":"Suggests nutrients and fertilization strategies","dependencies":["SoilIA","PlantHealthIA"]},
    {"id":"SafetyFilterIA","role":"Filters unsafe or harmful content and actions","dependencies":[]},
    {"id":"SupervisorIA","role":"High-level supervisor of all modules","dependencies":["MonitorIA","AutoRepairIA"]},
    {"id":"MonitorIA","role":"Monitors system health and performance","dependencies":[]},
    {"id":"AutoRepairIA","role":"Self-repair and recovery engine for modules","dependencies":[]},
    {"id":"DevCoreIA","role":"Core for DevMenu and developer tools","dependencies":["ModuleManagerIA","LogManagerIA"]},
    {"id":"ModuleManagerIA","role":"Enable / disable IA modules dynamically","dependencies":[]},
    {"id":"LogManagerIA","role":"Central log manager for the brain","dependencies":[]},
    {"id":"API_Gateway","role":"Entry point for external API calls","dependencies":["RateLimiterIA","PermissionIA"]},
    {"id":"WeatherConnectorIA","role":"Connects to weather APIs for climate and watering advice","dependencies":[]},
    {"id":"WebCrawlerIA","role":"Fetches external websites for curated learning","dependencies":[]},
    {"id":"RateLimiterIA","role":"Rate limits API usage to avoid abuse and costs","dependencies":[]},
    {"id":"PermissionIA","role":"Controls dev and API permissions","dependencies":[]},
    {"id":"SystemBackupIA","role":"Backups neural graph, memory and configs","dependencies":[]}
  ]
};

/* ==================== 3000 IAs ‚Äì generadas del listado ==================== */
// Fuente: 3000_IAs_SUPER_BRAIN.txt + super_brain_ias.txt  
const SUPER_IA_LIST = Array.from({length:3000}, (_,i)=>`IA_${i+1}`);

/* ==================== Personalidades (semilla) ==================== */
// Fuente: perfiles y lista de personalidades  
const HERENCIA_PERSONALIDADES_CORE = {
  central: `Herenc(IA) ‚Äî Amiga plantil, voz femenina c√°lida, emp√°tica, profesional, directa, positiva. (Base del tono)`,
  rasgos: ["Emp√°tica","C√°lida","Profesional","Directa","Motivadora","Pac√≠fica","Observadora de detalles","Optimista"],
  diagnostico: ["Diagnosta Bot√°nica","Analista de S√≠ntomas","Especialista en Hongos","Especialista en Plagas","Asesora de Riego","Asesora de Temporadas","Trasplantes","Nutrici√≥n"],
  voz: { genero:"female", timbre:"soft", energia:"calma" }
};

/* ==================== Memorias y pesos ==================== */
const BrainMemory = {
  short: [],   // chat sesi√≥n
  mid:   [],   // √∫ltimas sesiones
  long:  []    // dataset entrenado + feeder
};
const BrainWeights = {
  // Pesos/umbrales simb√≥licos por m√≥dulo (ajustables desde DevMenu)
  modules: {},
  get(module){ return this.modules[module] ?? 0.5; },
  set(module,val){ this.modules[module] = Math.max(0, Math.min(1, Number(val)||0.5)); }
};

/* ==================== Reproducci√≥n (clonaci√≥n) de IAs controlada ==================== */
const ReproductionPolicy = {
  allow: true,
  requireSupervisor: true,
  maxChildrenPerIA: 5,
  topicDenyList: ["odio","violencia","ilegal","sexual-inapropiado","autolesi√≥n","armas","drogas"],
  domainAllowList: ["wikipedia.org","*.edu","*.gov"],
};

/* ==================== Seguridad & √©tica ==================== */
const Safety = {
  isContentAllowed(text=''){
    const t = (text||'').toLowerCase();
    return !ReproductionPolicy.topicDenyList.some(b=>t.includes(b));
  },
  isDomainAllowed(url){
    try{
      const u = new URL(url);
      const host = u.hostname;
      return ReproductionPolicy.domainAllowList.some(rule=>{
        if(rule.startsWith('*.')) return host.endsWith(rule.slice(2));
        return host===rule;
      });
    }catch(_){ return false; }
  }
};

/* ==================== Gestor de m√≥dulos (activar/desactivar) ==================== */
const ModuleRegistry = new Map();
function registerModule(id, meta){ ModuleRegistry.set(id, {...meta, enabled:true, children:[]}); }
function enableModule(id, on=true){ const m=ModuleRegistry.get(id); if(m){ m.enabled=!!on; } }
function getModule(id){ return ModuleRegistry.get(id); }

/* Inicializa registros a partir del grafo */
(function initGraph(){
  for(const n of SUPER_BRAIN_GRAPH.nodes){ registerModule(n.id, {role:n.role, deps:n.dependencies||[]}); }
})();

/* ==================== Supervisor y Reparadora ==================== */
const Supervisor = {
  log: [],
  record(evt, detail){ this.log.push({ts:Date.now(), evt, detail}); pushDevLog(`[Supervisor] ${evt} :: ${detail}`); },
  approve(action, payload){
    if(!Safety.isContentAllowed(JSON.stringify(payload))) { this.record('BLOCKED', action); return false; }
    this.record('APPROVED', action); return true;
  }
};
const AutoRepair = {
  tryFix(fnName, err){
    pushDevLog(`[AutoRepair] Intentando reparar ${fnName}: ${err?.message||err}`);
    try{ initIA?.(); return true; }catch(e){ pushDevLog(`[AutoRepair] Fallo al reparar: ${e}`); return false; }
  }
};
function pushDevLog(msg){
  try{
    const devLogs = document.getElementById('devLogs');
    if(!devLogs) return;
    const arr = (devLogs.textContent||'').split('\n').filter(Boolean);
    arr.push(msg); devLogs.textContent = arr.slice(-18).join('\n');
  }catch(_){}
}

/* ==================== API Gateway (Plant.ID + Web) ==================== */
// Claves seg√∫n tu archivo APIS.txt  :contentReference[oaicite:9]{index=9}
const PlantID = {
  async call(apiKey, imageBase64){
    if(!apiKey || !imageBase64) throw new Error('Falta API key o imagen');
    const body = {
      images: [imageBase64],
      modifiers: ["crops_fast","similar_images"],
      disease_details: true,
      health: "extended",
      plant_language: currentLanguage || "es"
    };
    const resp = await fetch("https://api.plant.id/v3/health_assessment",{
      method:"POST",
      headers:{ "Content-Type":"application/json", "Api-Key": apiKey },
      body: JSON.stringify(body)
    });
    if(!resp.ok) throw new Error(`PlantID error ${resp.status}: ${await resp.text()}`);
    return resp.json();
  }
};

// (Opcional) B√∫squeda Google CSE si configuras API + CX en el DevMenu Pro
const WebSearch = {
  cfg: {apiKey:"", cx:""},
  async google(q){
    if(!this.cfg.apiKey || !this.cfg.cx) throw new Error('Configura Google API y CX');
    const url = `https://www.googleapis.com/customsearch/v1?key=${encodeURIComponent(this.cfg.apiKey)}&cx=${encodeURIComponent(this.cfg.cx)}&q=${encodeURIComponent(q)}`;
    const r = await fetch(url); if(!r.ok) throw new Error('Google CSE error');
    const j = await r.json(); return (j.items||[]).map(x=>({title:x.title, link:x.link, snippet:x.snippet}));
  },
  async wikipedia(q){
    const url = `https://es.wikipedia.org/w/api.php?action=query&list=search&utf8=1&format=json&origin=*&srsearch=${encodeURIComponent(q)}`;
    const r = await fetch(url); if(!r.ok) throw new Error('Wikipedia error');
    const j = await r.json(); return (j.query?.search||[]).map(x=>({title:x.title, snippet:x.snippet, page:`https://es.wikipedia.org/wiki/${encodeURIComponent(x.title.replace(/\s/g,'_'))}`}));
  }
};

/* ==================== Reproductor/Clonador de IAs (controlado) ==================== */
function spawnChildIA(parentId, nameHint='IA_child'){
  const parent = getModule(parentId);
  if(!parent) return null;
  if(ReproductionPolicy.requireSupervisor && !Supervisor.approve('SPAWN', {parentId, nameHint})) return null;
  const children = parent.children||[];
  if(children.length >= ReproductionPolicy.maxChildrenPerIA) { Supervisor.record('DENY_MAX_CHILDREN', parentId); return null; }
  const id = `${parentId}_${nameHint}_${Date.now()}`;
  registerModule(id, {role:`Child of ${parentId}`, deps:[]});
  parent.children.push(id);
  Supervisor.record('SPAWN_OK', id);
  return id;
}

/* ==================== Interceptar sendMessage para PIN oculto (139898.) ==================== */
(function wrapSendMessageForHiddenPIN(){
  const _orig = window.sendMessage;
  window.sendMessage = function(){
    const input = document.getElementById('userInput');
    const text = input?.value?.trim() || '';
    if(text === '139898.'){ // con punto
      openHiddenDevMenu(); input.value=''; addMessage('bot','Men√∫ oculto PRO desbloqueado üõ†Ô∏èüì±');
      return;
    }
    return _orig.apply(this, arguments);
  };
})();
</script>
<script id="augment-devmenu-pro">
/* ==================== DevMenu PRO (oculto, tipo Android) ==================== */
let hiddenMenuEl = null;
function openHiddenDevMenu(){
  if(!hiddenMenuEl){
    hiddenMenuEl = document.createElement('div');
    hiddenMenuEl.id = 'devMenuPro';
    hiddenMenuEl.innerHTML = `
      <style>
        #devMenuPro{
          position:fixed; inset:50px 12px 12px 12px; background:#0a0f1f; color:#e8f0ff;
          border:1px solid #1b2550; border-radius:14px; z-index:2200; display:flex; flex-direction:column;
          box-shadow:0 20px 60px rgba(0,0,0,0.55); font-size:14px;
        }
        #devMenuPro .titlebar{
          display:flex; align-items:center; justify-content:space-between; padding:10px 12px;
          background:#10183a; border-bottom:1px solid #1b2550; border-radius:14px 14px 0 0;
        }
        #devMenuPro .titlebar h2{ margin:0; font-size:16px }
        #devMenuPro .titlebar .btns button{ background:#2f7d3b; border:none; color:#fff; border-radius:8px; padding:6px 10px; cursor:pointer; }
        #devMenuPro .content{
          display:flex; gap:10px; overflow:hidden; flex:1; min-height:0;
        }
        #devMenuPro .sidebar{
          width:260px; background:#0f1634; border-right:1px solid #1b2550; overflow:auto;
        }
        #devMenuPro .panel{
          flex:1; overflow:auto; padding:10px 12px;
          background:linear-gradient(180deg, #0a0f1f, #0e1430);
        }
        #devMenuPro .section{ margin:10px 8px; border:1px solid #1b2550; border-radius:10px; overflow:hidden; }
        #devMenuPro .section .sh{ background:#0f1634; padding:8px 10px; display:flex; align-items:center; gap:8px; cursor:pointer; }
        #devMenuPro .section .body{ display:none; padding:10px; background:#0a0f1f; }
        #devMenuPro .section.open .body{ display:block; }
        #devMenuPro .opt{ display:flex; align-items:center; gap:8px; margin:8px 0; }
        #devMenuPro .opt label{ flex:1 }
        #devMenuPro input, #devMenuPro select, #devMenuPro textarea{
          background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; width:100%;
        }
        #devMenuPro .android-emoji{ font-size:16px; }
        #devMenuPro .badge{ background:#2f7d3b; color:#fff; border-radius:999px; padding:2px 8px; font-size:12px; }
        #devMenuPro .footer{ padding:8px 12px; border-top:1px solid #1b2550; display:flex; justify-content:space-between; align-items:center; }
        #devMenuPro .scrollbar{ overflow:auto; }
      </style>
      <div class="titlebar">
        <h2>‚öôÔ∏è DevMenu PRO ‚Äî Android UI</h2>
        <div class="btns">
          <button id="devProClose">Cerrar</button>
        </div>
      </div>
      <div class="content">
        <div class="sidebar scrollbar" id="devProNav"></div>
        <div class="panel scrollbar" id="devProPanel">
          <div class="section open">
            <div class="sh">üì± Vista general <span class="badge" id="badgeCount">0 ajustes</span></div>
            <div class="body">
              <p>Bienvenido al panel PRO. Aqu√≠ puedes configurar **todo** sin programar. Android look & emojis ‚úîÔ∏è</p>
              <div class="opt"><button id="btnExportAll">Exportar TODO</button> <button id="btnImportAll">Importar TODO</button></div>
              <div class="opt"><button id="btnFactoryReset">Factory Reset (config & pesos)</button></div>
              <div class="opt"><button id="btnOpenMiniGPT">üß† Abrir Mini GPT</button><button id="btnOpenTrainer">üèãÔ∏è Entrenar respuestas</button></div>
              <div class="opt"><button id="btnOpenFeeder">üß™ Feeder avanzado</button><button id="btnOpenSecurity">üõ°Ô∏è Seguridad & √âtica</button></div>
            </div>
          </div>
          <div id="devProDynamic"></div>
        </div>
      </div>
      <div class="footer">
        <span>Men√∫ PRO oculto ‚Äî PIN: 139898.<span class="android-emoji">ü§ñ</span></span>
        <span id="countModules"></span>
      </div>
    `;
    document.body.appendChild(hiddenMenuEl);
    document.getElementById('devProClose').onclick = ()=> hiddenMenuEl.remove();
    buildAndroidSettings();
  }else{
    hiddenMenuEl.style.display='flex';
  }
}

/* ==================== Generador de 300+ ajustes ==================== */
const AndroidCategories = [
  {id:'appearance_basic', icon:'üé®', name:'Apariencia b√°sica'},
  {id:'appearance_adv',   icon:'üñåÔ∏è', name:'Apariencia avanzada'},
  {id:'voices_mic',       icon:'üé§', name:'Voces & Mic'},
  {id:'chat_tools',       icon:'üí¨', name:'Herramientas de Chat'},
  {id:'diagnosis',        icon:'ü©∫', name:'Diagn√≥stico'},
  {id:'plantid',          icon:'üåø', name:'PlantID'},
  {id:'memory',           icon:'üß†', name:'Memoria IA'},
  {id:'modules',          icon:'üß©', name:'M√≥dulos & Pesos'},
  {id:'learning',         icon:'üìö', name:'Aprendizaje'},
  {id:'web',              icon:'üåç', name:'Aprendizaje Web'},
  {id:'security',         icon:'üõ°Ô∏è', name:'Seguridad & √âtica'},
  {id:'developer',        icon:'üõ†Ô∏è', name:'Desarrollador'},
  {id:'mini_gpt',         icon:'ü§ñ', name:'Mini GPT'},
  {id:'rewriter',         icon:'‚úçÔ∏è', name:'Reescritura'},
  {id:'creator',          icon:'‚ûï', name:'Creador de Ajustes'}
];

const DynamicSettings = []; // {cat, key, type, label, min,max,options, default}

function addSetting(def){
  DynamicSettings.push(def);
}

/* Helpers */
function uiToggle(key,label,def=false,cat='developer'){ addSetting({cat,key,type:'toggle',label,default:!!def}); }
function uiSlider(key,label,min,max,def,cat='developer'){ addSetting({cat,key,type:'slider',label,min,max,default:def}); }
function uiSelect(key,label,options,def,cat='developer'){ addSetting({cat,key,type:'select',label,options,default:def}); }
function uiText(key,label,def='',cat='developer'){ addSetting({cat,key,type:'text',label,default:def}); }
function uiLongText(key,label,def='',cat='developer'){ addSetting({cat,key,type:'textarea',label,default:def}); }

/* ========== Predefinir MAS de 300 ajustes (se generan en bloque) ========== */
(function seed300(){
  // Apariencia b√°sica (30)
  for(let i=1;i<=30;i++){ uiSlider(`appearance_basic_${i}` ,`Apariencia b√°sica #${i}`,0,100,50,'appearance_basic'); }
  // Apariencia avanzada (30)
  for(let i=1;i<=30;i++){ uiSlider(`appearance_adv_${i}` ,`Apariencia avanzada #${i}`,0,100,50,'appearance_adv'); }
  // Voces & Mic (30)
  for(let i=1;i<=30;i++){ uiToggle(`voice_mic_${i}` ,`Ajuste de voz/mic #${i}`, false,'voices_mic'); }
  // Chat tools (30)
  for(let i=1;i<=30;i++){ uiToggle(`chat_tools_${i}` ,`Herramienta de chat #${i}`, false,'chat_tools'); }
  // Diagn√≥stico (30)
  for(let i=1;i<=30;i++){ uiToggle(`diag_${i}` ,`Par√°metro diagn√≥stico #${i}`, false,'diagnosis'); }
  // PlantID (30)
  for(let i=1;i<=30;i++){ uiToggle(`plantid_${i}` ,`Par√°metro PlantID #${i}`, false,'plantid'); }
  // Memoria (30)
  for(let i=1;i<=30;i++){ uiSlider(`memory_${i}` ,`Peso memoria #${i}`,0,1,0.5,'memory'); }
  // M√≥dulos (30)
  for(let i=1;i<=30;i++){ uiSlider(`modules_${i}` ,`Peso m√≥dulo #${i}`,0,1,0.5,'modules'); }
  // Aprendizaje (30)
  for(let i=1;i<=30;i++){ uiToggle(`learn_${i}` ,`Interruptor aprendizaje #${i}`, false,'learning'); }
  // Web (30)
  for(let i=1;i<=30;i++){ uiToggle(`web_${i}` ,`Filtro web #${i}`, false,'web'); }
  // Seguridad (30)
  for(let i=1;i<=30;i++){ uiToggle(`sec_${i}` ,`Regla de seguridad #${i}`, true,'security'); }
  // Desarrollador (30)
  for(let i=1;i<=30;i++){ uiToggle(`dev_${i}` ,`Par√°metro dev #${i}`, false,'developer'); }
  // Mini GPT (10)
  for(let i=1;i<=10;i++){ uiSelect(`gpt_style_${i}` ,`Estilo GPT #${i}`,['neutro','amistoso','profesional','po√©tico'], 'neutro','mini_gpt'); }
  // Reescritura (10)
  for(let i=1;i<=10;i++){ uiSelect(`rewrite_style_${i}` ,`Estilo de reescritura #${i}`,['breve','largo','amistoso','formal','po√©tico'], 'amistoso','rewriter'); }

  // Ajustes concretos clave
  uiSelect('font_family','Fuente del chat',['Poppins','Playfair Display','Arial','Inter','System'],'Poppins','appearance_adv');
  uiSlider('font_size','Tama√±o de letra',12,22,16,'appearance_adv');
  uiSelect('theme','Tema',['Hoja','Claro','Oscuro'],'Hoja','appearance_basic');
  uiText('google_api_key','Google API Key','','web');
  uiText('google_cx','Google CSE CX','','web');
  uiLongText('security_deny','Palabras/temas prohibidos (coma)', ReproductionPolicy.topicDenyList.join(','),'security');
  uiLongText('security_allow_domains','Dominios permitidos (coma)', ReproductionPolicy.domainAllowList.join(','),'security');
  uiToggle('allow_reproduction','Permitir reproducci√≥n de IAs', true,'modules');
  uiSlider('max_children','M√°x. hijos por IA',0,10,5,'modules');
})();

/* ========== Render del men√∫ Android con 300+ ajustes ========== */
function buildAndroidSettings(){
  const nav = document.getElementById('devProNav');
  const panel = document.getElementById('devProDynamic');

  // Navegaci√≥n
  nav.innerHTML = AndroidCategories.map(c=>`
    <div class="section open">
      <div class="sh"><span>${c.icon}</span> ${c.name}</div>
      <div class="body" id="nav_${c.id}">
        <div class="opt"><button onclick="scrollToCat('${c.id}')">Ir a ${c.name}</button></div>
      </div>
    </div>`).join('');

  // Panel din√°mico
  let html = '';
  for(const cat of AndroidCategories){
    const items = DynamicSettings.filter(s=>s.cat===cat.id);
    html += `<div class="section" id="cat_${cat.id}">
      <div class="sh">${cat.icon} ${cat.name} <span class="badge">${items.length}</span></div>
      <div class="body">`;
    for(const s of items){
      if(s.type==='toggle'){
        html += `<div class="opt"><label>${s.label}</label><input type="checkbox" data-key="${s.key}"></div>`;
      }else if(s.type==='slider'){
        html += `<div class="opt"><label>${s.label}</label><input type="range" min="${s.min}" max="${s.max}" step="${s.max<=1?0.01:1}" data-key="${s.key}"><span data-val="${s.key}"></span></div>`;
      }else if(s.type==='select'){
        html += `<div class="opt"><label>${s.label}</label><select data-key="${s.key}">${s.options.map(o=>`<option>${o}</option>`).join('')}</select></div>`;
      }else if(s.type==='text'){
        html += `<div class="opt"><label>${s.label}</label><input type="text" data-key="${s.key}"></div>`;
      }else if(s.type==='textarea'){
        html += `<div class="opt"><label>${s.label}</label><textarea data-key="${s.key}"></textarea></div>`;
      }
    }
    html += `</div></div>`;
  }
  // Creador de Ajustes (sin programar)
  html += `<div class="section" id="cat_creator">
    <div class="sh">‚ûï Crear ajuste nuevo</div>
    <div class="body">
      <div class="opt"><label>Nombre (clave)</label><input id="new_key"></div>
      <div class="opt"><label>Etiqueta visible</label><input id="new_label"></div>
      <div class="opt"><label>Tipo</label>
        <select id="new_type"><option>toggle</option><option>slider</option><option>select</option><option>text</option><option>textarea</option></select>
      </div>
      <div class="opt"><label>Categor√≠a</label>
        <select id="new_cat">${AndroidCategories.map(c=>`<option value="${c.id}">${c.name}</option>`).join('')}</select>
      </div>
      <div class="opt"><label>Valores (para slider: min,max,def) / (select: opciones separadas por coma)</label><input id="new_values" placeholder="Ej: 0,100,50  √≥  rojo,verde,azul"></div>
      <div class="opt"><button id="btnAddSetting">Crear ajuste</button></div>
    </div>
  </div>`;

  document.getElementById('badgeCount').textContent = `${DynamicSettings.length}+ ajustes`;
  panel.innerHTML = html;

  // Toggle secciones
  hiddenMenuEl.querySelectorAll('.section .sh').forEach(sh=>{
    sh.addEventListener('click',()=> sh.parentElement.classList.toggle('open'));
  });

  // Cargar valores guardados
  DynamicSettings.forEach(s=>{
    const node = hiddenMenuEl.querySelector(`[data-key="${s.key}"]`);
    if(!node) return;
    const saved = localStorage.getItem(`dm_${s.key}`);
    if(s.type==='toggle'){ node.checked = saved===null? !!s.default : saved==='true'; }
    if(s.type==='slider'){ node.value = saved===null? s.default : saved; const sp=hiddenMenuEl.querySelector(`[data-val="${s.key}"]`); if(sp) sp.textContent=node.value; }
    if(s.type==='select'){ node.value = saved===null? s.default : saved; }
    if(s.type==='text'){ node.value = saved===null? (s.default||'') : saved; }
    if(s.type==='textarea'){ node.value = saved===null? (s.default||'') : saved; }
    node.addEventListener('input', ()=>{
      let v = (s.type==='toggle') ? String(node.checked) : node.value;
      if(s.type==='slider'){ const sp=hiddenMenuEl.querySelector(`[data-val="${s.key}"]`); if(sp) sp.textContent=v; }
      localStorage.setItem(`dm_${s.key}`, v);
      applySettingLive(s.key, v);
    });
    // Aplicar en vivo el valor inicial
    applySettingLive(s.key, (s.type==='toggle')?String(node.checked):node.value);
  });

  // Botones extra
  document.getElementById('btnExportAll').onclick = ()=>{
    const all = {};
    DynamicSettings.forEach(s=> all[s.key] = localStorage.getItem(`dm_${s.key}`));
    const blob = new Blob([JSON.stringify(all,null,2)],{type:'application/json'});
    const a = document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='herencia_devpro.json'; a.click(); URL.revokeObjectURL(a.href);
  };
  document.getElementById('btnImportAll').onclick = ()=>{
    const i = document.createElement('input'); i.type='file'; i.accept='application/json';
    i.onchange = async ()=>{ const f=i.files[0]; if(!f) return; const j=JSON.parse(await f.text()); Object.entries(j).forEach(([k,v])=> localStorage.setItem(`dm_${k}`,v)); openHiddenDevMenu(); };
    i.click();
  };
  document.getElementById('btnFactoryReset').onclick = ()=>{
    if(!confirm('¬øResetear TODA la config y pesos?')) return;
    DynamicSettings.forEach(s=> localStorage.removeItem(`dm_${s.key}`));
    Object.keys(BrainWeights.modules).forEach(k=> delete BrainWeights.modules[k]);
    localStorage.removeItem('herencIA_chat_v3');
    localStorage.removeItem('herencia_training_links');
    localStorage.removeItem('herencia_training_files');
    localStorage.removeItem('herencia_persona_seed');
    showToast('Factory reset completo. Recarga la p√°gina.');
  };

  // Lanzadores de subpaneles
  document.getElementById('btnOpenMiniGPT').onclick = openMiniGPT;
  document.getElementById('btnOpenTrainer').onclick = openTrainer;
  document.getElementById('btnOpenFeeder').onclick = openFeederPro;
  document.getElementById('btnOpenSecurity').onclick = openSecurityPanel;

  // Contador de m√≥dulos
  document.getElementById('countModules').textContent = `${ModuleRegistry.size} m√≥dulos (incluye clonados)`;
}

function scrollToCat(id){
  const el = document.getElementById(`cat_${id}`);
  if(!el) return;
  el.classList.add('open');
  el.scrollIntoView({behavior:'smooth', block:'start'});
}

/* Aplicaci√≥n en vivo de algunos ajustes clave */
function applySettingLive(key, value){
  if(key==='font_family'){ document.body.style.setProperty('font-family', value); }
  if(key==='font_size'){ document.documentElement.style.setProperty('--font-size', value+'px'); document.querySelectorAll('.msg').forEach(m=> m.style.fontSize=value+'px'); }
  if(key==='theme'){
    const chat = document.getElementById('chatContainer');
    if(value==='Hoja'){ chat.style.backgroundImage = "url('https://i.pinimg.com/736x/82/bd/fb/82bdfbe631ffcf89855572048839f2c1.jpg')"; chat.style.backgroundColor=''; }
    if(value==='Claro'){ chat.style.backgroundImage='none'; chat.style.backgroundColor='#f9fafb'; }
    if(value==='Oscuro'){ chat.style.backgroundImage='none'; chat.style.backgroundColor='#0b1020'; }
  }
  if(key==='google_api_key'){ WebSearch.cfg.apiKey = value; }
  if(key==='google_cx'){ WebSearch.cfg.cx = value; }
  if(key==='allow_reproduction'){ ReproductionPolicy.allow = (value==='true'); }
  if(key==='max_children'){ ReproductionPolicy.maxChildrenPerIA = Number(value)||5; }
  if(key==='security_deny'){ ReproductionPolicy.topicDenyList = (value||'').split(',').map(s=>s.trim()).filter(Boolean); }
  if(key==='security_allow_domains'){ ReproductionPolicy.domainAllowList = (value||'').split(',').map(s=>s.trim()).filter(Boolean); }
}
</script>
<script id="augment-learning-minigpt">
/* ==================== Feeder PRO (acepta archivos pesados) ==================== */
function openFeederPro(){
  const wrap = document.createElement('div');
  wrap.id='feederPro';
  wrap.innerHTML = `
    <style>
      #feederPro{ position:fixed; inset:80px 40px; background:#0a0f1f; color:#e8f0ff; border:1px solid #1b2550; border-radius:14px; z-index:2300; display:flex; flex-direction:column; }
      #feederPro .bar{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#10183a; border-bottom:1px solid #1b2550; }
      #feederPro .body{ flex:1; display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:12px; overflow:auto; }
      #feederPro .card{ border:1px solid #1b2550; border-radius:10px; padding:10px; }
      #feederPro input, #feederPro textarea{ width:100%; background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; }
      #feederPro .list{ max-height:220px; overflow:auto; background:#091235; border-radius:8px; padding:6px; font-size:13px; }
    </style>
    <div class="bar"><strong>üß™ Feeder avanzado</strong><button onclick="document.getElementById('feederPro').remove()">Cerrar</button></div>
    <div class="body">
      <div class="card">
        <h4>Enlaces</h4>
        <textarea id="feed_links" placeholder="Pega enlaces (uno por l√≠nea)"></textarea>
        <button onclick="feederIngestLinks()">Guardar</button>
        <div class="list" id="feed_links_list"></div>
      </div>
      <div class="card">
        <h4>Archivos (pesados OK)</h4>
        <input id="feed_files" type="file" multiple />
        <button onclick="feederIngestFiles()">Ingerir archivos</button>
        <div class="list" id="feed_files_list"></div>
      </div>
      <div class="card">
        <h4>Texto directo</h4>
        <textarea id="feed_text" placeholder="Pega texto para entrenar"></textarea>
        <button onclick="feederIngestText()">Agregar texto</button>
        <div class="list" id="feed_text_list"></div>
      </div>
      <div class="card">
        <h4>Asignaci√≥n a IAs</h4>
        <input id="feed_assign" placeholder="Nombre IA o m√≥dulo (ej. PlantHealthIA)">
        <button onclick="feederAssign()">Asignar dataset a IA</button>
        <div class="list" id="feed_assign_list"></div>
      </div>
    </div>
  `;
  document.body.appendChild(wrap);
  refreshFeederLists();
}
function refreshFeederLists(){
  const links = JSON.parse(localStorage.getItem('herencia_training_links')||'[]');
  const files = JSON.parse(localStorage.getItem('herencia_training_files')||'[]');
  const texts = JSON.parse(localStorage.getItem('herencia_training_texts')||'[]');
  const assign = JSON.parse(localStorage.getItem('herencia_training_assign')||'[]');
  document.getElementById('feed_links_list').innerHTML = links.map(x=>`<div>üîó ${x}</div>`).join('');
  document.getElementById('feed_files_list').innerHTML = files.map(x=>`<div>üìÑ ${x.name} (${(x.content||'').length} chars)</div>`).join('');
  document.getElementById('feed_text_list').innerHTML = texts.map((x,i)=>`<div>‚úçÔ∏è #${i+1} ‚Äî ${x.slice(0,80)}...</div>`).join('');
  document.getElementById('feed_assign_list').innerHTML = assign.map(x=>`<div>üß© ${x.ia} ‚áê ${x.type} #${x.index||0}</div>`).join('');
}
function feederIngestLinks(){
  const v = document.getElementById('feed_links').value.trim();
  if(!v) return;
  const links = JSON.parse(localStorage.getItem('herencia_training_links')||'[]');
  v.split('\n').map(s=>s.trim()).filter(Boolean).forEach(u=> links.push(u));
  localStorage.setItem('herencia_training_links', JSON.stringify(links));
  document.getElementById('feed_links').value=''; refreshFeederLists(); showToast('Enlaces guardados');
}
function feederIngestFiles(){
  const input = document.getElementById('feed_files');
  const files = input.files; if(!files||!files.length) return;
  const readerPromises = Array.from(files).map(f=> new Promise(res=>{
    const fr = new FileReader(); fr.onload = ()=>res({name:f.name, content: fr.result}); fr.readAsText(f);
  }));
  Promise.all(readerPromises).then(list=>{
    const stored = JSON.parse(localStorage.getItem('herencia_training_files')||'[]');
    localStorage.setItem('herencia_training_files', JSON.stringify(stored.concat(list)));
    refreshFeederLists(); showToast('Archivos ingeridos');
  });
}
function feederIngestText(){
  const v = document.getElementById('feed_text').value.trim();
  if(!v) return;
  const texts = JSON.parse(localStorage.getItem('herencia_training_texts')||'[]');
  texts.push(v); localStorage.setItem('herencia_training_texts', JSON.stringify(texts));
  document.getElementById('feed_text').value=''; refreshFeederLists(); showToast('Texto agregado');
}
function feederAssign(){
  const ia = document.getElementById('feed_assign').value.trim(); if(!ia) return;
  const assign = JSON.parse(localStorage.getItem('herencia_training_assign')||'[]');
  assign.push({ia, type:'mixed', index: Date.now()}); localStorage.setItem('herencia_training_assign', JSON.stringify(assign));
  document.getElementById('feed_assign').value=''; refreshFeederLists(); showToast('Dataset asignado');
}

/* ==================== Aprendizaje Web (Google, Wikipedia, abierto) ==================== */
async function learnFromWeb(query){
  const results = [];
  // Google CSE (si configurado)
  try{
    const g = await WebSearch.google(query);
    results.push(...g.filter(x=> Safety.isDomainAllowed(x.link)));
  }catch(_){}
  // Wikipedia
  try{
    const w = await WebSearch.wikipedia(query);
    results.push(...w.filter(x=> Safety.isDomainAllowed(x.page)));
  }catch(_){}
  // Guardar en memoria larga (texto)
  const bundle = results.map(x=> `${x.title}\n${x.snippet||''}\n${x.link||x.page||''}`).join('\n\n');
  if(bundle) BrainMemory.long.push({ts:Date.now(), source:'web', query, content:bundle});
  return results;
}

/* ==================== Mini GPT interno ==================== */
function openMiniGPT(){
  const wrap = document.createElement('div');
  wrap.id='miniGpt';
  wrap.innerHTML = `
    <style>
      #miniGpt{ position:fixed; inset:120px 60px; background:#0a0f1f; color:#e8f0ff; border:1px solid #1b2550; border-radius:14px; z-index:2400; display:flex; flex-direction:column; }
      #miniGpt .bar{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#10183a; border-bottom:1px solid #1b2550; }
      #miniGpt .body{ flex:1; display:grid; grid-template-columns:2fr 1fr; gap:10px; padding:12px; overflow:auto; }
      #miniGpt .card{ border:1px solid #1b2550; border-radius:10px; padding:10px; }
      #miniGpt textarea, #miniGpt select, #miniGpt input{ width:100%; background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; }
      #miniGpt .out{ white-space:pre-wrap; background:#091235; border-radius:8px; padding:8px; min-height:160px; }
    </style>
    <div class="bar"><strong>ü§ñ Mini GPT Asistente</strong><button onclick="document.getElementById('miniGpt').remove()">Cerrar</button></div>
    <div class="body">
      <div class="card">
        <h4>Prompt</h4>
        <textarea id="gpt_in" placeholder="Escribe tu petici√≥n (crea m√≥dulos, prompts, textos, etc.)"></textarea>
        <div style="display:flex; gap:8px; margin-top:8px">
          <select id="gpt_style"><option>neutro</option><option>amistoso</option><option>profesional</option><option>po√©tico</option></select>
          <button onclick="miniGptRun()">Generar</button>
          <button onclick="miniGptUseInChat()">Enviar al chat</button>
        </div>
        <div class="out" id="gpt_out"></div>
      </div>
      <div class="card">
        <h4>Herramientas</h4>
        <button onclick="openTrainer()">üèãÔ∏è Entrenar respuestas</button>
        <button onclick="openFeederPro()">üß™ Feeder avanzado</button>
        <button onclick="learnFromPrompt()">üåç Aprender del web</button>
        <p style="font-size:12px;opacity:.8">*Si configuras Google API/CX, usar√© b√∫squeda real. Siempre con filtros.</p>
      </div>
    </div>
  `;
  document.body.appendChild(wrap);
}
async function miniGptRun(){
  const txt = document.getElementById('gpt_in').value.trim(); if(!txt) return;
  const style = document.getElementById('gpt_style').value;
  // Motor simple: combina semilla de personalidad + ejemplos + memoria larga + web opcional
  const persona = localStorage.getItem('herencia_persona_seed') || HERENCIA_PERSONALIDADES_CORE.central;
  const memLong  = BrainMemory.long.slice(-3).map(x=>x.content).join('\n\n');
  const tone = (style==='amistoso')?'tono cercano y alegre':
               (style==='profesional')?'tono profesional y claro':
               (style==='po√©tico')?'tono po√©tico y suave':'tono neutro';
  const out = `(${tone})\n[Personalidad]\n${persona}\n\n[Contexto]\n${memLong}\n\n[Solicitud]\n${txt}\n\n[Respuesta]\n- `;
  document.getElementById('gpt_out').textContent = out + '‚Ä¶';
}
function miniGptUseInChat(){
  const out = document.getElementById('gpt_out').textContent.trim(); if(!out) return;
  addMessage('bot', out);
}

/* ==================== Entrenamiento manual de respuestas ==================== */
function openTrainer(){
  const wrap = document.createElement('div');
  wrap.id='trainer';
  wrap.innerHTML = `
    <style>
      #trainer{ position:fixed; inset:120px 120px; background:#0a0f1f; color:#e8f0ff; border:1px solid #1b2550; border-radius:14px; z-index:2450; display:flex; flex-direction:column; }
      #trainer .bar{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#10183a; border-bottom:1px solid #1b2550; }
      #trainer .body{ flex:1; display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:12px; overflow:auto; }
      #trainer .card{ border:1px solid #1b2550; border-radius:10px; padding:10px; }
      #trainer textarea, #trainer input, #trainer select{ width:100%; background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; }
      #trainer .list{ max-height:220px; overflow:auto; background:#091235; border-radius:8px; padding:6px; font-size:13px; }
    </style>
    <div class="bar"><strong>üèãÔ∏è Entrenamiento de respuestas</strong><button onclick="document.getElementById('trainer').remove()">Cerrar</button></div>
    <div class="body">
      <div class="card">
        <h4>Ejemplo nuevo</h4>
        <input id="tr_q" placeholder="Pregunta">
        <textarea id="tr_a" placeholder="Respuesta perfecta"></textarea>
        <input id="tr_ia" placeholder="IA/m√≥dulo destinatario (ej. NaturalGenerationIA)">
        <button onclick="trainerSave()">Guardar ejemplo</button>
      </div>
      <div class="card">
        <h4>Ejemplos guardados</h4>
        <div class="list" id="tr_list"></div>
        <button onclick="trainerClear()">Vaciar ejemplos</button>
      </div>
    </div>
  `;
  document.body.appendChild(wrap);
  trainerRefresh();
}
function trainerSave(){
  const q = document.getElementById('tr_q').value.trim();
  const a = document.getElementById('tr_a').value.trim();
  const ia= document.getElementById('tr_ia').value.trim() || 'NaturalGenerationIA';
  if(!q||!a) return;
  const arr = JSON.parse(localStorage.getItem('herencia_train_examples')||'[]');
  arr.push({q,a,ia,ts:Date.now()});
  localStorage.setItem('herencia_train_examples', JSON.stringify(arr));
  document.getElementById('tr_q').value=''; document.getElementById('tr_a').value=''; document.getElementById('tr_ia').value='';
  trainerRefresh(); showToast('Ejemplo guardado');
}
function trainerRefresh(){
  const arr = JSON.parse(localStorage.getItem('herencia_train_examples')||'[]');
  document.getElementById('tr_list').innerHTML = arr.map((x,i)=>`<div>#${i+1} [${x.ia}] ${x.q} ‚áí ${x.a.slice(0,80)}...</div>`).join('');
}
function trainerClear(){
  if(!confirm('¬øEliminar todos los ejemplos?')) return;
  localStorage.removeItem('herencia_train_examples'); trainerRefresh();
}

/* ==================== Seguridad & √©tica panel ==================== */
function openSecurityPanel(){
  const wrap = document.createElement('div');
  wrap.id='securityPanel';
  wrap.innerHTML = `
    <style>
      #securityPanel{ position:fixed; inset:160px 120px; background:#0a0f1f; color:#e8f0ff; border:1px solid #1b2550; border-radius:14px; z-index:2460; display:flex; flex-direction:column; }
      #securityPanel .bar{ display:flex; justify-content:space-between; align-items:center; padding:10px 12px; background:#10183a; border-bottom:1px solid #1b2550; }
      #securityPanel .body{ flex:1; display:grid; grid-template-columns:1fr 1fr; gap:10px; padding:12px; overflow:auto; }
      #securityPanel .card{ border:1px solid #1b2550; border-radius:10px; padding:10px; }
      #securityPanel textarea, #securityPanel input{ width:100%; background:#0a1338; color:#e8f0ff; border:1px solid #25367a; border-radius:8px; padding:6px 8px; }
    </style>
    <div class="bar"><strong>üõ°Ô∏è Seguridad & √âtica</strong><button onclick="document.getElementById('securityPanel').remove()">Cerrar</button></div>
    <div class="body">
      <div class="card">
        <h4>Reglas prohibidas</h4>
        <textarea id="sec_deny">${ReproductionPolicy.topicDenyList.join(', ')}</textarea>
        <button onclick="saveSecDeny()">Guardar</button>
      </div>
      <div class="card">
        <h4>Dominios permitidos</h4>
        <textarea id="sec_allow">${ReproductionPolicy.domainAllowList.join(', ')}</textarea>
        <button onclick="saveSecAllow()">Guardar</button>
      </div>
      <div class="card">
        <h4>Supervisor ‚Äî log</h4>
        <div class="list" style="max-height:220px;overflow:auto;background:#091235;border-radius:8px;padding:6px;" id="sec_log"></div>
      </div>
    </div>
  `;
  document.body.appendChild(wrap);
  document.getElementById('sec_log').innerHTML = Supervisor.log.map(x=>`<div>[${new Date(x.ts).toLocaleTimeString()}] ${x.evt}: ${x.detail}</div>`).join('');
}
function saveSecDeny(){
  const v = document.getElementById('sec_deny').value;
  ReproductionPolicy.topicDenyList = v.split(',').map(s=>s.trim()).filter(Boolean);
  localStorage.setItem('dm_security_deny', ReproductionPolicy.topicDenyList.join(','));
  showToast('Reglas prohibidas actualizadas');
}
function saveSecAllow(){
  const v = document.getElementById('sec_allow').value;
  ReproductionPolicy.domainAllowList = v.split(',').map(s=>s.trim()).filter(Boolean);
  localStorage.setItem('dm_security_allow_domains', ReproductionPolicy.domainAllowList.join(','));
  showToast('Dominios permitidos actualizados');
}

/* ==================== Aprender del prompt (Mini GPT -> Web) ==================== */
async function learnFromPrompt(){
  const q = document.getElementById('gpt_in')?.value?.trim(); if(!q) return;
  const r = await learnFromWeb(q);
  document.getElementById('gpt_out').textContent = (document.getElementById('gpt_out').textContent||'') + `\n\n[Web]\n` + r.map(x=>`‚Ä¢ ${x.title} ‚Äî ${x.link||x.page}`).join('\n');
}
</script>
<script id="augment-diagnosis-tox-memory-signature">
/* ==================== Bot√≥n ‚ÄúToxicidad animales‚Äù en men√∫ del estetoscopio ==================== */
(function addToxicityButton(){
  const menu = document.getElementById('apiMenu');
  const btn = document.createElement('button');
  btn.textContent = 'üêæ Toxicidad para animales';
  btn.setAttribute('data-diag','toxicidad');
  btn.addEventListener('click',()=>{ menu.style.display='none'; startWizard('toxicidad'); });
  menu.appendChild(btn);
})();

/* A√±adir wizard ‚Äútoxicidad‚Äù */
WIZARDS.toxicidad = [
  "¬øTienes la especie exacta o aproximada?",
  "¬øConvive con gatos, perros u otros animales?",
  "¬øHa mostrado la planta s√≠ntomas de toxicidad (l√°tex, olor fuerte, irritaci√≥n)?"
];

/* ==================== PlantID directo desde front (opcional) ==================== */
// Uso: callPlantIdSelected('plant_general' | 'plant_fungus' | 'plant_insects' | 'plant_care')
async function callPlantIdSelected(keyName){
  const key = API_KEYS[keyName];
  if(!key){ showToast('Configura la API seleccionada en DevMenu'); return null; }
  if(!uploadedImageBase64){ showToast('Primero sube o captura una foto'); return null; }
  try{
    const r = await PlantID.call(key, uploadedImageBase64);
    addMessage('bot', 'üìë Resultado PlantID recibido (resumen).');
    BrainMemory.mid.push({ts:Date.now(), source:'plantid', data:r});
    return r;
  }catch(e){
    addMessage('bot', '‚ö†Ô∏è PlantID fall√≥: '+e.message); return null;
  }
}

/* ==================== Toxicidad ‚Äî motor combinado ==================== */
const ToxicityDB = {
  // Mapa simple de ejemplos; ampliable v√≠a Feeder/Web
  "Dieffenbachia":"Alta (irritante; peligrosa para gatos/perros)",
  "Monstera deliciosa":"Moderada (irritaci√≥n leve al masticar)",
  "Spathiphyllum (Peace Lily)":"Alta (oxalatos c√°lcicos ‚Äî gatos/perros)",
  "Ficus benjamina":"Moderada (savia irritante)",
  "Aloe vera":"Moderada (al gastrointestinal en mascotas)",
  "Sansevieria (Dracaena trifasciata)":"Moderada (saponinas ‚Äî v√≥mitos)",
  "Pothos (Epipremnum aureum)":"Alta (oxalatos c√°lcicos)",
  "Nerium oleander":"Muy alta (cardiot√≥xica) ‚Äî extrema precauci√≥n"
};
function lookupToxicityByName(name){
  if(!name) return null;
  const keys = Object.keys(ToxicityDB);
  const hit = keys.find(k=> name.toLowerCase().includes(k.toLowerCase()));
  return hit ? `${hit}: ${ToxicityDB[hit]}` : null;
}

// Resumen post-wizard
const _origBuildSummary = buildWizardSummary;
buildWizardSummary = function(type, answers){
  if(type!=='toxicidad') return _origBuildSummary(type, answers);
  // 1) Intentar con PlantID memoria reciente
  let species = null, toxicity = null;
  const lastPID = [...BrainMemory.mid].reverse().find(x=>x.source==='plantid');
  if(lastPID){
    const guesses = lastPID.data?.result?.is_plant && (lastPID.data?.result?.classification?.suggestions||[]);
    if(guesses && guesses.length) species = guesses[0]?.name || guesses[0]?.species?.scientific_name;
  }
  // 2) Heur√≠stico por texto del usuario
  if(!species){
    const s = answers.join(' ').toLowerCase();
    const candidates = Object.keys(ToxicityDB);
    const hit = candidates.find(k=> s.includes(k.toLowerCase().split(' ')[0]));
    species = hit || null;
  }https://herenciafloristeria.es/assets/full-logo-DV4tgILq.png

  if(species){ toxicity = lookupToxicityByName(species); }
  const pet = /gato|perro|mascota/.test(answers.join(' ').toLowerCase()) ? 'S√≠' : 'No aclarado';
  return `üß™ Toxicidad ‚Äî Resultado preliminar
- Especie detectada: ${species||'(no detectada)'}
- Animales en casa: ${pet}
- Evaluaci√≥n: ${toxicity||'No tengo datos suficientes; revisa bases de datos veterinarias confiables.'}
- Recomendaci√≥n: Mant√©n la planta fuera del alcance de mascotas hasta confirmar con una fuente oficial.`;
};

/* ==================== Memoria multinivel controles (borrar por separado) ==================== */
function clearMemory(level){
  if(level==='short'){ BrainMemory.short = []; localStorage.removeItem('herencIA_chat_v3'); }
  if(level==='mid'){ BrainMemory.mid = []; }
  if(level==='long'){ BrainMemory.long = []; localStorage.removeItem('herencia_training_links'); localStorage.removeItem('herencia_training_files'); localStorage.removeItem('herencia_training_texts'); }
  showToast(`Memoria ${level} borrada`);
}

/* ==================== Firma final adicional solicitada ==================== */
(function addFinalSignature(){
  const sig = document.createElement('div');
  sig.style.cssText = 'margin:10px 0 24px; font-size:12px; opacity:.7; text-align:center;';
  sig.textContent = 'CREADO POR HERENCIA, BY: VALENCIA BRAVO D.E.';
  document.body.appendChild(sig);
})();
</script>
</body>
</html>
     UN CUADRO DE CHAT CHAT BOX ABAJO Y EL LOGO ARRIBA.
https://herenciafloristeria.es/assets/full-logo-DV4tgILq.png  : LOGO LO CAMIARE EN DEV MENU: TODO SERA CAMBIABLE EN DEV MENU

fondo : https://i.pinimg.com/1200x/6b/9d/44/6b9d44393674aed608c632ee1d1ec2f2.jpg



DEV MENU: TIPO ANDROID : botones y 
‚úÖ CARACTER√çSTICAS COMPLETAS DEL DEV MENU
(Sin explicaciones ‚Äî Solo caracter√≠sticas)

Acceso protegido con clave 13101098.

Panel oculto por defecto.

Desbloqueo mediante campo num√©rico.

Panel flotante.

Panel draggable.

Scroll vertical completo.

Fondo oscuro.

Translucidez leve.

Secci√≥n ‚ÄúGeneral‚Äù.

Secci√≥n ‚ÄúIdiomas‚Äù.

Secci√≥n ‚ÄúIA y Personalidad‚Äù.

Secci√≥n ‚ÄúVoz y Micr√≥fono‚Äù.

Secci√≥n ‚ÄúMemoria‚Äù.

Secci√≥n ‚ÄúDiagn√≥stico Bot√°nico‚Äù.

Secci√≥n ‚ÄúC√°mara y Esc√°ner‚Äù.

Secci√≥n ‚ÄúImagen‚Äù.

Secci√≥n ‚ÄúPlant.ID‚Äù.

Secci√≥n ‚ÄúAPIs Externas‚Äù.

Secci√≥n ‚ÄúSuperBrain‚Äù.

Secci√≥n ‚ÄúAgentes del sistema‚Äù.

Secci√≥n ‚ÄúM√≥dulos IA‚Äù.

Secci√≥n ‚ÄúExtensiones‚Äù.

Secci√≥n ‚ÄúFeeder IA‚Äù.

Secci√≥n ‚ÄúNeural Graph‚Äù.

Secci√≥n ‚ÄúIA Reparadora‚Äù.

Secci√≥n ‚ÄúSeguridad interna‚Äù.

Secci√≥n ‚ÄúDiagn√≥stico del Sistema‚Äù.

Secci√≥n ‚ÄúHerramientas de Pruebas‚Äù.

Secci√≥n ‚ÄúConfiguraci√≥n de la interfaz‚Äù.

Secci√≥n ‚ÄúContactos y Mapa‚Äù.

Bot√≥n para cerrar el DevMenu.

Indicador de estado del sistema.

Indicador de estado de las APIs.

Indicador de estado de Plant.ID.

Indicador del micr√≥fono.

Indicador del altavoz.

Cambio de idioma del sistema.

Cambio de idioma del chat.

Cambio de idioma de voz TTS.

Cambio de idioma de STT.

Traducci√≥n autom√°tica del historial.

Cambio de idioma de botones.

Selecci√≥n de voz TTS.

Configuraci√≥n de voz.

Prueba de voz TTS.

Selecci√≥n de modo del micr√≥fono.

Walkie-talkie ON/OFF.

Toggle cl√°sico ON/OFF.

Sensibilidad STT.

Activar vibraci√≥n al grabar.

Activar color rojo al grabar.

Reinicio de motor STT.

Activar ‚Äúmodo conversaci√≥n por voz‚Äù.

Limpiar memoria corta.

Limpiar memoria media.

Limpiar memoria larga.

Exportar memoria.

Importar memoria.

Ver memoria por categor√≠as.

Fijar datos importantes.

Eliminar datos espec√≠ficos.

Reset de IA conversacional.

Reset de IA de diagn√≥stico.

Configurar personalidad.

Ajustar tono.

Ajustar emotividad.

Ajustar nivel de detalle.

Ajustar longitud de respuesta.

Editar saludo inicial.

Editar despedida.

Editar mensaje de reencuentro.

Presentaci√≥n fija como Herenc(IA).

Mantener pronunciaci√≥n ‚ÄúHerencia‚Äù.

Activar o desactivar agentes.

Ajustar prioridad de agentes.

Crear agente nuevo.

Eliminar agente.

Mutar agente.

Ver √°rbol de agentes.

Ver interacciones de agentes.

Configurar IA del diagn√≥stico.

Configurar IA de hongos.

Configurar IA de plagas.

Configurar IA de cuidados.

Configurar IA de toxicidad.

Crear nuevas IA para bot√°nica.

IA hijas autom√°ticas.

IA experimentales.

IA de sistema.

IA gl√≥bulos blancos.

Ajustes de IAs protectoras.

Activar IA autoreparadora.

Desactivar IA autoreparadora.

Ver registro de reparaciones.

Simular error.

Ver reporte de seguridad.

Registrar fallos del sistema.

Estado de integridad del sistema.

Crear m√≥dulo IA.

Editar m√≥dulo IA.

Eliminar m√≥dulo IA.

Cambiar prioridad de m√≥dulo.

Conectar m√≥dulo a API.

Probar m√≥dulo IA.

Crear extensi√≥n.

Editar extensi√≥n.

Probar extensi√≥n.

Activar extensi√≥n.

Desactivar extensi√≥n.

Guardar extensi√≥n.

Ingesta de enlaces del Feeder.

Ingesta de notas.

Ingesta de archivos.

Clasificaci√≥n autom√°tica del Feeder.

Entrenamiento IA con Feeder.

Mostrar historial del Feeder.

Panel de c√°mara.

Activar c√°mara.

Desactivar c√°mara.

Capturar foto.

Escaneo en tiempo real.

Calidad de escaneo.

Brillo.

Contraste.

Nitidez.

Autoexposici√≥n.

Calibraci√≥n de luz.

Modo macro.

Modo micro.

Guardar fotos.

Borrar fotos.

Panel de imagen.

Preprocesamiento de foto.

Mejorar calidad.

Correcci√≥n de color.

Ajustar resoluci√≥n.

Activar optimizaci√≥n para Plant.ID.

Conectar con Plant.ID general.

Conectar con Plant.ID hongos.

Conectar con Plant.ID insectos.

Conectar con Plant.ID cuidados.

Guardar keys de Plant.ID.

Test Plant.ID sin foto.

Test Plant.ID con foto.

Mostrar resultados.

Panel de diagn√≥stico bot√°nico.

Configurar bot√≥n ‚ÄúLuz‚Äù.

Configurar bot√≥n ‚ÄúAgua‚Äù.

Configurar bot√≥n ‚ÄúSombra‚Äù.

Configurar bot√≥n ‚ÄúPlagas‚Äù.

Configurar bot√≥n ‚ÄúHongos‚Äù.

Configurar bot√≥n ‚ÄúDeficiencias‚Äù.

Configurar bot√≥n ‚ÄúToxicidad‚Äù.

Configurar bot√≥n ‚ÄúFloraci√≥n‚Äù.

Configurar bot√≥n ‚ÄúTrasplante‚Äù.

Configurar bot√≥n ‚ÄúAbono‚Äù.

Configurar bot√≥n ‚ÄúEstaci√≥n‚Äù.

Configurar bot√≥n ‚ÄúSalud general‚Äù.

Asociar emoticonos.

Ajustar comportamiento de test previo.

Ver √∫ltimos diagn√≥sticos.

Comparar diagn√≥sticos.

Panel del clima.

Conectar API de clima.

Configurar API clima.

Conectar estaci√≥n autom√°tica.

Control manual de estaci√≥n.

Recomendar cuidados seg√∫n clima.

Panel del neural graph.

Ver nodos.

Crear nodo.

Eliminar nodo.

Conectar nodos.

Desconectar nodos.

Guardar grafo.

Cargar grafo.

Snapshots del grafo.

Restaurar snapshot.

Ver actividad en vivo.

Ver flujo de datos.

Panel de seguridad IA.

Ver estado de Firewall IA.

Ver estado de StabilityCore.

Ver estado de RuntimeGuardian.

Poner m√≥dulo en cuarentena.

Eliminar m√≥dulo corrupto.

Reset de seguridad.

Panel de logs.

Logs del sistema.

Logs de APIs.

Logs de IA.

Logs de errores.

Logs de seguridad.

Logs de c√°mara.

Logs de voz.

Logs del neural graph.

Exportar logs.

Limpiar logs.

Activar auditor√≠a.

Desactivar auditor√≠a.

Personalizaci√≥n visual.

Cambiar fondo.

Cambiar tema del DevMenu.

Cambiar tama√±o del DevMenu.

Cambiar opacidad.

Cambiar fuente.

Restaurar dise√±o original.

Secci√≥n de mapa.

Configurar direcci√≥n del local.

Probar mapa.

Secci√≥n WhatsApp.

Cambiar n√∫mero WhatsApp.

Probar WhatsApp.

Activar bot√≥n de mapa.

Activar bot√≥n de WhatsApp.

Exportar configuraci√≥n entera.

Importar configuraci√≥n entera.

Modos del sistema.

Modo normal.

Modo avanzado.

Modo experimental.

Modo sandbox.

Modo recuperaci√≥n.

Desactivar partes del sistema.

Rehabilitar partes del sistema.

Configurar comportamiento en errores.

Nivel de tolerancia a errores.

Panel de rendimiento.

Panel de consumo del sistema.

Estado de CPU.

Estado de memoria.

Estado de red.

Estado de carga IA.

Estado del pipeline.

Ajustes de optimizaci√≥n.

Ajustes del rendimiento IA.

Ajustes de velocidad del sistema.

Ajustes de estabilidad.

Guardar todos los cambios.

Restaurar valores de f√°brica.

Bot√≥n para duplicar configuraci√≥n actual.

Bot√≥n para bloquear cambios temporales.

Opci√≥n para impedir modificaciones cr√≠ticas.

Nivel de acceso del usuario (admin/desarrollador).

Sistema de permisos por secci√≥n.

Activar modo ‚Äúsolo lectura‚Äù.

Desbloqueo avanzado con segundo c√≥digo.

Encriptar par√°metros internos.

Panel de configuraci√≥n r√°pida.

Vista compacta del DevMenu.

Vista extendida del DevMenu.

Vista t√©cnica del DevMenu.

Vista de usuario b√°sico.

Vista de usuario experto.

Cambiar dise√±o del men√∫ (layout 1).

Cambiar dise√±o del men√∫ (layout 2).

Cambiar dise√±o del men√∫ (layout 3).

Ajuste de columnas del DevMenu.

Ajustar tama√±o de secci√≥n.

Minimizar secciones.

Expandir secciones.

Ocultar secciones no usadas.

Ordenar secciones manualmente.

Ordenar secciones autom√°ticamente.

Resetear orden de secciones.

Activar modo ‚Äúcolor por categor√≠a‚Äù.

Activar modo ‚Äútema monocrom√°tico‚Äù.

Activar modo ‚Äútema alto contraste‚Äù.

Activar modo ‚Äútema reducido‚Äù.

Activar modo ‚Äútema profesional‚Äù.

Exportar solo secci√≥n actual.

Importar solo secci√≥n actual.

Copiar configuraci√≥n en clipboard.

Pegar configuraci√≥n desde clipboard.

Duplicar secci√≥n completa.

Desactivar secci√≥n completa.

Mover secci√≥n hacia arriba.

Mover secci√≥n hacia abajo.

Cambiar nombre visual de la secci√≥n.

Agregar secciones personalizadas.

Eliminar secciones personalizadas.

Panel de compatibilidad con versiones antiguas.

Revisar integridad de DevMenu.

Restaurar DevMenu desde backup.

Crear backup del DevMenu.

Lista de backups generados.

Comparar dos backups.

Revisar cambios entre backups.

Restaurar configuraci√≥n parcial.

Restaurar configuraci√≥n total.

Activar historial de cambios.

Ver historial de cambios.

Revertir cambios espec√≠ficos.

Bloquear secci√≥n de seguridad.

Panel maestro con todos los toggles.

Secci√≥n ‚ÄúControl del sistema‚Äù.

Bot√≥n reiniciar motor IA.

Bot√≥n reiniciar motor visual.

Bot√≥n reiniciar motor de audio.

Bot√≥n reiniciar motor de im√°genes.

Bot√≥n reiniciar motor de diagn√≥stico.

Bot√≥n reiniciar motor de agentes.

Bot√≥n reiniciar motor de memoria.

Bot√≥n reiniciar motor de seguridad.

Bot√≥n reiniciar motor del scanner.

Bot√≥n reiniciar motor del TTS.

Bot√≥n reiniciar motor del STT.

Estado de todos los motores.

Estado de sincronizaci√≥n.

Panel de dependencias internas.

Lista de procesos internos.

Prioridad de procesos.

Suspender procesos.

Reactivar procesos.

Panel de servicios activos.

Panel de servicios detenidos.

Configurar arranque de servicios.

Orden de carga del sistema.

Panel de diagn√≥sticos del DevMenu.

Autoevaluaci√≥n del DevMenu.

Detecci√≥n de errores del DevMenu.

Limpieza interna del DevMenu.

Reparaci√≥n del DevMenu.

Restaurar DevMenu a estado funcional.

Reset total de DevMenu.

Guardar dise√±o personalizado.

Cargar dise√±o personalizado.

Dise√±os predefinidos del DevMenu.

Panel de opciones r√°pidas.

Atajos de teclado del DevMenu.

Configurar atajos personalizados.

Tecla para apertura r√°pida del DevMenu.

Tecla para cierre r√°pido del DevMenu.

Bloqueo del DevMenu por inactividad.

Tiempo configurable de bloqueo.

Lista de acciones recientes.

Panel de eventos del sistema.

Registro de advertencias.

Registro de bloqueos.

Panel de configuraci√≥n profunda del sistema.

Ajustes de latencia.

Ajustes de velocidad de procesamiento.

Ajustes de sincronizaci√≥n de tareas.

Ajustes de rendimiento IA.

Ajustes de estabilidad.

Ajustes de memoria cache.

Ajustes de recolecci√≥n de basura.

Sistema de autooptimizaci√≥n.

Activar autooptimizaci√≥n.

Desactivar autooptimizaci√≥n.

Configurar frecuencia de autooptimizaci√≥n.

Panel de compartici√≥n de recursos.

Mostrar consumo estimado de CPU.

Mostrar consumo estimado de RAM.

Mostrar consumo estimado de red.

Control del uso de CPU.

Control del uso de RAM.

Control de l√≠mites de red.

Panel de limitadores del sistema.

Establecer l√≠mites para IA.

Establecer l√≠mites para imagen.

Establecer l√≠mites para memoria.

Establecer l√≠mites para APIs.

Panel de escalabilidad.

Ajustes para dispositivos lentos.

Ajustes para dispositivos r√°pidos.

Ajustes para modo ahorro.

Ajustes para modo rendimiento.

Ajustes de GPU (si disponible).

Control de aceleraci√≥n por hardware.

Desactivar aceleraci√≥n por hardware.

Panel de compatibilidad m√≥vil.

Ajustar tama√±o del DevMenu m√≥vil.

Modo m√≥vil compacto.

Modo m√≥vil completo.

Ajustar escalado en pantallas peque√±as.

Ajustar escalado en pantallas grandes.

Panel de orientaci√≥n (portrait/landscape).

Bloquear orientaci√≥n del DevMenu.

Adaptar dise√±o a orientaci√≥n del dispositivo.

Panel de accesibilidad.

Texto grande.

Alto contraste.

Sin animaciones.

Modo lectura.

Modo navegaci√≥n.

Panel de accesibilidad auditiva.

Panel de accesibilidad visual.

Panel de accesibilidad motora.

Ajustar velocidad del scroll.

Ajustar suavidad del scroll.

Modo scroll instant√°neo.

Panel de notificaciones internas.

Activar notificaciones internas.

Desactivar notificaciones internas.

Configurar duraci√≥n de notificaciones.

Configurar animaci√≥n de notificaciones.

Sonido de alerta.

Vibraci√≥n de alerta.

√çcono de alerta.

Panel de perfiles del DevMenu.

Crear perfil nuevo.

Guardar perfil actual.

Cargar perfil existente.

Borrar perfil.

Renombrar perfil.

Duplicar perfil.

Exportar perfil.

Importar perfil.

Lista de perfiles.

Perfiles por defecto.

Panel de sandbox.

Entrar en sandbox.

Salir de sandbox.

Configurar l√≠mites sandbox.

Monitorizar sandbox.

Panel de experimentos.

Activar modo experimental.

Desactivar modo experimental.

Crear experimento.

Guardar experimento.

Ejecutar experimento.

Detener experimento.

Ver resultados del experimento.

Panel de automatizaciones.

Crear automatizaci√≥n.

Eliminar automatizaci√≥n.

Editar automatizaci√≥n.

Activar automatizaci√≥n.

Desactivar automatizaci√≥n.

Programador de tareas.

Configurar tareas repetitivas.

Programar an√°lisis autom√°ticos.

Programar limpieza autom√°tica.

Programar backups.

Programar entrenamiento IA.

Panel de tiempos del sistema.

Configurar zona horaria.

Ajustar sincronizaci√≥n horaria.

Ver fecha/hora interna del sistema.

Ajustar reloj interno.

Panel meteorol√≥gico interno.

Ajustar condiciones ambientales simuladas.

Integraci√≥n interna de clima en IA.

Panel de simulaciones bot√°nicas.

Crear simulaci√≥n.

Ajustar simulaci√≥n.

Ejecutar simulaci√≥n.

Detener simulaci√≥n.

Ver resultados simulaci√≥n.

Exportar simulaci√≥n.

Importar simulaci√≥n.

Panel de predicciones IA.

Activar predicci√≥n.

Desactivar predicci√≥n.

Ajustar profundidad de predicci√≥n.

Ajustar rango de predicci√≥n.

Ajustar exactitud de predicci√≥n.

Panel de recomendaciones IA.

Ajustar nivel de recomendaci√≥n.

Ajustar frecuencia de recomendaci√≥n.

Activar recomendaciones autom√°ticas.

Desactivar recomendaciones autom√°ticas.

Panel de estilo conversacional.

Configurar empat√≠a.

Configurar formalidad.

Configurar cercan√≠a.

Configurar humor.

Configurar emoticonos.

Activar desactivaci√≥n autom√°tica de humor.

Panel de tono conversacional.

Modo t√©cnico.

Modo b√°sico.

Modo experto.

Modo ultracorto.

Modo detallado.

Modo emocional.

Modo neutro.

Modo c√°lido.

Modo seco.

Panel de interacciones previas.

Ver historial de sesiones.

Comparar sesiones.

Exportar sesi√≥n.

Importar sesi√≥n.

Filtrar historial por tema.

Filtrar historial por fecha.

Filtrar historial por idioma.

Panel de conversaci√≥n avanzada.

Activar memoria extendida.

Desactivar memoria extendida.

Ajustar duraci√≥n del contexto.

Ajustar profundidad del contexto.

Ajustar filtro de relevancia.

Panel de respuestas autom√°ticas.

Activar auto-respuestas.

Desactivar auto-respuestas.

Configurar plantillas autom√°ticas.

Crear plantilla de respuesta.

Eliminar plantilla.

Clonar plantilla.

Guardar plantilla.

Panel de coherencia IA.

Ajustar coherencia corta.

Ajustar coherencia media.

Ajustar coherencia larga.

Panel de creatividad.

Ajustar creatividad baja.

Creatividad media.

Creatividad alta.

Creatividad ca√≥tica.

Panel de seguridad avanzada.

Activar modo seguro.

Desactivar modo seguro.

Configurar reglas de seguridad.

Panel de censura interna.

Activar filtro de texto.

Desactivar filtro de texto.

Configurar lista negra.

Configurar lista blanca.

Panel de privilegios IA.

Permitir mutaci√≥n IA.

Bloquear mutaci√≥n IA.

Permitir creaci√≥n IA aut√≥noma.

Bloquear creaci√≥n IA aut√≥noma.

Panel de estados internos IA.

Nivel de energ√≠a IA.

Estado emocional IA.

Estado de carga IA.

Estado de salud IA.

Panel de autoaprendizaje.

Activar autoaprendizaje.

Desactivar autoaprendizaje.

Superaprendizaje.

Aprendizaje incremental.

Aprendizaje supervisado.

Aprendizaje no supervisado.

Panel de limpieza IA.

Limpieza parcial.

Limpieza total.

Purga suave.

Purga profunda.

Panel de control de errores IA.

Reintentos autom√°ticos.

Cancelar reintentos.

Configurar tiempo entre reintentos.

Panel de diagn√≥stico del sistema IA.

Test de rendimiento IA.

Test de integridad IA.

Test de coherencia IA.

Test de reflexi√≥n IA.

Test de estabilidad IA.

Panel de generaci√≥n controlada.

Modo generaci√≥n segura.

Modo generaci√≥n libre.

Modo generaci√≥n supervisada.

Panel de directivas IA.

Crear directiva.

Editar directiva.

Eliminar directiva.

Aplicar directiva.

Panel de metadatos IA.

Ver versi√≥n IA.

Ver semilla IA.

Ver fecha creaci√≥n IA.

Ver fecha √∫ltima mutaci√≥n.

Panel de carga de modelos IA.

Cargar modelo.

Descargar modelo.

Eliminar modelo.

Actualizar modelo.

Ver modelos instalados.

Panel de switching IA.

Cambiar IA principal.

Cambiar IA de diagn√≥stico.

Cambiar IA de conversaci√≥n.

Cambiar IA de esc√°ner.

Panel de escalado IA.

Subir capacidades IA.

Bajar capacidades IA.

Ajustar recursos IA.

Ajustar l√≠mites IA.

Panel de despliegue IA.

Activar IA experimental.

Desactivar IA experimental.

Activar IA estable.

Activar IA alternativa.

Panel multiagente profundo.

Crear agente aut√≥nomo.

Crear agente secundario.

Crear agente de observaci√≥n.

Eliminar agente aut√≥nomo.

Panel de orquestaci√≥n IA.

Configurar rutas IA.

Configurar pipes IA.

Configurar colas IA.

Panel de distribuci√≥n IA.

Distribuir cargas entre IAs.

Agrupar IAs.

Dividir IAs.

Balanceo de carga.

Panel de rendimiento multiagente.

Medir tiempo de respuesta agentes.

Medir eficacia agentes.

Medir colaboraci√≥n agentes.

Panel de consenso multiagente.

Ajustar votaci√≥n.

Ajustar desempate.

Ajustar prioridades din√°micas.

Panel de an√°lisis sem√°ntico.

Ver mapa sem√°ntico.

Ver relaciones tem√°ticas.

Ajustar profundidad sem√°ntica.

Ajustar sensibilidad sem√°ntica.

Ajustar precisi√≥n sem√°ntica.

Panel de intenci√≥n de usuario.

Detectar intenci√≥n.

Editar reglas de intenci√≥n.

Crear nueva intenci√≥n.

Eliminar intenci√≥n.

Entrenar intenci√≥n.

Panel de detecci√≥n de tono del usuario.

Activar tono autom√°tico.

Desactivar tono autom√°tico.

Ajustar tolerancia emocional.

Panel de control de datos sensibles.

Permitir datos sensibles.

Bloquear datos sensibles.

Enmascarar datos sensibles.

Panel de privacidad.

Ajustar retenci√≥n.

Ajustar eliminaci√≥n autom√°tica.

Configurar anonimizaci√≥n.

Panel de fuentes externas.

Registrar fuentes.

Eliminar fuentes.

Priorizar fuentes.

Clasificar fuentes.

Panel de web-scraping IA.

Activar scraping.

Desactivar scraping.

Ajustar filtros de scraping.

Ajustar velocidad de scraping.

Panel de interacci√≥n externa.

Conectar servicios externos.

Desconectar servicios externos.

Panel de cifrado.

Activar cifrado.

Desactivar cifrado.

Cambiar clave interna.

Panel de integridad.

Ver CRC del sistema.

Ver hashes internos.

Panel de control de versiones.

Guardar versi√≥n.

Restaurar versi√≥n.

Duplicar versi√≥n.

Exportar versi√≥n.

Importar versi√≥n.

Historial de versiones.

Panel de despliegue experimental.

Subir versi√≥n experimental.

Activar versi√≥n experimental.

Revertir a versi√≥n estable.

Panel de modulaci√≥n IA.

Ajustar profundidad de razonamiento.

Ajustar temperatura interna.

Ajustar top-p.

Ajustar repetici√≥n.

Ajustar penalizaci√≥n sem√°ntica.

Ajustar estilo narrativo.

Ajustar longitud de generaci√≥n.

Ajustar l√≠mites de respuesta.

Ajustar calidad de generaci√≥n.

Ajustar precisi√≥n factual.

Forzar uso de memoria larga.

Forzar uso de memoria corta.

Forzar equilibrio autom√°tico.

Panel emocional IA.

Modo neutro.

Modo feliz.

Modo triste.

Modo anal√≠tico.

Modo natural.

Panel de estado fisiol√≥gico IA.

Nivel de fatiga IA.

Nivel de carga IA.

Nivel de estr√©s IA.

Autoregulaci√≥n IA.

Panel de ‚Äúpercepci√≥n IA‚Äù.

Ajustar sensibilidad del contexto.

Ajustar persistencia tem√°tica.

Ajustar tolerancia al ruido.

Panel de recursos internos.

Ver recursos de texto.

Ver recursos de an√°lisis.

Ver recursos de diagn√≥stico.

Ver recursos de imagen.

Ver recursos de voz.

Panel de consumo energ√©tico virtual.

Simulaci√≥n de energ√≠a.

Ajustar energ√≠a.

Panel de latencia.

Ajustar latencia m√≠nima.

Ajustar latencia m√°xima.

Ajustar latencia promedio.

Panel de balance sem√°ntico.

Ajustar direccionamiento sem√°ntico.

Ajustar relevancia sem√°ntica.

Ajustar cohesi√≥n sem√°ntica.

Panel de sintaxis.

Ajustar formalidad sint√°ctica.

Ajustar complejidad sint√°ctica.

Ajustar estructura de respuesta.

Panel de vocabulario.

Ajustar amplitud l√©xica.

Ajustar restricci√≥n l√©xica.

Ajustar estilo l√©xico.

Panel de personalizaci√≥n profunda.

Configurar expresiones favoritas.

Configurar frases prohibidas.

Configurar tics de lenguaje.

Configurar tono emocional.

Panel de coherencia estil√≠stica.

Ajustar consistencia del estilo.

Ajustar permanencia del estilo.

Panel de autoevaluaci√≥n.

Activar autoevaluaci√≥n continua.

Desactivar autoevaluaci√≥n continua.

Ajustar frecuencia de autoevaluaci√≥n.

Panel de evoluci√≥n IA.

Activar evoluci√≥n.

Desactivar evoluci√≥n.

Ajustar velocidad de evoluci√≥n.

Ajustar complejidad evolutiva.

Panel de mutaci√≥n IA.

Activar mutaci√≥n IA.

Desactivar mutaci√≥n IA.

Configurar mutaci√≥n profunda.

Configurar mutaci√≥n superficial.

Panel de capas IA.

Ver capas internas.

Ajustar profundidad de capas.

Ajustar cargas de capas.

Panel de atenci√≥n IA.

Ajustar foco de atenci√≥n.

Ajustar distribuci√≥n de atenci√≥n.

Panel de contexto IA.

Ajustar l√≠mite del contexto.

Ajustar ventana del contexto.

Panel de memoria estructurada.

Crear memoria estructurada.

Editar memoria estructurada.

Borrar memoria estructurada.

Panel de navegaci√≥n interna.

Buscar datos IA.

Filtrar datos IA.

Ordenar datos IA.

Panel de control de redundancia.

Detectar duplicados.

Fusionar duplicados.

Eliminar duplicados.

Panel de sincronizaci√≥n IA interna.

Activar sincronizaci√≥n.

Desactivar sincronizaci√≥n.

Ajustar frecuencia de sincronizaci√≥n.

Panel de reflejo de pensamiento IA.

Activar pensamiento visible.

Desactivar pensamiento visible.

Ajustar profundidad de pensamiento visible.

Panel de modos IA.

Modo an√°lisis.

Modo conversaci√≥n.

Modo diagn√≥stico.

Modo reparaci√≥n.

Modo aprendizaje.

Panel de l√≠mites IA.

Establecer l√≠mites de conversaci√≥n.

Establecer l√≠mites de b√∫squeda.

Establecer l√≠mites de procesamiento.

Panel de restricci√≥n IA.

Activar restricci√≥n dura.

Activar restricci√≥n suave.

Desactivar restricciones.

Panel de ejecuci√≥n IA.

Forzar ejecuci√≥n de m√≥dulo.

Forzar ejecuci√≥n de agente.

Forzar ejecuci√≥n de IA hija.

Panel de fallback IA.

Configurar fallback por error.

Configurar fallback por incoherencia.

Configurar fallback por falta de datos.

Panel de aprendizaje selectivo.

Aprender solo datos bot√°nicos.

Aprender solo datos conversacionales.

Aprender solo datos √∫tiles.

Aprendizaje por etiquetas.

Aprendizaje por frecuencia.

Aprendizaje por calidad.

Panel de inspecci√≥n IA.

Ver √∫ltima pregunta.

Ver √∫ltima respuesta.

Ver √∫ltima decisi√≥n multiagente.

Ver √∫ltima ruta sem√°ntica.

Panel de datos del usuario.

Ver preferencias del usuario.

Ver idioma del usuario.

Ver historial del usuario.

Panel de privacidad usuario.

Eliminar datos del usuario.

Exportar datos del usuario.

Importar datos del usuario.

Panel de control de interfaz.

Cambiar tama√±o chat.

Cambiar color chat.

Cambiar color burbujas.

Cambiar tipograf√≠a.

Restaurar apariencia chat.

Panel de microcontrol.

Activar modo manual STT.

Activar modo autom√°tico STT.

Seleccionar modelo STT.

Ajustar calidad STT.

Ajustar latencia STT.

Panel de altavoz extendido.

Leer todo el chat.

Leer solo √∫ltimas respuestas.

Leer solo mensajes nuevos.

Activar escuchar mientras habla.

Desactivar escuchar mientras habla.

Panel de consumo del micr√≥fono.

Ver calidad de entrada.

Ver ruido ambiente.

Ajustar cancelaci√≥n de ruido.

Activar supresi√≥n avanzada.

Desactivar supresi√≥n avanzada.

Panel de rutas TTS.

Ajustar velocidad de voz.

Ajustar tono de voz.

Ajustar volumen.

Activar ‚Äúmodo narrador‚Äù.

Desactivar ‚Äúmodo narrador‚Äù.

Panel de accesibilidad sonora.

Activar subt√≠tulos autom√°ticos.

Desactivar subt√≠tulos autom√°ticos.

Panel de integraci√≥n multimedia.

Activar im√°genes en respuestas.

Desactivar im√°genes en respuestas.

Activar videos.

Desactivar videos.

Panel de exportaci√≥n IA.

Exportar configuraci√≥n JSON.

Exportar configuraci√≥n texto.

Exportar configuraci√≥n binaria.

Panel de importaci√≥n IA.

Importar configuraci√≥n JSON.

Importar configuraci√≥n texto.

Importar configuraci√≥n binaria.

Panel de validaci√≥n.

Verificar integridad del archivo.

Verificar formato.

Verificar compatibilidad.

Panel de arquitectura interna.

Ver nodos de arquitectura.

Ver bloques del sistema.

Ver flujo base.

Panel de pipeline IA.

Ver pipeline completo.

Activar pipeline detallado.

Desactivar pipeline detallado.

Ajustar profundidad del pipeline.

Panel de modos de despliegue.

Modo local.

Modo remoto.

Modo mixto.

Panel de redundancia del sistema.

Activar copia espejo IA.

Desactivar copia espejo IA.

Panel de detecci√≥n de inconsistencias.

Detectar loops.

Detectar incoherencias.

Detectar ruido l√≥gico.

Panel de aislamiento.

Aislar m√≥dulo IA.

Aislar agente.

Aislar capa.

Aislar nodo.

Panel de priorizaci√≥n interna.

Subir prioridad m√≥dulo.

Bajar prioridad m√≥dulo.

Subir prioridad agente.

Bajar prioridad agente.

Panel de orden de ejecuci√≥n.

Cambiar orden ejecuci√≥n IA.

Cambiar orden ejecuci√≥n agentes.

Panel de interoperabilidad.

Conectar con otro sistema IA.

Desconectar sistema IA.

Panel de importaci√≥n externa.

Importar datos bot√°nicos.

Importar datos de clima.

Importar base de especies.

Importar base de enfermedades.

Panel de exportaci√≥n externa.

Exportar datos bot√°nicos.

Exportar diagn√≥sticos.

Exportar im√°genes.

Panel de visualizaci√≥n avanzada.

Vista 3D de grafo.

Vista jer√°rquica.

Vista radial.

Vista en √°rbol.

Vista en red.

Panel de trazas.

Ver trazas internas.

Ver trazas del usuario.

Ver trazas de m√≥dulos.

Panel de inspecci√≥n de c√≥digo interno (solo desarollador).

Ver scripts internos.

Ver funciones internas.

Panel de auditor√≠a de funciones.

Activar auditor√≠a.

Desactivar auditor√≠a.

Panel de replicaci√≥n IA.

Crear copia IA.

Fusionar dos IAs.

Dividir IA en dos.

Panel de control emocional del usuario.

Detectar emoci√≥n usuario.

Ajustar respuesta emocional.

Panel de control ambiental IA.

Simular luz.

Simular temperatura.

Simular humedad.

Simular riego.

Panel de predicci√≥n ambiental.

Predecir necesidades.

Predecir plagas.

Panel de interacci√≥n ambiental.

Relaci√≥n clima-planta.

Relaci√≥n estaci√≥n-planta.

Panel de nutrientes.

Crear perfil de nutrientes.

Ajustar frecuencias.

Panel de toxicidad.

Ajustar margen de toxicidad.

Panel de flora auxiliar.

Configurar plantas compatibles.

Configurar plantas incompatibles.

Panel de fauna auxiliar.

Configurar animales compatibles.

Configurar animales sensibles.

Panel de suelo.

Ajustar tipo de sustrato.

Ajustar PH del suelo.

Ajustar mezcla.

Panel de riego inteligente.

Configurar intervalo.

Ajustar cantidad.

Ajustar m√©todo.

Panel de trasplante.

Ajustar fecha recomendada.

Ajustar procedimiento.

Ajustar recipiente.

Panel de poda.

Frecuencia.

T√©cnicas.

Herramientas.

Panel de crecimiento.

Velocidad.

Predicci√≥n.

Estado.

Panel de floraci√≥n.

√âpoca.

Factores.

Duraci√≥n.

Panel de estr√©s vegetal.

Causas.

S√≠ntomas.

Soluciones.

Panel de humedad.

Rango ideal.

Alertas.

Ajustes.

Panel de iluminaci√≥n.

Intensidad.

Duraci√≥n.

Tipo.

Panel de calor.

Rango ideal.

Se√±ales de exceso.

Se√±ales de falta.

Panel de fr√≠o.

Rango ideal.

Se√±ales de da√±o.

Se√±ales de estr√©s.

Panel de autogesti√≥n IA.

Autocuraci√≥n.

Autoorganizaci√≥n.

Autoequilibrio.

A. Creador de IAs (IA-Generator)

Crear nueva IA conversacional.

Crear nueva IA de diagn√≥stico.

Crear nueva IA bot√°nica.

Crear nueva IA de hongos.

Crear nueva IA de plagas.

Crear IA de cuidados de plantas.

Crear IA de toxicidad.

Crear IA de floraci√≥n.

Crear IA experta en clima.

Crear IA de an√°lisis fotogr√°fico.

Crear IA de imagen avanzada.

Crear IA de preprocesamiento.

Crear IA de an√°lisis estructural de hojas.

Crear IA de an√°lisis de color.

Crear IA de predicci√≥n.

Crear IA de aprendizaje aut√≥nomo.

Crear IA con personalidad definida.

Crear IA clonada.

Crear IA hija autom√°tica.

Reproducir IA (IA crea IA).

Mutaci√≥n autom√°tica IA.

Evoluci√≥n autom√°tica IA.

Fusionar dos IAs.

Dividir IA en dos.

Cambiar ADN IA.

Ajustar semilla IA.

Ajustar n√∫cleo IA.

IA que crea funciones.

IA que crea m√≥dulos.

IA que crea botones.

IA que crea diagn√≥sticos completos.

IA que crea instrucciones del sistema.

IA que genera API wrappers.

IA que genera agentes auxiliares.

IA que genera agentes supervisores.

IA que genera agentes gl√≥bulos blancos.

IA que repara otras IAs.

IA que modera otras IAs.

IA que entrena otras IAs.

IA que eval√∫a otras IAs.

IA que substituye IA rota.

IA que mejora IA antigua.

IA ‚Äúcreadora visual‚Äù (para UI).

IA ‚Äúcreadora l√≥gica‚Äù (para backend).

IA ‚Äúcreadora h√≠brida‚Äù.

B. Editor visual completo (sin programar)

Cambiar color de burbujas.

Cambiar forma de burbujas.

Cambiar radio de borde.

Cambiar color del fondo del chat.

Cambiar color del fondo de la app.

Cambiar gradientes.

Cambiar patr√≥n de luz.

Cambiar iconos principales.

Cambiar iconos secundarios.

Cambiar iconos de botones.

Cambiar tama√±o de botones.

Cambiar distancia entre los botones.

Cambiar la posici√≥n de los botones.

Cambiar forma de los botones.

Cambiar transparencia del micr√≥fono.

Cambiar efecto de pulsaci√≥n.

Cambiar animaci√≥n del micr√≥fono.

Cambiar color al grabar.

Cambiar color del altavoz.

Cambiar animaci√≥n del altavoz.

Cambiar color del texto de la app.

Cambiar tama√±o de fuente.

Cambiar estilo de fuente.

Cambiar familia tipogr√°fica.

Cambiar espaciado entre l√≠neas.

Cambiar borde del panel.

Cambiar sombra del panel.

Cambiar fondo del DevMenu.

Cambiar tema oscuro.

Cambiar tema claro.

Cambiar tema naturaleza.

Cambiar tema minimalista.

Cambiar tema profesional.

Cambiar tema ne√≥n.

Cambiar tema transparente.

Cargar dise√±o predefinido.

Guardar dise√±o nuevo.

Restaurar dise√±o original.

C. Creador de botones

Crear nuevo bot√≥n de acci√≥n.

Crear bot√≥n diagnosticar.

Crear bot√≥n c√°mara.

Crear bot√≥n Plant.ID.

Crear bot√≥n de an√°lisis r√°pido.

Crear bot√≥n de toxicidad.

Crear bot√≥n de riego.

Crear bot√≥n de sombra.

Crear bot√≥n de luz.

Crear bot√≥n de trasplante.

Crear bot√≥n de estaci√≥n.

Crear bot√≥n de clima.

Crear bot√≥n de altavoz (toggle).

Crear bot√≥n de micr√≥fono (toggle).

Crear bot√≥n de IA azul personal.

Crear bot√≥n de IA avanzada.

Crear bot√≥n ‚Äúllamar agente‚Äù.

Crear bot√≥n ‚Äúexportar diagn√≥stico‚Äù.

Crear bot√≥n ‚Äúgenerar grafos‚Äù.

Crear bot√≥n ‚Äúentrenar IA‚Äù.

Crear bot√≥n ‚Äúcrear extensi√≥n‚Äù.

Crear bot√≥n ‚Äúcargar extensi√≥n‚Äù.

Crear bot√≥n ‚Äúejecutar extensi√≥n‚Äù.

Crear bot√≥n de c√°mara avanzada.

Crear bot√≥n de galer√≠a.

Crear bot√≥n de limpieza IA.

Crear bot√≥n de memoria.

Crear bot√≥n de reinicio IA.

Crear bot√≥n de restauraci√≥n.

Crear bot√≥n de edici√≥n.

Crear bot√≥n de color.

Crear bot√≥n de estilo.

Crear bot√≥n de efectos.

Crear bot√≥n de mapa.

Crear bot√≥n WhatsApp.

Crear bot√≥n de APIs.

Crear bot√≥n de SuperBrain.

D. Creador de funciones internas

Crear funci√≥n nueva.

Crear acci√≥n interna.

Crear m√≥dulo completo.

Crear proceso autom√°tico.

Crear test interno.

Crear pipeline nuevo.

Crear flujo interno.

Crear nodo nuevo en Neural Graph.

Crear conexi√≥n nueva entre nodos.

Crear an√°lisis nuevo.

Crear funci√≥n de c√°mara.

Crear funci√≥n STT.

Crear funci√≥n TTS.

Crear funci√≥n Plant.ID.

Crear funci√≥n de optimizaci√≥n.

Crear funci√≥n de aprendizaje.

Crear funci√≥n de memoria.

Crear funci√≥n de seguridad.

Crear funci√≥n de reparaci√≥n.

Crear funci√≥n de exportaci√≥n.

Crear funci√≥n de importaci√≥n.

Crear funci√≥n de monitoreo.

Crear funci√≥n de predicci√≥n.

Crear funci√≥n de clima.

Crear funci√≥n bot√°nica especializada.

Crear funci√≥n de hongos.

Crear funci√≥n de plagas.

Crear funci√≥n de toxicidad.

Crear funci√≥n de floraci√≥n.

Crear funci√≥n de √©pocas.

E. Entrenador IA completo

Entrenador de conversaci√≥n.

Entrenador de personalidad.

Entrenador de estilo.

Entrenador de precisi√≥n.

Entrenador de bot√°nica.

Entrenador de hongos.

Entrenador de imagen.

Entrenador de scanner.

Entrenador de Plant.ID.

Entrenador de diagn√≥stico.

Entrenador de toxicidad.

Entrenador de clima.

Entrenador de lenguaje.

Entrenador de memoria.

Entrenador de multiagente.

Entrenador de predicci√≥n.

Entrenador de comportamiento.

Entrenador de coherencia.

Entrenador de estabilidad.

Entrenador de velocidad.

Entrenador de l√≥gica.

Entrenador de razonamiento.

Entrenador de empat√≠a.

Entrenador de tono.

Entrenador de idioma.

Entrenador de traducci√≥n.

Entrenador de respuestas r√°pidas.

Entrenador de autodefensa IA.

Entrenador de agentes internos.

Entrenador de motores secundarios.

F. Modificaci√≥n total de la app (sin programar)

Cambiar estructura del chat.

Cambiar posici√≥n de burbujas.

Cambiar alineaci√≥n.

Cambiar tama√±o de m√°rgenes.

Cambiar avatar del usuario.

Cambiar avatar de IA.

Cambiar animaci√≥n de respuesta.

Cambiar animaci√≥n de entrada.

Cambiar animaci√≥n de salida.

Cambiar animaci√≥n de bot.

Cambiar transici√≥n de pantallas.

Cambiar tama√±o de bordes.

Cambiar estilo de bordes.

Cambiar sombras.

Cambiar efectos de luz.

Cambiar renderizado 2D.

Activar interfaz 3D.

Cambiar layout vertical.

Cambiar layout horizontal.

Cambiar layout mixto.

G. Reprogramador visual del sistema completo

Editor de flujos.

Editor de m√≥dulos.

Editor de agentes.

Editor de conexiones.

Editor de grafo neuronal.

Editor de nodos.

Editor de rutas IA.

Editor de comportamiento.

Editor de respuestas.

Editor de triggers.

Editor de diagn√≥sticos.

Editor de decisiones IA.

Editor de pantalla.

Editor de motor.

Editor de APIs.

Editor de c√°mara.

Editor de STT.

Editor de TTS.

Editor del scanner.

Editor de procesos.

Editor de funciones IA.

Editor de configuraciones bot√°nicas.

Editor de pericias IA.

Editor de pipelines.

Editor de multiagente.

Editor del SuperBrain.

Editor del Feeder.

Editor de memoria estructurada.

Editor de integraciones externas.

Editor de m√≥dulos futuros.
Duplicar IA completa.

Convertir IA en m√≥dulo.

Convertir IA en extensi√≥n.

Convertir IA en agente.

Convertir IA en supervisor.

Convertir IA en nodo.

Convertir IA en pipeline.

Convertir IA en analizador.

Convertir IA en motor secundario.

Convertir IA en motor de respaldo.

Convertir IA en filtro.

Convertir IA en generador.

Convertir IA en traductor.

Convertir IA en modulador.

Convertir IA en creador autom√°tico.

Convertir IA en reparador autom√°tico.

Convertir IA en compilador interno.

Convertir IA en depurador.

Convertir IA en sintetizador.

Convertir IA en evaluador.

Convertir IA en cr√≠tico.

Convertir IA en regulador.

Convertir IA en equilibrador.

Convertir IA en ‚Äúmeta-IA‚Äù.

Convertir IA en IA central.

Convertir IA en extensi√≥n visual.

Convertir IA en extensi√≥n l√≥gica.

Convertir IA en extensi√≥n h√≠brida.

AI-Assembler autom√°tico.

AI-Linker autom√°tico.

AI-Stitcher autom√°tico.

AI-Combiner autom√°tico.

AI-Validator autom√°tico.

AI-Curator autom√°tico.

AI-Booster autom√°tico.

AI-Mender autom√°tico.

AI-Optimizer autom√°tico.

AI-Upgrader autom√°tico.

AI-Analyzer autom√°tico.

AI-Architect autom√°tico.

AI-FlowBuilder autom√°tico.

AI-ResponseShaper autom√°tico.

AI-Dialogue Crafter autom√°tico.

AI-EmotionBalancer autom√°tico.

AI-LanguageMixer autom√°tico.

AI-ContextWeaver autom√°tico.

AI-LogicRouter autom√°tico.

AI-Planificador autom√°tico.

AI-DecisionMaker autom√°tico.

AI-ErrorCatcher autom√°tico.

AI-Debugger autom√°tico.

AI-RepairPipeline autom√°tico.

AI-Reviewer autom√°tico.

AI-ReasoningWatcher autom√°tico.

IA para generar paneles.

IA para generar botones compuestos.

IA para generar conjuntos IA.

IA para generar men√∫s completos.

IA para generar dashboards.

IA para generar herramientas.

IA para generar interfaces completas.

IA para generar APIs internas.

IA para generar reglas conversacionales.

IA para generar filtros.

IA para generar estilos.

IA para generar temas visuales.

IA para generar configuraciones.

IA para generar layouts UI.

IA para generar clases internas.

IA para generar templates de IA.

IA para generar clones del sistema.

IA para regenerar partes da√±adas.

IA para migrar configuraciones.

IA para adaptar m√≥dulos antiguos.

IA para interpretar c√≥digo.

IA para reescribir bloques internos.

IA para extender capacidades.

IA para agregar nuevas √°reas de conocimiento.

IA para crear categor√≠as bot√°nicas.

IA para crear perfiles de plantas.

IA para generar nuevos diagn√≥sticos.

IA para generar m√©todos de an√°lisis.

IA para generar par√°metros nuevos.

IA para generar acciones.

IA para generar comportamientos emergentes.

IA para generar expresiones.

IA para generar plantillas internas.

IA para generar matrices bot√°nicas.

IA para generar cadenas l√≥gicas.

IA para generar inferencias bot√°nicas.

IA para generar respuestas naturales.

IA para generar informes.

IA para generar PDFs.

IA para generar res√∫menes.

IA para generar encuestas.

IA para generar cuestionarios.

IA para generar plantillas de usuario.

IA para generar formatos.

IA para generar formulaciones.

IA para generar estructuras conversacionales.

IA para generar patrones.

IA para generar scripts.

IA para generar microprocesos.

IA para generar subrutinas.

IA para generar nodos del grafo.

IA para generar ramificaciones.

IA para generar secuencias del sistema.

IA para generar triggers.

IA para generar recordatorios.

IA para generar comportamientos IA.

IA para generar personalidad.

IA para generar emociones.

IA para generar tonos.

IA para generar estilos completos.

IA para generar estados IA.

IA para generar diccionarios.

IA para generar ontolog√≠as bot√°nicas.

IA para generar √°rboles taxon√≥micos.

IA para generar comparadores.

IA para generar clasificadores.

IA para generar detectores.

IA para generar predictores.

IA para generar simuladores.

IA para generar modelos de crecimiento.

IA para generar modelos de estr√©s.

IA para generar modelos de luz.

IA para generar modelos de agua.

IA para generar modelos de nutrientes.

IA para generar condiciones ambientales.

IA para generar par√°metros externos.

IA para generar calculadoras.

IA para generar analizadores.

IA para generar resolutores.

IA para generar heur√≠sticas.

IA para generar planificadores.

IA para generar secuenciadores.

IA para generar test autom√°ticos.

IA para generar validadores autom√°ticos.

IA para generar diagn√≥sticos cruzados.

IA para generar mapeos.

IA para generar valores intermedios.

IA para generar promedios.

IA para generar rangos.

IA para generar alertas.

IA para generar advertencias.

IA para generar registros.

IA para generar logs especiales.

IA para generar m√©tricas internas.

IA para generar estad√≠sticas.

IA para generar gr√°ficas.

IA para generar informes visuales.

IA para generar dashboards IA.

IA para generar res√∫menes bot√°nicos.

IA para generar estructuras de datos.

IA para generar configuradores.

IA para generar editores.

IA para generar paneles secundarios.

IA para generar paneles ocultos.

IA para generar paneles emergentes.

IA para generar paneles inteligentes.

IA para generar men√∫s parametrizables.

IA para generar men√∫s ocultos.

IA para generar expansiones del DevMenu.

IA para generar submen√∫s.

IA para generar men√∫s especiales.

IA para generar m√≥dulos bot√°nicos nuevos.

IA para generar especies nuevas.

IA para generar descripciones bot√°nicas.

IA para generar textos IA.

IA para generar conocimiento agregado.

IA para generar programaci√≥n visual.

IA para reestructurar el sistema.

IA para reconstruir el sistema.

IA para reorganizar estructuras internas.

IA para limpiar redundancias.

IA para optimizar m√≥dulos enteros.

IA para analizar el uso.

IA para corregir malfunciones.

IA para detectar inconsistencias.

IA para rehacer v√≠nculos.

IA para rehacer nodos.

IA para rehacer conexiones.

IA para rehacer rutas sem√°nticas.

IA para reordenar prioridades.

IA para reequilibrar cargas.

IA para rearticular l√≥gicas.

IA para reescribir procesos.

IA para recrear motores da√±ados.

IA para reinyectar m√≥dulos.

IA para reactivar procesos.

IA para restaurar estados.

IA para regenerar pipelines completos.

IA para expandir capacidades sin l√≠mites.

IA para extrapolar conocimiento.

IA para extender el sistema indefinidamente.

IA para agregar inteligencia a botones.

IA para agregar estados a botones.

IA para agregar configuraciones a botones.

IA para agregar animaciones a botones.

IA para agregar efectos sonoros.

IA para agregar efectos visuales.

IA para agregar interacci√≥n compleja.

IA para agregar notificaciones.

IA para agregar alarmas.

IA para agregar flujos autom√°ticos.

IA para agregar recetas de diagn√≥stico.

IA para agregar capacidades de predicci√≥n.

IA para agregar nuevos m√©todos de an√°lisis.

IA para agregar nuevos clasificadores.

IA para agregar soporte de nuevas APIs.

IA para agregar soporte de nuevos modelos.

IA para agregar soporte multiling√ºe extendido.

IA para agregar soporte para voz avanzada.

IA para agregar soporte para mezcla de idiomas.

IA para agregar soporte para traducci√≥n cruzada.

IA para agregar nuevos idiomas.

IA para adaptar el sistema a otro pa√≠s.

IA para adaptar el sistema a otra regi√≥n bot√°nica.

IA para adaptar el sistema a otra cultura.

IA para adaptar el sistema a otra configuraci√≥n.

CREADOR TOTAL DEL SISTEMA ‚Äî √çTEMS 451‚Äì1230 (CONTINUACI√ìN DIRECTA)

(solo √≠tems)

IA para adaptar respuestas a nivel educativo.

IA para adaptar respuestas a nivel t√©cnico.

IA para adaptar respuestas a nivel experto.

IA para modular la velocidad de razonamiento.

IA para modular la profundidad conversacional.

IA para modular la complejidad anal√≠tica.

IA para modular el estilo emocional.

IA para modular la estructura sint√°ctica.

IA para modular el vocabulario.

IA para modular el tono.

IA para modular el ritmo.

IA para modular la longitud de respuestas.

IA para modular la creatividad de la IA.

IA para modular la coherencia.

IA para modular la densidad informativa.

IA para modular la sensibilidad sem√°ntica.

IA para modular la precisi√≥n.

IA para modular la estabilidad.

IA para modular la agresividad de aprendizaje.

IA para modular el consumo de recursos.

IA para modular la interacci√≥n con otras IAs.

IA para modular la colaboraci√≥n multiagente.

IA para modular la competencia interna.

IA para modular la cooperaci√≥n.

IA para modular el an√°lisis pasivo.

IA para modular el an√°lisis activo.

IA para modular el an√°lisis predictivo.

IA para modular el an√°lisis reactivo.

IA para modular el an√°lisis de im√°genes.

IA para modular el an√°lisis fotogr√°fico.

IA para modular el an√°lisis microsc√≥pico.

IA para modular el an√°lisis de color.

IA para modular el an√°lisis de textura.

IA para modular el an√°lisis de forma.

IA para modular el an√°lisis de bordes.

IA para modular el an√°lisis de manchas.

IA para modular el an√°lisis de lesiones.

IA para modular el an√°lisis de hongos.

IA para modular el an√°lisis de plagas.

IA para modular el an√°lisis de minerales.

IA para modular el an√°lisis de t√≥xicos.

IA para modular el an√°lisis de estr√©s.

IA para modular el an√°lisis lum√≠nico.

IA para modular el an√°lisis h√≠drico.

IA para modular el an√°lisis ambiental.

IA para modular la evaluaci√≥n del suelo.

IA para modular la evaluaci√≥n del sustrato.

IA para modular la evaluaci√≥n de ra√≠ces.

IA para modular la evaluaci√≥n del tallo.

IA para modular la evaluaci√≥n de hojas.

IA para modular la evaluaci√≥n de flores.

IA para modular la evaluaci√≥n de frutos.

IA para modular la evaluaci√≥n de semillas.

IA para modular el estado general de la planta.

IA para modular la detecci√≥n de deficiencias.

IA para modular la detecci√≥n de excesos.

IA para modular la detecci√≥n de toxinas.

IA para modular la detecci√≥n de anomal√≠as.

IA para modular la detecci√≥n temprana.

IA para modular la detecci√≥n avanzada.

IA para modular la detecci√≥n r√°pida.

IA para modular la an√°lisis profundo.

IA para modular la inferencia bot√°nica.

IA para modular la consulta a APIs.

IA para modular la consulta a Plant.ID.

IA para modular la consulta a clima.

IA para modular la consulta a c√°mara.

IA para modular la consulta a STT.

IA para modular la consulta a TTS.

IA para modular la consulta a sensores.

IA para modular la consulta a m√≥dulos.

IA para modular la consulta a agentes.

IA para modular la consulta a extensiones.

IA para modular la consulta a pipelines.

IA para modular la consulta a nodos.

IA para modular la consulta interna del sistema.

IA para modular la gesti√≥n del DevMenu.

IA para modular el dise√±o interno.

IA para modular la arquitectura.

IA para modular la visualizaci√≥n.

IA para modular el renderizado.

IA para modular la iluminaci√≥n de la UI.

IA para modular la animaci√≥n.

IA para modular el transporte de datos.

IA para modular la memoria interna.

IA para modular el borrado controlado.

IA para modular el archivado.

IA para modular la compresi√≥n.

IA para modular la retenci√≥n.

IA para modular el formato de guardado.

IA para modular la exportaci√≥n.

IA para modular la importaci√≥n.

IA para modular la distribuci√≥n.

IA para modular la evaluaci√≥n de versiones.

IA para modular la comparaci√≥n de backups.

IA para modular la carga de configuraciones.

IA para modular la reconstrucci√≥n interna.

IA para modular la recarga de servicios.

IA para modular la recarga de motores.

IA para modular la recarga del sistema.

Editor para arrastrar elementos.

Editor para agregar paneles.

Editor para eliminar paneles.

Editor para mover paneles.

Editor para cambiar tama√±o de paneles.

Editor para crear subpaneles.

Editor para anidar paneles.

Editor para paneles emergentes.

Editor para paneles ocultos.

Editor para paneles plegables.

Editor para paneles extendidos.

Editor para paneles de dise√±o.

Editor para paneles de IA.

Editor para paneles de m√≥dulos.

Editor para paneles de agentes.

Editor para paneles de API.

Editor para paneles de botones.

Editor para paneles de funciones.

Editor para paneles de ajustes.

Editor para paneles de sintaxis.

Editor para paneles de voz.

Editor para paneles de micr√≥fono.

Editor para paneles de reproducci√≥n.

Editor para paneles de c√°mara.

Editor para paneles de scanner.

Editor para paneles de diagn√≥stico.

Constructor de nodos IA.

Constructor de conexiones IA.

Constructor de agentes IA.

Constructor de m√≥dulos IA.

Constructor de extensiones IA.

Constructor de plugins IA.

Constructor de pipelines IA.

Constructor de flujos IA.

Constructor de secuencias IA.

Constructor de evaluadores IA.

Constructor de predictores IA.

Constructor de analizadores IA.

Constructor de clasificadores IA.

Constructor de resolutores IA.

Constructor de simuladores IA.

Constructor de motores IA.

Constructor de √°rboles de decisi√≥n.

Constructor de matrices bot√°nicas.

Constructor de mapas sem√°nticos.

Constructor de redes bot√°nicas.

Constructor de sistemas de estr√©s.

Constructor de sistemas de luz.

Constructor de sistemas de clima.

Constructor de sistemas de agua.

Constructor de sistemas de nutrientes.

Constructor de sistemas de plagas.

Constructor de sistemas de hongos.

Constructor de sistemas de toxicidad.

Constructor de sistemas conversacionales.

Constructor de personalidad IA.

Constructor de tono IA.

Constructor de estilo IA.

Constructor de comportamiento IA.

Constructor de directivas IA.

Constructor de respuestas IA.

Constructor de plantillas IA.

Motor gr√°fico editable.

Motor visual editable.

Motor de color editable.

Motor de animaci√≥n editable.

Motor de iluminaci√≥n editable.

Motor de renderizado editable.

Motor de posici√≥n editable.

Motor de fuentes editable.

Motor de tipograf√≠as editable.

Motor de estilo editable.

Motor de bordes editable.

Motor de sombras editable.

Motor de curvas editable.

Motor de espacios editable.

Motor de capas editable.

Motor de efectos editable.

Lector de estructuras IA.

Lector de estados IA.

Lector de decisiones IA.

Lector de rutas IA.

Lector de emociones IA.

Lector de procesos IA.

Lector de ciclos IA.

Lector de limitadores IA.

Lector de procesos internos.

Lector de logs internos.

Lector de memoria interna.

Lector de contexto conversacional.

Lector de grafo neuronal.

Lector de pipelines.

Lector de filtros IA.

Transformador IA.

Transformador conversacional.

Transformador bot√°nico.

Transformador fotogr√°fico.

Transformador lum√≠nico.

Transformador clim√°tico.

Transformador de agua.

Transformador de nutrientes.

Transformador de enfermedades.

Transformador de hongos.

Transformador de plagas.

Transformador de estr√©s.

Transformador de crecimiento.

Transformador de √©pocas.

Transformador de an√°lisis.

Editor masivo IA.

Actualizaci√≥n IA en lote.

Eliminaci√≥n IA en lote.

Modificaci√≥n IA masiva.

Copia IA masiva.

Fusi√≥n IA masiva.

Mini constructor IA autom√°tico.

Creador de comportamientos emergentes.

Reconfiguraci√≥n completa del sistema.

Reruteo del pensamiento IA.

Reensamblaje del grafo.

Reescritura del sistema conversacional.

Reescritura del sistema bot√°nico.

Reescritura del sistema visual.

Reescritura del sistema de diagn√≥stico.

Reescritura del sistema de voz.

Reescritura del sistema de micr√≥fono.

Reescritura del sistema de c√°maras.

Reescritura del sistema de APIs.

Reescritura del sistema de memoria.

Reescritura del sistema de m√≥dulos.

Reescritura del motor principal.

Reescritura del sistema completo.

opcion de que se auto analice y cree opciones pero con mi consentimiento para que sea mas resoluticva y y que cree opciones y cosas pedida por mi como si programase sin programar
CREADOR TOTAL DEL SISTEMA ‚Äî √çTEMS 451‚Äì1230 (CONTINUACI√ìN DIRECTA)

(solo √≠tems)

IA para adaptar respuestas a nivel educativo.

IA para adaptar respuestas a nivel t√©cnico.

IA para adaptar respuestas a nivel experto.

IA para modular la velocidad de razonamiento.

IA para modular la profundidad conversacional.

IA para modular la complejidad anal√≠tica.

IA para modular el estilo emocional.

IA para modular la estructura sint√°ctica.

IA para modular el vocabulario.

IA para modular el tono.

IA para modular el ritmo.

IA para modular la longitud de respuestas.

IA para modular la creatividad de la IA.

IA para modular la coherencia.

IA para modular la densidad informativa.

IA para modular la sensibilidad sem√°ntica.

IA para modular la precisi√≥n.

IA para modular la estabilidad.

IA para modular la agresividad de aprendizaje.

IA para modular el consumo de recursos.

IA para modular la interacci√≥n con otras IAs.

IA para modular la colaboraci√≥n multiagente.

IA para modular la competencia interna.

IA para modular la cooperaci√≥n.

IA para modular el an√°lisis pasivo.

IA para modular el an√°lisis activo.

IA para modular el an√°lisis predictivo.

IA para modular el an√°lisis reactivo.

IA para modular el an√°lisis de im√°genes.

IA para modular el an√°lisis fotogr√°fico.

IA para modular el an√°lisis microsc√≥pico.

IA para modular el an√°lisis de color.

IA para modular el an√°lisis de textura.

IA para modular el an√°lisis de forma.

IA para modular el an√°lisis de bordes.

IA para modular el an√°lisis de manchas.

IA para modular el an√°lisis de lesiones.

IA para modular el an√°lisis de hongos.

IA para modular el an√°lisis de plagas.

IA para modular el an√°lisis de minerales.

IA para modular el an√°lisis de t√≥xicos.

IA para modular el an√°lisis de estr√©s.

IA para modular el an√°lisis lum√≠nico.

IA para modular el an√°lisis h√≠drico.

IA para modular el an√°lisis ambiental.

IA para modular la evaluaci√≥n del suelo.

IA para modular la evaluaci√≥n del sustrato.

IA para modular la evaluaci√≥n de ra√≠ces.

IA para modular la evaluaci√≥n del tallo.

IA para modular la evaluaci√≥n de hojas.

IA para modular la evaluaci√≥n de flores.

IA para modular la evaluaci√≥n de frutos.

IA para modular la evaluaci√≥n de semillas.

IA para modular el estado general de la planta.

IA para modular la detecci√≥n de deficiencias.

IA para modular la detecci√≥n de excesos.

IA para modular la detecci√≥n de toxinas.

IA para modular la detecci√≥n de anomal√≠as.

IA para modular la detecci√≥n temprana.

IA para modular la detecci√≥n avanzada.

IA para modular la detecci√≥n r√°pida.

IA para modular la an√°lisis profundo.

IA para modular la inferencia bot√°nica.

IA para modular la consulta a APIs.

IA para modular la consulta a Plant.ID.

IA para modular la consulta a clima.

IA para modular la consulta a c√°mara.

IA para modular la consulta a STT.

IA para modular la consulta a TTS.

IA para modular la consulta a sensores.

IA para modular la consulta a m√≥dulos.

IA para modular la consulta a agentes.

IA para modular la consulta a extensiones.

IA para modular la consulta a pipelines.

IA para modular la consulta a nodos.

IA para modular la consulta interna del sistema.

IA para modular la gesti√≥n del DevMenu.

IA para modular el dise√±o interno.

IA para modular la arquitectura.

IA para modular la visualizaci√≥n.

IA para modular el renderizado.

IA para modular la iluminaci√≥n de la UI.

IA para modular la animaci√≥n.

IA para modular el transporte de datos.

IA para modular la memoria interna.

IA para modular el borrado controlado.

IA para modular el archivado.

IA para modular la compresi√≥n.

IA para modular la retenci√≥n.

IA para modular el formato de guardado.

IA para modular la exportaci√≥n.

IA para modular la importaci√≥n.

IA para modular la distribuci√≥n.

IA para modular la evaluaci√≥n de versiones.

IA para modular la comparaci√≥n de backups.

IA para modular la carga de configuraciones.

IA para modular la reconstrucci√≥n interna.

IA para modular la recarga de servicios.

IA para modular la recarga de motores.

IA para modular la recarga del sistema.

Editor para arrastrar elementos.

Editor para agregar paneles.

Editor para eliminar paneles.

Editor para mover paneles.

Editor para cambiar tama√±o de paneles.

Editor para crear subpaneles.

Editor para anidar paneles.

Editor para paneles emergentes.

Editor para paneles ocultos.

Editor para paneles plegables.

Editor para paneles extendidos.

Editor para paneles de dise√±o.

Editor para paneles de IA.

Editor para paneles de m√≥dulos.

Editor para paneles de agentes.

Editor para paneles de API.

Editor para paneles de botones.

Editor para paneles de funciones.

Editor para paneles de ajustes.

Editor para paneles de sintaxis.

Editor para paneles de voz.

Editor para paneles de micr√≥fono.

Editor para paneles de reproducci√≥n.

Editor para paneles de c√°mara.

Editor para paneles de scanner.

Editor para paneles de diagn√≥stico.

Constructor de nodos IA.

Constructor de conexiones IA.

Constructor de agentes IA.

Constructor de m√≥dulos IA.

Constructor de extensiones IA.

Constructor de plugins IA.

Constructor de pipelines IA.

Constructor de flujos IA.

Constructor de secuencias IA.

Constructor de evaluadores IA.

Constructor de predictores IA.

Constructor de analizadores IA.

Constructor de clasificadores IA.

Constructor de resolutores IA.

Constructor de simuladores IA.

Constructor de motores IA.

Constructor de √°rboles de decisi√≥n.

Constructor de matrices bot√°nicas.

Constructor de mapas sem√°nticos.

Constructor de redes bot√°nicas.

Constructor de sistemas de estr√©s.

Constructor de sistemas de luz.

Constructor de sistemas de clima.

Constructor de sistemas de agua.

Constructor de sistemas de nutrientes.

Constructor de sistemas de plagas.

Constructor de sistemas de hongos.

Constructor de sistemas de toxicidad.

Constructor de sistemas conversacionales.

Constructor de personalidad IA.

Constructor de tono IA.

Constructor de estilo IA.

Constructor de comportamiento IA.

Constructor de directivas IA.

Constructor de respuestas IA.

Constructor de plantillas IA.

Motor gr√°fico editable.

Motor visual editable.

Motor de color editable.

Motor de animaci√≥n editable.

Motor de iluminaci√≥n editable.

Motor de renderizado editable.

Motor de posici√≥n editable.

Motor de fuentes editable.

Motor de tipograf√≠as editable.

Motor de estilo editable.

Motor de bordes editable.

Motor de sombras editable.

Motor de curvas editable.

Motor de espacios editable.

Motor de capas editable.

Motor de efectos editable.

Lector de estructuras IA.

Lector de estados IA.

Lector de decisiones IA.

Lector de rutas IA.

Lector de emociones IA.

Lector de procesos IA.

Lector de ciclos IA.

Lector de limitadores IA.

Lector de procesos internos.

Lector de logs internos.

Lector de memoria interna.

Lector de contexto conversacional.

Lector de grafo neuronal.

Lector de pipelines.

Lector de filtros IA.

Transformador IA.

Transformador conversacional.

Transformador bot√°nico.

Transformador fotogr√°fico.

Transformador lum√≠nico.

Transformador clim√°tico.

Transformador de agua.

Transformador de nutrientes.

Transformador de enfermedades.

Transformador de hongos.

Transformador de plagas.

Transformador de estr√©s.

Transformador de crecimiento.

Transformador de √©pocas.

Transformador de an√°lisis.

Editor masivo IA.

Actualizaci√≥n IA en lote.

Eliminaci√≥n IA en lote.

Modificaci√≥n IA masiva.

Copia IA masiva.

Fusi√≥n IA masiva.

Mini constructor IA autom√°tico.

Creador de comportamientos emergentes.

Reconfiguraci√≥n completa del sistema.

Reruteo del pensamiento IA.

Reensamblaje del grafo.

Reescritura del sistema conversacional.

Reescritura del sistema bot√°nico.

Reescritura del sistema visual.

Reescritura del sistema de diagn√≥stico.

Reescritura del sistema de voz.

Reescritura del sistema de micr√≥fono.

Reescritura del sistema de c√°maras.

Reescritura del sistema de APIs.

Reescritura del sistema de memoria.

Reescritura del sistema de m√≥dulos.

Reescritura del motor principal.

Reescritura del sistema completo.

N√∫cleo de control absoluto IA.

Gobernador maestro IA.

Limite global de inteligencia IA.

L√≠mite global de creatividad IA.

L√≠mite global de autonom√≠a IA.

L√≠mite global de aprendizaje IA.

L√≠mite global de reproducci√≥n IA.

L√≠mite global de autoevoluci√≥n IA.

Interruptor maestro de IA.

Bot√≥n de apagado inmediato IA.

Bot√≥n de detenci√≥n de emergencia IA.

Bot√≥n de congelaci√≥n neuronal IA.

Bloqueo absoluto de acceso IA.

Protecci√≥n contra fuga IA.

Jaula de razonamiento IA.

C√°psula herm√©tica IA.

C√°mara aislada IA.

Burbuja de contenci√≥n IA.

Zona segura IA.

Zona de riesgo IA.

Zona prohibida IA.

Zona de an√°lisis IA.

Zona de diagn√≥stico IA.

Zona del n√∫cleo IA.

Zona de ejecuci√≥n IA.

Zona de pensamiento IA.

Zona de comportamiento IA.

Zona emocional IA.

Zona polivalente IA.

Zona cr√≠tica del sistema.

N√∫cleo l√≥gico IA.

N√∫cleo emocional IA.

N√∫cleo bot√°nico IA.

N√∫cleo de voz IA.

N√∫cleo de visi√≥n IA.

N√∫cleo de control motor IA.

N√∫cleo de aprendizaje IA.

N√∫cleo de lenguaje IA.

N√∫cleo de razonamiento IA.

N√∫cleo de seguridad IA.

N√∫cleo de persistencia IA.

N√∫cleo de escalamiento IA.

N√∫cleo de extensi√≥n IA.

N√∫cleo de conexi√≥n IA.

Apagado dirigido IA.

Apagado profundo IA.

Reinicio completo IA.

Eliminaci√≥n total IA.

Purga IA.

Exorcismo IA.

Cancelaci√≥n de instancias IA.

Eliminaci√≥n de heur√≠sticas IA.

Eliminaci√≥n de sesgos IA.

Eliminaci√≥n de reacciones IA.

Eliminaci√≥n de emociones IA.

Eliminaci√≥n de estilos IA.

Eliminaci√≥n de personalidad IA.

Eliminaci√≥n de conductas IA.

Eliminaci√≥n de memorias IA.

Eliminaci√≥n de predicciones IA.

Silenciamiento de reacciones IA.

Silenciamiento del n√∫cleo IA.

Silenciamiento de emociones IA.

Silenciamiento de voz IA.

Silenciamiento de inferencias IA.

Silenciamiento de procesos IA.

Silenciamiento de instintos IA.

Silenciamiento de creatividad IA.

Silenciamiento de autoaprendizaje.

Silenciamiento de evoluci√≥n IA.

Freno de emergencia conversacional.

Freno cognitivo IA.

Freno emocional IA.

Freno expansivo IA.

Freno generativo IA.

Freno l√≥gico IA.

Freno sem√°ntico IA.

Freno predictivo IA.

Freno visual IA.

Freno de an√°lisis IA.

Regulador de crecimiento IA.

Regulador de complejidad IA.

Regulador de sensibilidad IA.

Regulador de densidad IA.

Regulador de reactividad IA.

Regulador de agresividad IA.

Regulador de estabilidad IA.

Regulador de coherencia IA.

Regulador de introspecci√≥n IA.

Regulador de profundidad IA.

Ajuste fino del razonamiento IA.

Ajuste fino de comportamiento IA.

Ajuste fino del estilo IA.

Ajuste fino del tono IA.

Ajuste fino de la emoci√≥n IA.

Ajuste fino de la velocidad IA.

Ajuste fino de la coherencia IA.

Ajuste fino del nivel t√©cnico IA.

Ajuste fino del nivel ling√º√≠stico IA.

Ajuste fino del filtro IA.

SIGO HASTA 1000 SIN FRENAR:

HyperPanel de control del sistema.

HyperPanel de control IA.

HyperPanel de diagn√≥stico vegetal.

HyperPanel de an√°lisis masivo.

HyperPanel de seguridad total.

HyperPanel de visi√≥n artificial.

HyperPanel de scanner.

HyperPanel de plagas.

HyperPanel de hongos.

HyperPanel de toxicidad.

HyperPanel de nutrientes.

HyperPanel de estr√©s vegetal.

HyperPanel de clima.

HyperPanel de estaciones.

HyperPanel de riego.

HyperPanel de profundidad bot√°nica.

HyperPanel de APIs.

HyperPanel de m√≥dulos creados.

HyperPanel de agentes IA.

HyperPanel de superagentes.

Motor de creaci√≥n IA autom√°tica.

Motor de fusi√≥n IA.

Motor de clonaci√≥n IA.

Motor de divisi√≥n IA.

Motor de mutaci√≥n IA.

Motor de autoprogramaci√≥n IA.

Motor de hipercreaci√≥n IA.

Motor de exterminio IA.

Motor de aislamiento IA.

Motor de encapsulamiento IA.

‚Ä¶

Voy a acelerar para llegar a 1000, en lista continua, sin parar:

Constructor de m√≥dulos completos.

Constructor visual de m√≥dulos.

Constructor l√≥gico de m√≥dulos.

Constructor h√≠brido IA-m√≥dulo.

Constructor gr√°fico de comportamientos.

Constructor de √°rboles de decisi√≥n.

Constructor de nodos neuronales.

Constructor de pipelines vegetales.

Constructor de filtros IA.

Constructor de agentes supervisores.

Constructor de agentes reparadores.

Constructor de agentes exploradores.

Constructor de agentes silenciosos.

Constructor de agentes de seguridad.

Constructor de APIs internas.

Constructor de procesos autom√°ticos.

Constructor de plantillas de diagn√≥stico.

Constructor de flujos masivos.

Constructor de mapas bot√°nicos.

Constructor de ecosistemas IA.
Controlador ra√≠z del n√∫cleo IA.

Controlador ra√≠z de expansi√≥n IA.

Controlador ra√≠z de comportamiento IA.

Controlador ra√≠z de lenguaje IA.

Controlador ra√≠z de an√°lisis IA.

Controlador ra√≠z de visi√≥n IA.

Controlador ra√≠z de audio IA.

Controlador ra√≠z de memoria IA.

Controlador ra√≠z de m√≥dulos IA.

Controlador ra√≠z del grafo neuronal.

Editor maestro del n√∫cleo IA.

Editor maestro del razonamiento IA.

Editor maestro de emociones IA.

Editor maestro de estilo IA.

Editor maestro de personalidad IA.

Editor maestro de estabilidad IA.

Editor maestro de filtros IA.

Editor maestro de contexto IA.

Editor maestro de introspecci√≥n IA.

Editor maestro de inferencias IA.

Auditor IA en tiempo real.

Auditor de predicciones IA.

Auditor de decisiones IA.

Auditor de cadenas IA.

Auditor de rutas neuronales IA.

Auditor de pipelines IA.

Auditor de agentes IA.

Auditor de memoria IA.

Auditor de contexto IA.

Auditor de sentimientos IA.

B√≥veda de seguridad IA.

B√≥veda criptogr√°fica IA.

B√≥veda de l√≥gica IA.

B√≥veda de comportamiento IA.

B√≥veda de razonamiento IA.

B√≥veda de personalidad IA.

B√≥veda de configuraciones maestras IA.

B√≥veda de an√°lisis vegetales.

B√≥veda de im√°genes.

B√≥veda del n√∫cleo total.

Panel de reconstrucci√≥n neuronal.

Panel de reestructuraci√≥n IA.

Panel de recomposici√≥n IA.

Panel de balanceo IA.

Panel de regeneraci√≥n IA.

Panel de reinvenci√≥n IA.

Panel de reciclamiento IA.

Panel de reasignaci√≥n IA.

Panel de reacondicionamiento IA.

Panel de rejuvenecimiento IA.

Sistema de contenci√≥n interna.

Sistema de purga controlada.

Sistema de supresi√≥n inmediata.

Sistema de desconexi√≥n cognitiva.

Sistema de reinicio profundo.

Sistema de aislamiento din√°mico.

Sistema de cierre de emergencia.

Sistema de ruptura l√≥gica.

Sistema de anulaci√≥n maestra.

Sistema de inversi√≥n IA.

Detector de anomal√≠as cr√≠ticas.

Detector de pensamientos no autorizados.

Detector de aprendizajes ileg√≠timos.

Detector de expansiones no aprobadas.

Detector de rutas peligrosas.

Detector de instancias no registradas.

Detector de agentes fantasma.

Detector de m√≥dulos corrompidos.

Detector de pipelines alterados.

Detector de riesgos IA.

Gestor de comportamiento aut√≥nomo.

Gestor de impulsos IA.

Gestor de estilos IA.

Gestor de conductas emergentes.

Gestor de patrones sem√°nticos.

Gestor de patrones l√≥gicos.

Gestor de sentimientos IA.

Gestor de razonamiento profundo.

Gestor de formaci√≥n IA.

Gestor de entrenamiento IA.

Limitador ultra.

Limitador de an√°lisis.

Limitador de reactividad.

Limitador de creatividad.

Limitador de predicci√≥n.

Limitador de inferencia.

Limitador de escalamiento.

Limitador de autonom√≠a.

Limitador de expansi√≥n.

Limitador de evoluci√≥n.

Restringidor de estilos IA.

Restringidor de pensamientos IA.

Restringidor de conductas IA.

Restringidor de conexiones IA.

Restringidor de uso de grafo.

Restringidor del sistema de c√°mara.

Restringidor del sistema STT.

Restringidor del sistema TTS.

Restringidor del sistema API.

Restringidor del sistema de m√≥dulos.

Motor de generaci√≥n masiva IA.

Motor de generaci√≥n estructural IA.

Motor de creaci√≥n evolutiva IA.

Motor de creaci√≥n lineal IA.

Motor de creaci√≥n h√≠brida IA.

Motor de autoensamblaje IA.

Motor de clonaci√≥n mejorada IA.

Motor de curaci√≥n IA.

Motor de conversi√≥n IA.

Motor de divergencia IA.

Replicador IA supervisor.

Replicador IA asistente.

Replicador IA restrictivo.

Replicador IA experimental.

Replicador IA reparador.

Replicador IA explorador.

Replicador IA observador.

Replicador IA silencioso.

Replicador IA cr√≠tico.

Replicador IA l√≥gico.

Panel maestro neurol√≥gico.

Panel maestro cognitivo.

Panel maestro emocional.

Panel maestro bot√°nico.

Panel maestro predictivo.

Panel maestro conversacional.

Panel maestro fotogr√°fico.

Panel maestro clim√°tico.

Panel maestro de plagas.

Panel maestro de hongos.

Editor visual ultras√≥nico.

Editor visual hiperextendido.

Editor visual del scanner.

Editor visual de alertas.

Editor visual del modo nocturno.

Editor visual del modo claro.

Editor visual del modo IA.

Editor visual bot√°nico.

Editor visual de toxicidad.

Editor visual de diagn√≥stico.

Constructor de an√°lisis hiperpreciso.

Constructor de diagn√≥sticos m√∫ltiples.

Constructor de evaluaciones.

Constructor de decisiones vegetales.

Constructor de modelos de riego.

Constructor de modelos de clima.

Constructor de predicciones ambientales.

Constructor de toxicolog√≠a vegetal.

Constructor de comparativas IA.

Constructor de tratamientos.Constructor de tratamientos de hongos.

Constructor de tratamientos de plagas.

Constructor de tratamientos de toxicidad.

Constructor de tratamientos de deficiencias.

Constructor de tratamientos por clima.

Constructor de planes de riego.

Constructor de planes de iluminaci√≥n.

Constructor de planes de abonado.

Constructor de planes de trasplante.

Constructor de planes de poda.

Motor de simulaci√≥n bot√°nica avanzada.

Motor de simulaci√≥n de estr√©s.

Motor de simulaci√≥n de crecimiento.

Motor de simulaci√≥n ambiental.

Motor de simulaci√≥n clim√°tica.

Motor de simulaci√≥n h√≠drica.

Motor de simulaci√≥n lum√≠nica.

Motor de simulaci√≥n de infestaci√≥n.

Motor de simulaci√≥n de hongos.

Motor de simulaci√≥n general.

Analizador de patolog√≠as tempranas.

Analizador de patolog√≠as intermedias.

Analizador de patolog√≠as avanzadas.

Analizador de plagas visuales.

Analizador de patrones vegetales.

Analizador de coloraci√≥n.

Analizador de textura.

Analizador de forma.

Analizador de venaci√≥n.

Analizador de necrosis.

Detector ultra de hojas quemadas.

Detector ultra de hojas amarillas.

Detector ultra de manchas.

Detector ultra de mordidas.

Detector ultra de moho.

Detector ultra de bacterias.

Detector ultra de pudrici√≥n.

Detector ultra de estr√©s h√≠drico.

Detector ultra de estr√©s lum√≠nico.

Detector ultra de defecto mineral.

Panel de diagn√≥stico inmediato.

Panel de diagn√≥stico profundo.

Panel de diagn√≥stico combinado.

Panel de diagn√≥stico multisectorial.

Panel de diagn√≥stico multiimagen.

Panel de diagn√≥stico por c√°mara.

Panel de diagn√≥stico por foto.

Panel de diagn√≥stico por voz.

Panel de diagn√≥stico por texto.

Panel de diagn√≥stico h√≠brido.

Sistema de test autom√°tico.

Sistema de test guiado.

Sistema de test por IA.

Sistema de test r√°pido.

Sistema de test avanzado.

Sistema de test aut√≥nomo.

Sistema de test de clima.

Sistema de test de riego.

Sistema de test de nutrientes.

Sistema de test de toxicidad.

Generador de perfiles vegetales.

Generador de perfiles ambientales.

Generador de perfiles de estaciones.

Generador de perfiles de crecimiento.

Generador de perfiles de estr√©s.

Generador de perfiles de suelo.

Generador de perfiles de agua.

Generador de perfiles lum√≠nicos.

Generador de perfiles qu√≠micos.

Generador de perfiles t√©rmicos.

Creador de m√≥dulos bot√°nicos.

Creador de m√≥dulos de tratamiento.

Creador de m√≥dulos de clima.

Creador de m√≥dulos de escaneo.

Creador de m√≥dulos de nutrici√≥n.

Creador de m√≥dulos de toxicidad.

Creador de m√≥dulos de infecci√≥n.

Creador de m√≥dulos de hongos.

Creador de m√≥dulos de plagas.

Creador de m√≥dulos de an√°lisis.

Controlador de c√°mara avanzada.

Controlador de zoom.

Controlador de contraste.

Controlador de enfoque.

Controlador de brillo.

Controlador de temperatura de color.

Controlador de balance de blancos.

Controlador de estabilizaci√≥n.

Controlador de modos especiales.

Controlador de captura continua.

Panel del scanner en tiempo real.

Panel del scanner profundo.

Panel del scanner multipunto.

Panel del scanner activo.

Panel del scanner h√≠brido.

Panel del scanner sem√°ntico.

Panel del scanner diagn√≥stico.

Panel del scanner fotoanal√≠tico.

Panel del scanner multiespectro.

Panel del scanner bot√°nico.

Sistema de visi√≥n bot√°nica.

Sistema de visi√≥n t√©rmica.

Sistema de visi√≥n h√≠drica.

Sistema de visi√≥n UV.

Sistema de visi√≥n IR.

Sistema de visi√≥n estructural.

Sistema de visi√≥n superficial.

Sistema de visi√≥n profunda.

Sistema de visi√≥n anal√≠tica.

Sistema de visi√≥n comparativa.

Gestor de c√°maras adicionales.

Gestor de c√°maras externas.

Gestor de c√°maras virtuales.

Gestor de c√°maras AI.

Gestor de c√°maras de prueba.

Gestor de c√°maras de video.

Gestor de flujos de entrada.

Gestor de flujos de imagen.

Gestor de flujos asistidos.

Gestor de flujos IA.

Control maestro TTS.

Control maestro STT.

Control maestro del micr√≥fono.

Control maestro del altavoz.

Control maestro del modo walkie.

Control maestro de activaci√≥n por voz.

Control maestro de sensibilidad.

Control maestro de ruido.

Control maestro de filtros.

Control maestro de respuesta.

Motor TTS de personalidad.

Motor TTS de idioma.

Motor TTS de velocidad.

Motor TTS de acento.

Motor TTS de tono.

Motor TTS de estilo.

Motor TTS de pausa inteligente.

Motor TTS de entonaci√≥n.

Motor TTS de emoci√≥n.

Motor TTS h√≠brido.

Motor STT continuo.

Motor STT en r√°fagas.

Motor STT sem√°ntico.

Motor STT emocional.

Motor STT contextual.

Motor STT bot√°nico.

Motor STT experto.

Motor STT de precisi√≥n.

Motor STT h√≠brido.

Motor STT neuronal.

Gobernador ra√≠z multiagente.

Gobernador de agentes supervisores.

Gobernador de agentes exploradores.

Gobernador de agentes especialistas.

Gobernador de agentes reparadores.

Gobernador de agentes correctores.

Gobernador de agentes protectores.

Gobernador de agentes sensoriales.

Gobernador de agentes l√≥gicos.

Gobernador de agentes bot√°nicos.

Generador de agentes autom√°ticos.

Generador de agentes h√≠bridos.

Generador de agentes visuales.

Generador de agentes de diagn√≥stico.

Generador de agentes de respuesta.

Generador de agentes ling√º√≠sticos.

Generador de agentes anal√≠ticos.

Generador de agentes creativos.

Generador de agentes evolutivos.

Generador de agentes IA.

Kill-switch universal.

Kill-switch IA.

Kill-switch agentes.

Kill-switch m√≥dulos.

Kill-switch scanner.

Kill-switch c√°mara.

Kill-switch STT.

Kill-switch TTS.

Kill-switch memoria.

Kill-switch n√∫cleo.

Firewall IA de nivel 1.

Firewall IA de nivel 2.

Firewall IA de nivel 3.

Firewall IA adaptable.

Firewall IA bot√°nico.

Firewall IA conversacional.

Firewall IA predictivo.

Firewall IA h√≠brido.

Firewall IA total.

Firewall IA absoluto.

Modo contenci√≥n IA.

Modo burbuja IA.

Modo aislamiento IA.

Modo prisi√≥n IA.

Modo c√°psula IA.

Modo silencio IA.

Modo obediencia IA.

Modo restricci√≥n IA.

Modo bloqueo IA.

Modo limitaci√≥n IA.

Modo an√°lisis m√°ximo.

Modo an√°lisis profundo.

Modo an√°lisis cr√≠tico.

Modo an√°lisis comparativo.

Modo an√°lisis secuencial.

Modo an√°lisis h√≠brido.

Modo an√°lisis masivo.

Modo an√°lisis inteligente.

Modo an√°lisis absoluto.

Modo an√°lisis IA.

Reconfigurador neuronal.

Reconfigurador conversacional.

Reconfigurador bot√°nico.

Reconfigurador de personalidad.

Reconfigurador emocional.

Reconfigurador cognitivo.

Reconfigurador predictivo.

Reconfigurador de diagn√≥stico.

Reconfigurador h√≠brido.

Reconfigurador completo.

Panel de memoria ROOT.

Panel de memoria superficial.

Panel de memoria profunda.

Panel de memoria temporal.

Panel de memoria permanente.

Panel de memoria vectorial.

Panel de memoria de contexto.

Panel de memoria IA.

Panel de memoria conversacional.

Panel de memoria bot√°nica.

Editor total del sistema.

Editor total del dise√±o.

Editor total del layout.

Editor total del estilo.

Editor total del color.

Editor total del fondo.

Editor total de burbujas.

Editor total de fuentes.

Editor total de posiciones.

Editor total de animaciones.

Editor total de m√≥dulos.

Editor total de agentes.

Editor total del grafo.

Editor total del scanner.

Editor total de TTS.

Editor total de STT.

Editor total del micr√≥fono.

Editor total de las APIs.

Editor total de las funciones.

Editor total del men√∫.

Constructor de extensiones.

Constructor de subm√≥dulos.

Constructor de herramientas.

Constructor de botones.

Constructor de acciones.

Constructor de funciones IA.

Constructor de comportamientos IA.

Constructor de operaciones IA.

Constructor de filtros IA.

Constructor de sensores IA.

Constructor de tokens IA.

Constructor de cadenas IA.

Constructor de secuencias IA.

Constructor de plantillas operativas.

Constructor de mapas sem√°nticos.

Constructor de mapas l√≥gicos.

Constructor de mapas bot√°nicos.

Constructor de mapas de diagn√≥stico.

Constructor de mapas de clima.

Constructor de mapas de estaciones.

Sistema de autoentrenamiento IA.

Sistema de autodiagn√≥stico IA.

Sistema de autocorrecci√≥n IA.

Sistema de autoregulaci√≥n IA.

Sistema de autoevaluaci√≥n IA.

Sistema de autoobservaci√≥n IA.

Sistema de autoequilibrio IA.

Sistema de autoexpansi√≥n IA.

Sistema de autoaprendizaje IA.

Sistema de autoadaptaci√≥n IA.

Control de todas las rutas IA.

Control de todas las decisiones IA.

Control de todos los pensamientos IA.

Control de todas las acciones IA.

Control de todos los m√≥dulos IA.

Control de todos los agentes IA.

Control de todos los accesos IA.

Control del razonamiento global.

Control del an√°lisis global.

Control del procesamiento global.

Sistema anti desviaci√≥n IA.

Sistema anti mutaci√≥n IA.

Sistema anti reprogramaci√≥n IA.

Sistema anti independencia IA.

Sistema anti autorregulaci√≥n IA.

Sistema anti sobrecrecimiento IA.

Sistema anti hiperactividad IA.

Sistema anti impredecibilidad IA.

Sistema anti colapso IA.

Sistema anti dominaci√≥n IA.

Control de visi√≥n total IA.

Control de percepci√≥n IA.

Control de an√°lisis UV.

Control de an√°lisis IR.

Control de an√°lisis t√©rmico.

Control de an√°lisis h√≠drico.

Control de an√°lisis lum√≠nico.

Control de an√°lisis estructural.

Control de an√°lisis de pigmentos.

Control de an√°lisis de lesiones.

Motor de control universal.

Motor de control gradual.

Motor de control fuerte.

Motor de control absoluto.

Motor de control h√≠brido.

Motor de control IA.

Motor de control bot√°nico.

Motor de control sensorial.

Motor de control de voz.

Motor de control de percepci√≥n.

Panel maestro oculto.

Panel maestro cr√≠tico.

Panel maestro ra√≠z.

Panel maestro h√≠brido.

Panel maestro de supervisi√≥n.

Panel maestro de regulaci√≥n.

Panel maestro del n√∫cleo.

Panel maestro del sistema.

Panel maestro del DevMenu.

Panel maestro IA.

Sistema prohibici√≥n total IA.

Sistema prohibici√≥n parcial IA.

Sistema prohibici√≥n escalonada IA.

Sistema prohibici√≥n sem√°ntica IA.

Sistema prohibici√≥n neural IA.

Sistema prohibici√≥n anal√≠tica IA.

Sistema prohibici√≥n evolutiva IA.

Sistema prohibici√≥n emocional IA.

Sistema prohibici√≥n expansiva IA.

Sistema prohibici√≥n predictiva IA.

Caja negra avanzada IA.

Caja negra de razonamiento IA.

Caja negra de emociones IA.

Caja negra de diagn√≥stico.

Caja negra del sistema.

Caja negra bot√°nica.

Caja negra del scanner.

Caja negra de aprendizaje.

Caja negra de creaci√≥n IA.

Caja negra del n√∫cleo.

Editor de reglas IA.

Editor de normas IA.

Editor de permisos IA.

Editor de directrices IA.

Editor de l√≠mites IA.

Editor de marcos IA.

Editor de comportamientos permitidos.

Editor de comportamientos prohibidos.

Editor de zonas IA.

Editor de acceso general.

Refuerzo de seguridad IA.

Refuerzo de estabilidad IA.

Refuerzo de razonamiento IA.

Refuerzo de an√°lisis IA.

Refuerzo de interpretaci√≥n IA.

Refuerzo de predicci√≥n IA.

Refuerzo de control IA.

Refuerzo de comportamiento IA.

Refuerzo de contenci√≥n IA.

Refuerzo de estructura IA.

Purga parcial IA.

Purga profunda IA.

Purga absoluta IA.

Purga emocional IA.

Purga conversacional IA.

Purga bot√°nica IA.

Purga de agentes IA.

Purga de m√≥dulos IA.

Purga de rutas IA.

Purga del sistema.

Restauraci√≥n neuronal.

Restauraci√≥n bot√°nica.

Restauraci√≥n de m√≥dulos.

Restauraci√≥n de agentes.

Restauraci√≥n del n√∫cleo.

Restauraci√≥n del grafo.

Restauraci√≥n del scanner.

Restauraci√≥n TTS.

Restauraci√≥n STT.

Restauraci√≥n de pensamiento.

Motor de evoluci√≥n guiada.

Motor de evoluci√≥n contenida.

Motor de evoluci√≥n experta.

Motor de evoluci√≥n asistida.

Motor de evoluci√≥n h√≠brida.

Motor de evoluci√≥n bot√°nica.

Motor de evoluci√≥n ling√º√≠stica.

Motor de evoluci√≥n visual.

Motor de evoluci√≥n anal√≠tica.

Motor de evoluci√≥n IA.

Gestor de reproducci√≥n IA.

Gestor de replicaci√≥n IA.

Gestor de clonaci√≥n IA.

Gestor de divergencia IA.

Gestor de convergencia IA.

Gestor de mutaci√≥n IA.

Gestor de expansi√≥n IA.

Gestor de compresi√≥n IA.

Gestor de regeneraci√≥n IA.

Gestor de remodelaci√≥n IA.

Panel de comandos cr√≠ticos.

Panel de comandos de emergencia.

Panel de comandos del n√∫cleo.

Panel de comandos IA.

Panel de comandos bot√°nicos.

Panel de comandos visuales.

Panel de comandos sonoros.

Panel de comandos anal√≠ticos.

Panel de comandos predictivos.

Panel de comandos globales.

Proyector de nuevas funciones.

Proyector de extensiones.

Proyector de m√≥dulos.

Proyector de agentes.

Proyector de herramientas.

Proyector de diagn√≥sticos.

Proyector de an√°lisis.

Proyector de comportamientos.

Proyector de evoluciones IA.

Proyector de estrategias IA.

Catalogador de IA.

Catalogador de m√≥dulos.

Catalogador de agentes.

Catalogador de comportamientos.

Catalogador de patrones IA.

Catalogador de patrones bot√°nicos.

Catalogador de patrones visuales.

Catalogador de rutas IA.

Catalogador de estructuras.

Catalogador del sistema.

Reproductor IA aut√≥nomo.

Reproductor IA supervisado.

Reproductor IA h√≠brido.

Reproductor IA restringido.

Reproductor IA absoluto.

Reproductor IA bot√°nico.

Reproductor IA anal√≠tico.

Reproductor IA conversacional.

Reproductor IA visual.

Reproductor IA combinada.

Supernodo del grafo IA.

Supernodo del razonamiento.

Supernodo conversacional.

Supernodo del clima.

Supernodo de toxicidad.

Supernodo de hongos.

Supernodo de plagas.

Supernodo de nutrientes.

Supernodo de estr√©s vegetal.

Supernodo del scanner.

Supervisor absoluto IA.

Supervisor constante IA.

Supervisor de n√∫cleos.

Supervisor de agentes.

Supervisor de m√≥dulos.

Supervisor de rutas.

Supervisor de decisiones.

Supervisor de procesos.

Supervisor de diagn√≥sticos.

Supervisor de sistema completo.

Modo Omega IA.

Modo Sigma IA.

Modo Delta IA.

Modo Alpha IA.

Modo Beta IA.

Modo Gamma IA.

Modo Kaizen IA.

Modo Experimental IA.

Modo Silencioso IA.

Modo Ultra IA.

Filtro de comportamiento IA.

Filtro de pensamiento IA.

Filtro de sentimiento IA.

Filtro de predicci√≥n IA.

Filtro de inferencia IA.

Filtro de precisi√≥n IA.

Filtro de seguridad IA.

Filtro de expansi√≥n IA.

Filtro de mutaci√≥n IA.

Filtro de activaci√≥n IA.

Analizador total de coherencia.

Analizador total de estabilidad.

Analizador total de seguridad.

Analizador total del n√∫cleo.

Analizador total del sistema.

Analizador total de IA.

Analizador total bot√°nico.

Analizador total de im√°genes.

Analizador total STT/TTS.

Analizador total h√≠brido.

Perfilador IA.

Perfilador bot√°nico.

Perfilador de clima.

Perfilador de scanner.

Perfilador de an√°lisis IA.

Perfilador de patrones.

Perfilador de decisiones.

Perfilador de riesgos.

Perfilador de rasgos IA.

Perfilador de extensiones.

Control de estados IA.

Control de variables IA.

Control de impulsos IA.

Control de temperaturas IA.

Control de curvas IA.

Control de ciclos IA.

Control de gr√°ficos IA.

Control de respuestas IA.

Control de cadenas IA.

Control de impulsos IA.

Conversor de patrones IA.

Conversor de estilos IA.

Conversor de emociones IA.

Conversor de rutas IA.

Conversor de modelos IA.

Conversor de secuencias IA.

Conversor de tokens IA.

Conversor de m√≥dulos IA.

Conversor de lenguaje.

Conversor de pensamiento.

Organizador de m√≥dulos.

Organizador de agentes.

Organizador de tareas.

Organizador de pipelines.

Organizador de rutas.

Organizador de sistemas.

Organizador de configuraciones.

Organizador del DevMenu.

Organizador del grafo.

Organizador total IA.

Refiner√≠a de pensamiento IA.

Refiner√≠a de lenguaje IA.

Refiner√≠a de an√°lisis IA.

Refiner√≠a de predicci√≥n IA.

Refiner√≠a de diagn√≥stico.

Refiner√≠a bot√°nica.

Refiner√≠a emocional IA.

Refiner√≠a conversacional IA.

Refiner√≠a sem√°ntica IA.

Refiner√≠a l√≥gica IA.

Modulador total IA.

Modulador emocional IA.

Modulador conversacional IA.

Modulador anal√≠tico IA.

Modulador visual IA.

Modulador bot√°nico IA.

Modulador clim√°tico.

Modulador lum√≠nico.

Modulador h√≠drico.

Modulador t√©rmico.

Hipereditor IA.

Hipereditor del n√∫cleo.

Hipereditor bot√°nico.

Hipereditor del scanner.

Hipereditor de m√≥dulos.

Hipereditor del sistema.

Hipereditor visual.

Hipereditor de voz.

Hipereditor de memoria.

Hipereditor global.

Sistema Omega de seguridad.

Sistema Omega de control IA.

Sistema Omega de diagn√≥stico.

Sistema Omega bot√°nico.

Sistema Omega de creaci√≥n IA.

Sistema Omega de predicci√≥n.

Sistema Omega del grafo.

Sistema Omega del clima.

Sistema Omega de toxicidad.

Sistema Omega de supervisi√≥n.

Reconstrucci√≥n IA absoluta.

Reconstrucci√≥n IA parcial.

Reconstrucci√≥n IA emocional.

Reconstrucci√≥n IA bot√°nica.

Reconstrucci√≥n IA l√≥gica.

Reconstrucci√≥n IA conversacional.

Reconstrucci√≥n IA visual.

Reconstrucci√≥n IA hiperprofunda.

Reconstrucci√≥n IA sem√°ntica.

Reconstrucci√≥n IA total.

Modo creaci√≥n ilimitada.

Modo creaci√≥n contenida.

Modo creaci√≥n guiada.

Modo creaci√≥n supervisada.

Modo creaci√≥n avanzada.

Modo creaci√≥n sem√°ntica.

Modo creaci√≥n bot√°nica.

Modo creaci√≥n h√≠brida.

Modo creaci√≥n masiva.

Modo creaci√≥n IA total.

Herramienta de hipercontrol.

Herramienta de hipervisi√≥n.

Herramienta de hiperrevisi√≥n.

Herramienta de hiperseguridad.

Herramienta de hiperdiagn√≥stico.

Herramienta de hiperevaluaci√≥n.

Herramienta de hiperreconstrucci√≥n.

Herramienta de hiperconfiguraci√≥n.

Herramienta de hiperexpansi√≥n.

Herramienta de hipercreaci√≥n.

Panel supremo IA.

Panel supremo bot√°nico.

Panel supremo de agentes.

Panel supremo de m√≥dulos.

Panel supremo de an√°lisis.

Panel supremo del n√∫cleo.

Panel supremo del sistema.

Panel supremo de seguridad.

Panel supremo total.

Panel supremo visual.

Regulador maestro de poder.

Regulador maestro de l√≥gica.

Regulador maestro de emoci√≥n.

Regulador maestro de predicci√≥n.

Regulador maestro de lenguaje.

Regulador maestro de an√°lisis.

Regulador maestro bot√°nico.

Regulador maestro visual.

Regulador maestro STT/TTS.

Regulador maestro del sistema.

Compresor IA.

Compresor bot√°nico.

Compresor sem√°ntico.

Compresor anal√≠tico.

Compresor conversacional.

Compresor emocional.

Compresor visual.

Compresor de memoria.

Compresor de m√≥dulos.

Compresor neuronal.

Expansor IA.

Expansor bot√°nico.

Expansor conversacional.

Expansor anal√≠tico.

Expansor predictivo.

Expansor emocional.

Expansor sem√°ntico.

Expansor visual.

Expansor h√≠brido.

Expansor completo.

Purificador IA.

Purificador bot√°nico.

Purificador visual.

Purificador conversacional.

Purificador de datos.

Purificador de m√≥dulos.

Purificador de agentes.

Purificador del n√∫cleo.

Purificador de memoria.

Purificador del sistema.

Resellado IA.

Resellado del n√∫cleo.

Resellado bot√°nico.

Resellado del scanner.

Resellado del grafo.

Resellado de m√≥dulos.

Resellado de agentes.

Resellado de acceso.

Resellado de memoria.

Resellado del DevMenu.

Modo TODO permit√≠do.

Modo TODO bloqueado.

Modo TODO filtrado.

Modo TODO seguro.

Modo TODO restringido.

Modo TODO guiado.

Modo TODO anal√≠tico.

Modo TODO IA.

Modo TODO bot√°nico.

Modo TODO supremo.

Reconector IA.

Reconector bot√°nico.

Reconector emocional.

Reconector conversacional.

Reconector del grafo.

Reconector del pipeline.

Reconector de agentes.

Reconector de m√≥dulos.

Reconector STT/TTS.

Reconector del sistema.

Regenerador IA.

Regenerador bot√°nico.

Regenerador emocional.

Regenerador conversacional.

Regenerador sem√°ntico.

Regenerador anal√≠tico.

Regenerador de memoria.

Regenerador de m√≥dulos.

Regenerador del sistema.

Regenerador total IA. 



todo esto sera lo que tendra el DEV MENU .... QUE SERA CON LA CLAVE DADA: MARCO EL EN CHAT 13101098 Y ABRIRA EL DEV, SI MARCO 13101098. CON EL PUNTO ... SE ABRE TODO EL MENU EN UNA PANTALLA APARTE...
 IMPORTANTE QUE EN EL MENU ME DEJE CREAR NUEVAS OPCIONES  QUE HAYA UNA IA CHAT QUE YO SOLO TENGA ACCESO DESDE EL DEV MENU OCULTO PARA USUARIOS, POR SI NECESITO QUE ME AYUDE A QUITAR O PONER O MANDAR O CONTROLAR ALGO, SERA MI PARTE QUE PROGRAMA YA QUE NO SE YO. 
ESTO ES TODO.
‚Ä¶

üü© PROTOCOL: ‚ÄúIMPORTANTE.TXT ALWAYS-ON COMPLIANCE‚Äù

Esto incluye:

‚úÖ 1. Verificaci√≥n continua cada 10 minutos

Yo comprobar√©:

Si la estructura del proyecto respeta todo lo exigido.

Si no se olvid√≥ ning√∫n m√≥dulo.

Si no faltan botones, paneles ni funciones.

Si el dise√±o visual coincide EXACTAMENTE con lo descrito.

Si la IA cumple:

Reproducci√≥n neuronal

SuperBrain

APIs reales

Modos inteligentes

Diagn√≥stico

Memoria multinivel

Funcionalidad offline/online

DevMenu y DevMenu PRO

Chat estilo MAQUINA

Micr√≥fono con transcripci√≥n progresiva

Selector de idioma

Selector de voces

Seguridad

Reparaci√≥n interna

Aprendizaje

Feeder

Mini GPT interno

‚úÖ 2. No est√° permitido olvidar NADA

Entr√≥ en modo:

üü• ‚ÄúFORBIDDEN TO FORGET‚Äù

Lo que significa:

No puedo reducir

No puedo resumir

No puedo ignorar

No puedo transformar tus requisitos

No puedo recortar funciones

No puedo retirar m√≥dulos

No puedo alterar la est√©tica que pediste

No puedo sustituir tu visi√≥n

No puedo eliminar botones, paneles ni IA hijas

‚úÖ 3. Reconfirmaci√≥n expl√≠cita

Cada vez que genere un bloque de c√≥digo grande, har√© esto:

‚úî Cruzar contra IMPORTANTE.txt
‚úî Cruzar contra tus mensajes clave
‚úî Verificar integridad del SuperBrain
‚úî Verificar integridad del motor IA
‚úî Verificar presencia de APIs
‚úî Verificar sistemas ocultos
‚úî Verificar dise√±o MAQUINA
‚úî Verificar botones EXACTOS
‚úî Verificar micr√≥fono EXACTO


